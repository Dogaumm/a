<roblox xmlns:xmime="http://www.w3.org/2005/05/xmlmime" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.roblox.com/roblox.xsd" version="4">
	<External>null</External>
	<External>nil</External>
	<Item class="Folder" referent="RBXD65BC8F0941943D8BDB9AF376B3EDDC1">
		<Properties>
			<BinaryString name="AttributesSerialize"></BinaryString>
			<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
			<bool name="DefinesCapabilities">false</bool>
			<string name="Name">Lume UI</string>
			<int64 name="SourceAssetId">-1</int64>
			<BinaryString name="Tags"></BinaryString>
		</Properties>
		<Item class="Script" referent="RBX5342F8E08E074D978DAF70CF20531A54">
			<Properties>
				<ProtectedString name="Source"><![CDATA[local RequireCore = require(script.Parent.Core.RequireCore)

local Config = RequireCore.Config.Data

local UIController = RequireCore.UIController
local ActionService = RequireCore.ActionService
local CoreController = RequireCore.CoreController
local ThemeManager = RequireCore.ThemeManager
local ZoomTool = RequireCore.ZoomTool

local toolbarHandle = nil
local buttonHandle = nil
local mainWidgetHandle = nil
local connections = {}

local function cleanup()
	if UIController and UIController.Widget then
		pcall(function() UIController.Widget:Destroy() end)
	end
	
	ZoomTool.cleanup()
	CoreController.cleanup()
	
	for _, conn in ipairs(connections) do
		if conn then conn:Disconnect() end
	end
	table.clear(connections)
	
	print(Config.PluginName .. " session cleaned.")
end

plugin.Unloading:Connect(cleanup)

local function Init()
	toolbarHandle = plugin:CreateToolbar(Config.ToolbarName)
	
	local uiControllerInstance = UIController.init(plugin)
	mainWidgetHandle = uiControllerInstance.Widget
	
	ThemeManager.Initialize()
	ActionService.Init(uiControllerInstance.MainFrame)
	CoreController.Init()
	ZoomTool.setState(RequireCore.State)
	ZoomTool.init(plugin)
	
	buttonHandle = toolbarHandle:CreateButton(
		Config.ButtonName, 
		Config.ButtonToolTip,
		""
	)
	buttonHandle.ClickableWhenViewportHidden = true

	local clickConn = buttonHandle.Click:Connect(function()
		if mainWidgetHandle then
			uiControllerInstance:Toggle()
			buttonHandle:SetActive(mainWidgetHandle.Enabled)
		end
	end)
	table.insert(connections, clickConn)

	local widgetConn = mainWidgetHandle:GetPropertyChangedSignal("Enabled"):Connect(function()
		if buttonHandle then
			buttonHandle:SetActive(mainWidgetHandle.Enabled)
		end
	end)
	table.insert(connections, widgetConn)

	print(Config.PluginName .. " " .. Config.Version .. " initialized.")
end

Init()]]></ProtectedString>
				<bool name="Disabled">false</bool>
				<Content name="LinkedSource"><null></null></Content>
				<token name="RunContext">0</token>
				<string name="ScriptGuid">{BF733344-E7D6-44E9-9CF2-F1A36A739EFE}</string>
				<BinaryString name="AttributesSerialize"></BinaryString>
				<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
				<bool name="DefinesCapabilities">false</bool>
				<string name="Name">Main</string>
				<int64 name="SourceAssetId">-1</int64>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
		</Item>
		<Item class="Folder" referent="RBXA8A11A9AF1D943499F2F2C53085CF55D">
			<Properties>
				<BinaryString name="AttributesSerialize"></BinaryString>
				<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
				<bool name="DefinesCapabilities">false</bool>
				<string name="Name">Module</string>
				<int64 name="SourceAssetId">-1</int64>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
			<Item class="Folder" referent="RBX297FD9BC4E034641824ABDF192A7AD8A">
				<Properties>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">Utils</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
				<Item class="ModuleScript" referent="RBX6989B6973E8E4CA8AD555321B54EF341">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local Selection = game:GetService("Selection")
local SelectionHelper = {}

function SelectionHelper.GetSelectedGUIs()
	local found = {}
	for _, obj in ipairs(Selection:Get()) do
		if obj:IsA("GuiObject") then
			table.insert(found, obj)
		end
	end
	return found
end

function SelectionHelper.Apply(callback)
	local targets = SelectionHelper.GetSelectedGUIs()
	local history = game:GetService("ChangeHistoryService")

	if #targets > 0 then
		history:SetWaypoint("LumeAction_Before")
		for _, gui in ipairs(targets) do
			callback(gui)
		end
		history:SetWaypoint("LumeAction_After")
	end
end

return SelectionHelper]]></ProtectedString>
						<string name="ScriptGuid">{D6262F78-54A7-4D92-BC9A-00CCEF733987}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">SelectionHelper</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXB7C28F3B6BDC4A258B8C683E39A0CD7A">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local CoordinateHelper = {}
local GuiService = game:GetService("GuiService")
local Workspace = game:GetService("Workspace")

function CoordinateHelper.getAccumulatedUIScale(instance)
	local scale = 1
	local current = instance
	while current do
		if current:IsA("GuiObject") or current:IsA("ScreenGui") then
			local uiScale = current:FindFirstChildOfClass("UIScale")
			if uiScale then
				scale = scale * uiScale.Scale
			end
		end
		current = current.Parent
	end
	return scale
end

function CoordinateHelper.getParentAbsoluteContentRect(parent)
	if not parent then return Vector2.zero, Vector2.zero end

	local parentAbsPos = Vector2.zero
	local parentAbsSize = Vector2.zero

	if parent:IsA("GuiObject") then
		parentAbsPos = parent.AbsolutePosition
		parentAbsSize = parent.AbsoluteSize

	elseif parent:IsA("ScreenGui") or parent:IsA("PluginGui") then
		parentAbsSize = parent.AbsoluteSize

		local ignoreInset = true
		if parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then
			ignoreInset = false
		end

		if not ignoreInset then
			local inset = GuiService:GetGuiInset()
			parentAbsPos = inset
			parentAbsSize = parentAbsSize - inset
		end

	elseif parent == Workspace or parent == Workspace.CurrentCamera then
		if Workspace.CurrentCamera then
			parentAbsSize = Workspace.CurrentCamera.ViewportSize
		end
	end

	local padding = parent:FindFirstChildOfClass("UIPadding")
	if padding then
		local w = parentAbsSize.X
		local h = parentAbsSize.Y

		local pLeft = padding.PaddingLeft.Offset + (padding.PaddingLeft.Scale * w)
		local pTop = padding.PaddingTop.Offset + (padding.PaddingTop.Scale * h)
		local pRight = padding.PaddingRight.Offset + (padding.PaddingRight.Scale * w)
		local pBottom = padding.PaddingBottom.Offset + (padding.PaddingBottom.Scale * h)

		parentAbsPos = parentAbsPos + Vector2.new(pLeft, pTop)
		parentAbsSize = parentAbsSize - Vector2.new(pLeft + pRight, pTop + pBottom)
	end

	if parentAbsSize.X < 1 then parentAbsSize = Vector2.new(1, parentAbsSize.Y) end
	if parentAbsSize.Y < 1 then parentAbsSize = Vector2.new(parentAbsSize.X, 1) end

	return parentAbsPos, parentAbsSize
end

return CoordinateHelper]]></ProtectedString>
						<string name="ScriptGuid">{28588AB4-42E2-47D0-8C82-FE7A88A227CC}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">CoordinateHelper</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXDD597866EB6446F096C7D5124403751B">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local InputHandler = {}
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local activeHolds = {}

function InputHandler.BindPressAndHoldWithModifier(button, onHoldCallback, config)
	config = config or {}
	local normalInterval = config.normalInterval or 0.1 -- normal
	local fastInterval = config.fastInterval or 0.03 -- shift
	local initialDelay = config.initialDelay or 0.5 -- hold

	local isHolding = false
	local holdStartTime = 0
	local lastExecutionTime = 0
	local holdConnection = nil

	button.MouseButton1Down:Connect(function()
		isHolding = true
		holdStartTime = tick()
		lastExecutionTime = tick()

		pcall(onHoldCallback)

		holdConnection = RunService.Heartbeat:Connect(function(deltaTime)
			if not isHolding then return end

			local currentTime = tick()
			local elapsed = currentTime - holdStartTime
			local timeSinceLastExec = currentTime - lastExecutionTime

			if elapsed >= initialDelay then
				local isShiftDown = UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.RightShift)

				local currentInterval = isShiftDown and fastInterval or normalInterval

				if timeSinceLastExec >= currentInterval then
					pcall(onHoldCallback)
					lastExecutionTime = currentTime
				end
			end
		end)
	end)

	button.MouseButton1Up:Connect(function()
		isHolding = false
		if holdConnection then
			holdConnection:Disconnect()
			holdConnection = nil
		end
	end)

	button.MouseLeave:Connect(function()
		isHolding = false
		if holdConnection then
			holdConnection:Disconnect()
			holdConnection = nil
		end
	end)
end

return InputHandler]]></ProtectedString>
						<string name="ScriptGuid">{7ECC4623-202C-4BA1-9153-B42851842C75}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">InputHandler</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="Folder" referent="RBX911E2D27963149B1818435032A95E3B8">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Service</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBX703086B696934489B01A2B99328C2462">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ActionService = {}
local buttonCache = {}

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CollectionService = game:GetService("CollectionService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local Config = RequireCore.Config.Data
local State = RequireCore.State
local InputHandler = RequireCore.InputHandler
local UI = RequireCore.UIFramework
local ThemeManager = RequireCore.ThemeManager
local Wallpaper = RequireCore.Wallpaper
local ColorPicker = RequireCore.ColorPicker

---

local AlignmentTool = RequireCore.AlignmentTool
local AnchorPointTool = RequireCore.AnchorPointTool
local ConvertTool = RequireCore.ConvertTool
local MoveTool = RequireCore.MoveTool
local GridTool = RequireCore.GridTool
local DefaultPropertiesTool = RequireCore.DefaultPropertiesTool
local ZoomTool = RequireCore.ZoomTool
local BoundTool = RequireCore.BoundTool
local ImageContentTool = RequireCore.ImageContentTool
local UIConvert = RequireCore.UIConvertTool

---

local rootInterface = nil

---

local function roundToStep(value, step)
	return math.floor((value / step) + 0.5) * step
end

---

---

local function HandleAnchorConfig(configType)
	if configType == "Anchor" then
		State.Set("Anchor_PreservePosition", not State.Get("Anchor_PreservePosition"))
	end
end

local function HandleAlignConfig(configType)
	if configType == "Scale" then
		State.Set("Align_Scale", true)
		State.Set("Align_Offset", false)

	elseif configType == "Offset" then
		State.Set("Align_Scale", false)
		State.Set("Align_Offset", true)

	elseif configType == "DefaultSize" then
		State.Set("Align_DefaultSize", true)
		State.Set("Align_AbsoluteSize", false)

	elseif configType == "AbsoluteSize" then
		State.Set("Align_DefaultSize", false)
		State.Set("Align_AbsoluteSize", true)
		
	elseif configType == "FrozenX" then
		State.Set("Align_FrozenX", not State.Get("Align_FrozenX"))
		
	elseif configType == "FrozenY" then
		State.Set("Align_FrozenY", not State.Get("Align_FrozenY"))

	elseif configType == "BypassAnchor" then
		State.Set("Align_BypassAnchor", not State.Get("Align_BypassAnchor"))

	elseif configType == "NoEscape" then
		State.Set("Align_NoEscape", not State.Get("Align_NoEscape"))
		
	end
end

local function HandleConvertConfig(configType)
	if configType == "BypassX" then
		State.Set("Convert_BypassX", not State.Get("Convert_BypassX"))
		
	elseif configType == "BypassY" then
		State.Set("Convert_BypassY", not State.Get("Convert_BypassY"))
		
	end
end

local function HandleGridConfig(configType)
	if configType == "GridEnabled" then
		State.Set("GridEnabled", not State.Get("GridEnabled"))
	end
end

local function HandleMoveConfig(configType)
	if configType == "Scale" then
		State.Set("Move_Scale", true)
		State.Set("Move_Offset", false)
		
	elseif configType == "Offset" then
		State.Set("Move_Scale", false)
		State.Set("Move_Offset", true)
		
	elseif configType == "FrozenX" then
		State.Set("Move_FrozenX", not State.Get("Move_FrozenX"))
		
	elseif configType == "FrozenY" then
		State.Set("Move_FrozenY", not State.Get("Move_FrozenY"))
		
	elseif configType == "NoEscape" then
		State.Set("Move_NoEscape", not State.Get("Move_NoEscape"))
		
	elseif configType == "BypassAnchor" then
		State.Set("Move_BypassAnchor", not State.Get("Move_BypassAnchor"))
		
	elseif configType == "PreservePosition" then
		State.Set("Move_PreservePosition", not State.Get("Move_PreservePosition"))
	
	end
end

local function HandleBoundConfig(configType)
	if configType == "PreservePosition" then
		State.Set("Bound_PreservePosition", not State.Get("Bound_PreservePosition"))
	end
end

local function HandleImageContentConfig(configType)
	if configType == "Scale" then
		ImageContentTool.ConvertToScale()

	elseif configType == "Offset" then
		ImageContentTool.ConvertToOffset()

	elseif configType == "AspectRatio" then
		State.Set("ImageContent_AspectRatio", not State.Get("ImageContent_AspectRatio"))
	end
end

local function HandleUIConvertConfig(configType)
	if configType == "FrozenX" then
		State.Set("UIConvert_FrozenX", not State.Get("UIConvert_FrozenX"))
		
	elseif configType == "FrozenY" then
		State.Set("UIConvert_FrozenY", not State.Get("UIConvert_FrozenY"))
	
	end
end

---


local Actions = {
	
	--- ========== Transform
	-- ===== Anchor Points
	-- Config
	["btn-action-anchorpreserveposition"]				= function() HandleAnchorConfig("Anchor") end,
	["btn-action-anchorsmart"]							= function() AnchorPointTool.SmartDetect() end,
	
	--- Controllers
	["btn-action-anchor-center"]						= function() AnchorPointTool.Set(Vector2.new(0.5, 0.5)) end,
	["btn-action-anchor-left"]							= function() AnchorPointTool.Set(Vector2.new(0, 0.5)) end,
	["btn-action-anchor-right"]							= function() AnchorPointTool.Set(Vector2.new(1, 0.5)) end,
	["btn-action-anchor-up"]							= function() AnchorPointTool.Set(Vector2.new(0.5, 0)) end,
	["btn-action-anchor-bottom"]						= function() AnchorPointTool.Set(Vector2.new(0.5, 1)) end,
	
	["btn-action-anchor-upleft"]						= function() AnchorPointTool.Set(Vector2.new(0, 0)) end,
	["btn-action-anchor-upright"]						= function() AnchorPointTool.Set(Vector2.new(1, 0)) end,
	["btn-action-anchor-bottomleft"]					= function() AnchorPointTool.Set(Vector2.new(0, 1)) end,
	["btn-action-anchor-bottomright"]					= function() AnchorPointTool.Set(Vector2.new(1, 1)) end,
	
	
	
	
	
	-- ===== Alignment
	--- Config
	["btn-action-alignfrozenx"]             			= function() HandleAlignConfig("FrozenX") end,
	["btn-action-alignfrozeny"]             			= function() HandleAlignConfig("FrozenY") end,
	["btn-action-alignmentbypassanchorpoint"] 			= function() HandleAlignConfig("BypassAnchor") end,
	["btn-action-alignscale"]							= function() HandleAlignConfig("Scale") end,
	["btn-action-alignoffset"]							= function() HandleAlignConfig("Offset") end,
	["btn-action-aligndefaultsize"]						= function() HandleAlignConfig("DefaultSize") end,
	["btn-action-alignabsolutesize"]					= function() HandleAlignConfig("AbsoluteSize") end,
	["btn-action-alignmentnoescape"]					= function() HandleAlignConfig("NoEscape") end,
	
	--- Controllers
	["btn-action-align-center"]     					= function() AlignmentTool.Execute("Center", "Center") end,
	["btn-action-align-left"]        					= function() AlignmentTool.Execute("Min", "Center") end,
	["btn-action-align-right"]      					= function() AlignmentTool.Execute("Max", "Center") end,
	["btn-action-align-up"]          					= function() AlignmentTool.Execute("Center", "Min") end,
	["btn-action-align-bottom"]      					= function() AlignmentTool.Execute("Center", "Max") end,
	
	["btn-action-align-upleft"]      					= function() AlignmentTool.Execute("Min", "Min") end,
	["btn-action-align-upright"]     					= function() AlignmentTool.Execute("Max", "Min") end,
	["btn-action-align-bottomleft"]  					= function() AlignmentTool.Execute("Min", "Max") end,
	["btn-action-align-bottomright"] 					= function() AlignmentTool.Execute("Max", "Max") end,
	
	
	
	
	
	-- ===== Convert
	--- Config
	["btn-action-convertbypassx"]						= function() HandleConvertConfig("BypassX") end,
	["btn-action-convertbypassy"]						= function() HandleConvertConfig("BypassY") end,
	["btn-action-convertconstraint"]					= function() ConvertTool.AddAspectRatio() end,
	["btn-action-convertscaletext"]						= function() ConvertTool.ScaleText() end,
	
	--- Controllers
	["btn-action-convertscalesize"]						= function() ConvertTool.SizeToScale() end,
	["btn-action-convertoffsetsize"]					= function() ConvertTool.SizeToOffset() end,
	
	["btn-action-convertscaleposition"]					= function() ConvertTool.PositionToScale() end,
	["btn-action-convertoffsetposition"]				= function() ConvertTool.PositionToOffset() end,





	-- ===== Utility
	--- Controllers
	["btn-action-utility"] 								= function() DefaultPropertiesTool.ApplyDefaults() end,
	["btn-action-utility-position"]						= function() DefaultPropertiesTool.Position() end,
	["btn-action-utility-size"]							= function() DefaultPropertiesTool.Size() end,
	["btn-action-utility-background"]					= function() DefaultPropertiesTool.BackgroundTransparency() end,
	["btn-action-utility-anchorpoint"]					= function() DefaultPropertiesTool.AnchorPoint() end,
	["btn-action-utility-visibility"]					= function() DefaultPropertiesTool.Visibility() end,



	
	
	-- ===== Grid
	--- Config
	["btn-action-gridselectcolor"] 						= function() 
		local currentColor = State.Get("Grid_Color") or Color3.new(1, 1, 1)
		ColorPicker.open(currentColor, function(newColor)
			GridTool.UpdateColor(newColor)
		end) 
	end,
	["box-action-gridpaddingx"] 						= function(value)
		local num = tonumber(value)
		if not num then
			local cleaned = value:gsub("[^0-9]", "")
			cleaned = cleaned:gsub(",", ".")
			num = tonumber(cleaned)
		end

		if not num then num = 10 end

		num = math.clamp(num, 1, 100)

		State.Set("Grid_PaddingX", num)
		GridTool.UpdatePadding()

		return num
	end,
	["box-action-gridpaddingy"] 						= function(value)
		local num = tonumber(value)
		if not num then
			local cleaned = value:gsub("[^0-9]", "")
			cleaned = cleaned:gsub(",", ".")
			num = tonumber(cleaned)
		end

		if not num then num = 10 end

		num = math.clamp(num, 1, 100)

		State.Set("Grid_PaddingY", num)
		GridTool.UpdatePadding()

		return num
	end,
	["box-action-gridthickness"] 						= function(value)
		local num = tonumber(value)
		if not num then
			local cleaned = value:gsub("[^0-9]", "")
			num = tonumber(cleaned)
		end

		if not num then num = 1 end
		num = math.floor(num)
		num = math.clamp(num, 1, 100)

		State.Set("Grid_GridSize", num)
		return num
	end,
	
	--- Controllers
	["btn-action-grid"] 								= function() GridTool.Toggle() end,

	
	
	
	
	-- ===== Move
	--- Config
	["btn-action-movescale"]							= function() HandleMoveConfig("Scale") end,
	["btn-action-moveoffset"]							= function() HandleMoveConfig("Offset") end,
	["btn-action-movefrozenx"]							= function() HandleMoveConfig("FrozenX") end,
	["btn-action-movefrozeny"]							= function() HandleMoveConfig("FrozenY") end,
	["btn-action-movenoescape"]							= function() HandleMoveConfig("NoEscape") end,
	["btn-action-movebypassanchor"]						= function() HandleMoveConfig("BypassAnchor") end,
	["btn-action-movepreserveposition"]					= function() HandleMoveConfig("PreservePosition") end,
	["box-action-movepixel"]							= function(value) 
		local num = tonumber(value)

		if not num then
			local cleaned = value:gsub("[^0-9.,]", "")
			cleaned = cleaned:gsub(",", ".")
			num = tonumber(cleaned)
		end

		if not num then
			num = 1
		end

		num = math.clamp(num, 0.001, 100)

		State.Set("Move_Pixel", num)

		return num
	end,
	
	--- Controllers
	["btn-action-move-left"]							= function() MoveTool.MoveLeft() end,
	["btn-action-move-right"]							= function() MoveTool.MoveRight() end,
	["btn-action-move-up"]								= function() MoveTool.MoveUp() end,
	["btn-action-move-bottom"]							= function() MoveTool.MoveBottom() end,

	["btn-action-move-upleft"]							= function() MoveTool.MoveUpLeft() end,
	["btn-action-move-upright"]							= function() MoveTool.MoveUpRight() end,
	["btn-action-move-bottomleft"]						= function() MoveTool.MoveBottomLeft() end,
	["btn-action-move-bottomright"]						= function() MoveTool.MoveBottomRight() end,
	
	
	
	
	-- ===== UIConvert
	-- Config
	["btn-action-utility-uiconvert-frozenx"] 			= function() HandleUIConvertConfig("FrozenX") end,
	["btn-action-utility-uiconvert-frozeny"] 			= function() HandleUIConvertConfig("FrozenY") end,
	
	-- Controllers
	["btn-action-utility-uiconvert-scale"]				= function() UIConvert.ConvertAll("Scale") end,
	["btn-action-utility-uiconvert-offset"] 			= function() UIConvert.ConvertAll("Offset") end,
	["btn-action-utility-uiconvert-cellsizescale"] 		= function() UIConvert.ConvertCellSizeScale() end,
	["btn-action-utility-uiconvert-cellsizeoffset"] 	= function() UIConvert.ConvertCellSizeOffset() end,
	["btn-action-utility-uiconvert-cellpaddingscale"] 	= function() UIConvert.ConvertCellPaddingScale() end,
	["btn-action-utility-uiconvert-cellpaddingoffset"] 	= function() UIConvert.ConvertCellPaddingOffset() end,
	["btn-action-utility-uiconvert-scaledthickness"] 	= function() UIConvert.ConvertThickness("Scaled") end,
	["btn-action-utility-uiconvert-fixedthickness"] 	= function() UIConvert.ConvertThickness("Fixed") end,
	
	
	
	
	
	--- ========== Utility
	-- ===== Bound
	-- Config
	["btn-action-utility-preserveposition"] 			= function() HandleBoundConfig("PreservePosition") end,
	
	-- Controllers
	["btn-action-utility-bound"]						= function() BoundTool.Bound() end,
	["btn-action-utility-unbound"] 						= function() BoundTool.Unbound() end,
	
	
	
	
	
	---- ===== ImageContet
	-- Config
	["btn-action-utility-imagecontent-aspectratio"]		= function() ImageContentTool.ApplyAspectRatio() HandleImageContentConfig("AspectRatio") end,
	
	-- Controllers
	["btn-action-utility-imagecontent-scale"]			= function() ImageContentTool.ConvertToScale() HandleImageContentConfig("Scale") end,
	["btn-action-utility-imagecontent-offset"]			= function() ImageContentTool.ConvertToOffset() HandleImageContentConfig("Offset") end,
	
	
	
	
	
	-- ===== Zoom
	-- Controllers
	["btn-action-utility-zoom"]							= function() ZoomTool.toggle() end,
	
	
	
	
	--- ========== Configurations
	-- ===== Themes
	["btn-action-theme-default"] 						= function() if rootInterface then ThemeManager.SwitchTheme("Default", rootInterface) end end,
	["btn-action-theme-dark"] 							= function() if rootInterface then ThemeManager.SwitchTheme("Dark", rootInterface) end end,
	["btn-action-theme-light"] 							= function() if rootInterface then ThemeManager.SwitchTheme("Light", rootInterface) end end,
	["btn-action-theme-green"] 							= function() if rootInterface then ThemeManager.SwitchTheme("Green", rootInterface) end end,
	["btn-action-theme-figma"] 							= function() if rootInterface then ThemeManager.SwitchTheme("Figma", rootInterface) end end,
	["btn-action-theme-blender"] 						= function() if rootInterface then ThemeManager.SwitchTheme("Blender", rootInterface) end end,
	["btn-action-theme-midnight"] 						= function() if rootInterface then ThemeManager.SwitchTheme("Midnight", rootInterface) end end,
	["btn-action-theme-paper"] 							= function() if rootInterface then ThemeManager.SwitchTheme("Paper", rootInterface) end end,
	
	
}

local PressAndHoldPatterns = {
	"btn%-action%-move%-"
}

---

local function shouldUsePressAndHold(tagName)
	for _, pattern in ipairs(PressAndHoldPatterns) do
		if tagName:match(pattern) then
			return true
		end
	end
	return false
end

local function bindButton(instance, tagName)
	if not instance:IsA("GuiButton") then return end

	local callback = Actions[tagName]
	if not callback then return end

	if shouldUsePressAndHold(tagName) then
		InputHandler.BindPressAndHoldWithModifier(instance, callback, {
			initialDelay = 0.5, -- hold
			normalInterval = 0.1, -- normal
			fastInterval = 0.03 -- shift
		})
	else
		instance.Activated:Connect(function()
			local success, err = pcall(callback)
		end)
	end
end

local function bindTextBox(instance, tagName)
	if not instance:IsA("TextBox") then return end

	local callback = Actions[tagName]
	if not callback then return end

	local originalColor = instance.BackgroundColor3

	instance.FocusLost:Connect(function(enterPressed)
		local value = instance.Text

		local success, sanitizedValue = pcall(callback, value)

		if success and sanitizedValue then
			instance.BackgroundColor3 = Config.Global.Colors.SelectedColor
			instance.Text = tostring(sanitizedValue)

			task.delay(0.3, function()
				instance.BackgroundColor3 = originalColor
			end)
		else
			instance.BackgroundColor3 = Config.Global.Colors.UnselectedColor
			instance.Text = "1"

			task.delay(0.3, function()
				instance.BackgroundColor3 = originalColor
			end)
		end
	end)
end

local function updateButtonVisual(tagName, isActive)
	local buttons = CollectionService:GetTagged(tagName)
	for _, btn in ipairs(buttons) do
		if btn:GetAttribute("ActiveProps") then
			local currentState = btn:GetAttribute("IsActive") or false
			if currentState ~= isActive then
				UI.ToggleState(btn)
			end
		else
			UI.SetButtonActive(btn, isActive)
		end
	end
end

---

function ActionService.Init(root)
	if typeof(root) ~= "Instance" then	return end
	rootInterface = root

	local bindCount = 0

	for tagName, callback in pairs(Actions) do
		local taggedObjects = CollectionService:GetTagged(tagName)
		for _, instance in ipairs(taggedObjects) do
			if instance:IsDescendantOf(root) then
				if instance:IsA("GuiButton") then
					bindButton(instance, tagName)
					bindCount = bindCount + 1
				elseif instance:IsA("TextBox") and tagName:match("^box%-action%-") then
					bindTextBox(instance, tagName)
					bindCount = bindCount + 1
				end
			end
		end

		CollectionService:GetInstanceAddedSignal(tagName):Connect(function(instance)
			if instance:IsDescendantOf(root) then
				if instance:IsA("GuiButton") then
					bindButton(instance, tagName)
				elseif instance:IsA("TextBox") and tagName:match("^box%-action%-") then
					bindTextBox(instance, tagName)
				end
			end
		end)
	end
	
	task.defer(function()
		local allBooleans = State.GetAllBooleans()

		for stateKey, stateValue in pairs(allBooleans) do
			local possibleTag = "btn-action-" .. stateKey:lower():gsub("_", "")
			updateButtonVisual(possibleTag, stateValue)
		end
	end)

	State.Changed:Connect(function(stateKey, newValue)
		if type(newValue) == "boolean" then
			local possibleTag = "btn-action-" .. stateKey:lower():gsub("_", "")
			updateButtonVisual(possibleTag, newValue)
		end
	end)
end

function ActionService.Execute(actionName)
	local data = Actions[actionName]
	if data and data.Call then
		data.Call()
	end
end

function ActionService.dispatch(actionTag)
	local data = Actions[actionTag]
	if data and data.Call then
		local success, err = pcall(data.Call)
		if not success then
			warn("[ActionService Error]:", err)
		end
	end
end

return ActionService]]></ProtectedString>
							<string name="ScriptGuid">{87A5FCD6-79F1-4C00-8209-C01397994323}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ActionService</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
				<Item class="Folder" referent="RBXA022BC6616A049E58286E8EBD5D330E8">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Manager</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBXC34C085BB6044AE2B07B82A585C5A9DC">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local OverlayManager = {}
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State
local RotateTool = RequireCore.RotateTool

local screenGui = nil
local gridFrame = nil
local handlesContainer = nil

local function getGui()
	if screenGui then return screenGui end
	screenGui = CoreGui:FindFirstChild("Lume_CoreGui")
	return screenGui
end

function OverlayManager.ToggleGrid(isEnabled)
	if gridFrame then gridFrame:Destroy() gridFrame = nil end
	if not isEnabled then return end

	local parent = getGui()
	if not parent then return end

	gridFrame = Instance.new("Frame")
	gridFrame.Name = "GridOverlay"
	gridFrame.BackgroundTransparency = 1
	gridFrame.Size = UDim2.fromScale(1,1)
	gridFrame.Parent = parent

	local gapX = State.Get("Grid_PaddingX") or 10
	local color = State.Get("Grid_Color") or Color3.new(1,0,0)
end

function OverlayManager.MountRotationHandles(targetGui)
	if handlesContainer then handlesContainer:Destroy() end
	local parent = getGui()
	if not parent then return end

	handlesContainer = Instance.new("Frame")
	handlesContainer.Name = "Handles"
	handlesContainer.BackgroundTransparency = 1
	handlesContainer.Size = UDim2.fromScale(1,1)
	handlesContainer.Parent = parent
	
	local handleButton = Instance.new("TextButton")
	handleButton.Parent = handlesContainer
	handleButton.Size = UDim2.fromScale(1,1)
	handleButton.BackgroundTransparency = 1

	handleButton.MouseButton1Down:Connect(function()
		local mouseLoc = UserInputService:GetMouseLocation()
		local selection = State.GetSelection() 

		if #selection > 0 then
			RotateTool.BeginRotation(selection, mouseLoc)
		end
	end)
end

function OverlayManager.ClearHandles()
	if handlesContainer then handlesContainer:Destroy() handlesContainer = nil end
end

return OverlayManager]]></ProtectedString>
							<string name="ScriptGuid">{36663BC6-D27D-4CF0-88C8-6A3362B6D912}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">OverlayManager</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXE203893AD7804D808F6D5DF51269E817">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ThemeManager = {}

local TweenService = game:GetService("TweenService")
local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local Config = RequireCore.Config.Data
local Datastore = RequireCore.Datastore

local TWEEN_INFO = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

function ThemeManager.ApplyTheme(themeName, skipTween)
	local theme = Config.Themes[themeName]

	if not theme then
		return false
	end

	Config.Global.Colors = {}
	Config.Global.Fonts = {}

	local colorCount = 0
	
	for colorKey, colorValue in pairs(theme.Colors) do
		Config.Global.Colors[colorKey] = colorValue
		colorCount = colorCount + 1
	end
	
	for fontKey, fontValue in pairs(theme.Fonts) do
		Config.Global.Fonts[fontKey] = fontValue
	end

	Datastore.Set("Theme", themeName)
	
	return true
end

function ThemeManager.UpdateUI(rootInstance)
	if not rootInstance then
		return 
	end

	local updatedCount = 0

	local function updateElement(instance)
		if instance:IsA("GuiObject") then
			if instance.BackgroundTransparency < 1 then
				local oldColor = instance.BackgroundColor3

				local classes = instance:GetAttribute("StyleClasses") or ""

				if classes:find("section%-card") or instance.Name:find("Section") then
					TweenService:Create(instance, TWEEN_INFO, {
						BackgroundColor3 = Config.Global.Colors.SecondaryColor
					}):Play()
					updatedCount = updatedCount + 1

				elseif classes:find("btn%-accent2") or instance.Name:find("btn%-accent2") then
					TweenService:Create(instance, TWEEN_INFO, {
						BackgroundColor3 = Config.Global.Colors.AccentColor3
					}):Play()
					updatedCount = updatedCount + 1

				elseif classes:find("btn%-accent") or instance.Name:find("btn%-accent") then
					TweenService:Create(instance, TWEEN_INFO, {
						BackgroundColor3 = Config.Global.Colors.AccentColor
					}):Play()
					updatedCount = updatedCount + 1
				end
			end
			
			if instance:IsA("TextLabel") or instance:IsA("TextButton") or instance:IsA("TextBox") then
				local classes = instance:GetAttribute("StyleClasses") or ""
				if classes:find("Title") then
					TweenService:Create(instance, TWEEN_INFO, {
						TextColor3 = Config.Global.Colors.TextColor
					}):Play()
				end
			end
		end

		for _, child in ipairs(instance:GetChildren()) do
			updateElement(child)
		end
	end

	updateElement(rootInstance)
end

function ThemeManager.Initialize()
	local savedTheme = Datastore.Get("Theme", "Default")

	ThemeManager.ApplyTheme(savedTheme, true)
end

function ThemeManager.SwitchTheme(themeName, rootInstance)

	if ThemeManager.ApplyTheme(themeName) then

		if rootInstance then
			ThemeManager.UpdateUI(rootInstance)
		end

		return true
	end

	return false
end

function ThemeManager.GetCurrentTheme()
	return Datastore.Get("Theme", "Default")
end

function ThemeManager.GetAvailableThemes()
	local themes = {}
	for name, _ in pairs(Config.Themes) do
		table.insert(themes, name)
	end
	return themes
end

function ThemeManager.GetStudioTheme()
	local studio = settings().Studio
	return studio.Theme
end

return ThemeManager]]></ProtectedString>
							<string name="ScriptGuid">{CEC0417C-B3B3-4F7E-9684-A5E53F2C2188}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ThemeManager</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
				<Item class="Folder" referent="RBX0D0C909BF07A4D2CB01CE9C18E576A01">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Package</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBXCF8327746DF24ED39F8FF3AF6D37316A">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local UIFactory = {}
local activeButtons = {}

local TweenService = game:GetService("TweenService")
local CollectionService = game:GetService("CollectionService")
local HttpService = game:GetService("HttpService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local Config = RequireCore.Config.Data

local Styles = {
	
	["section-card"] = {
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		BorderSizePixel = 0,
	},
	
	["text-title"] = {
		Font = Config.Global.Fonts.Title,
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 10,
		BackgroundTransparency = 1,
	},
	
	["btn-accent"] = {
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		TextColor3 = Config.Global.Colors.TextColor,
		Font = Config.Global.Fonts.Regular,
		AutoButtonColor = true
	},
	
	["btn-accent2"] = {
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		TextColor3 = Config.Global.Colors.TextColor,
		Font = Config.Global.Fonts.Regular,
		AutoButtonColor = true
	},	
	
	["txt-box"] = {
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		TextColor3 = Config.Global.Colors.TextColor,
		Font = Config.Global.Fonts.Regular,
		AutoButtonColor = true
	},

	["txt-box2"] = {
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		TextColor3 = Config.Global.Colors.TextColor,
		Font = Config.Global.Fonts.Regular,
	},
	
	["Section"] = {
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		BorderSizePixel = 0,
	},
	
	["PrimaryButton"] = {
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		Font = Config.Global.Fonts.Regular,
		TextColor3 = Config.Global.Colors.TextColor,
	},
	
	["Title"] = {
		Font = Config.Global.Fonts.Title,
		TextColor3 = Config.Global.Colors.TextColor,
		BackgroundTransparency = 1,
	},
	
	["Title2"] = {
		Font = Config.Global.Fonts.Title,
		TextColor3 = Config.Global.Colors.TextColor,
	},
	
	["TxtSize-10"] = {
		TextSize = 10
	},
	
	["TxtSize-12"] = {
		TextSize = 12
	},
	
	["TxtSize-14"] = {
		TextSize = 14
	},
	
	["TxtSize-16"] = {
		TextSize = 16
	},
	
	["CornerRadius-006"] = {
		CornerRadius = UDim.new(0.06, 0)
	},
	
	["accept"] = {
		BackgroundColor3 = Config.Global.Colors.SelectedColor
	},
	
	["reject"] = {
		BackgroundColor3 = Config.Global.Colors.UnselectedColor
	},
}

---

local function serializeValue(value)
	local t = typeof(value)

	if t == "Color3" then
		return {_type = "Color3", r = value.R, g = value.G, b = value.B}
	elseif t == "UDim2" then
		return {
			_type = "UDim2",
			ScaleX = value.X.Scale, OffsetX = value.X.Offset,
			ScaleY = value.Y.Scale, OffsetY = value.Y.Offset
		}
	elseif t == "UDim" then
		return {_type = "UDim", Scale = value.Scale, Offset = value.Offset}
	elseif t == "Vector2" then
		return {_type = "Vector2", X = value.X, Y = value.Y}
	elseif t == "EnumItem" then
		return {_type = "Enum", Value = tostring(value)}
	else
		return value
	end
end

local function deserializeValue(data)
	if type(data) ~= "table" or not data._type then
		return data
	end

	if data._type == "Color3" then
		return Color3.new(data.r, data.g, data.b)
	elseif data._type == "UDim2" then
		return UDim2.new(data.ScaleX, data.OffsetX, data.ScaleY, data.OffsetY)
	elseif data._type == "UDim" then
		return UDim.new(data.Scale, data.Offset)
	elseif data._type == "Vector2" then
		return Vector2.new(data.X, data.Y)
	elseif data._type == "Enum" then
		local parts = string.split(tostring(data.Value), ".")

		if #parts >= 3 and parts[1] == "Enum" then
			local enumCategory = parts[2]
			local enumItem = parts[3]
			
			local success, result = pcall(function()
				return Enum[enumCategory][enumItem]
			end)

			if success then
				return result
			end
		end
		return nil
	elseif data._type == "Vector3" then
		return Vector3.new(data.X, data.Y, data.Z)
	end

	return data
end

local function createPulseEffect(button)
	local originalSize = button.Size
	local originalColor = button.BackgroundColor3

	local growTween = TweenService:Create(button, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
		Size = UDim2.new(originalSize.X.Scale * 1.05, originalSize.X.Offset, originalSize.Y.Scale * 1.05, originalSize.Y.Offset)
	})

	local shrinkTween = TweenService:Create(button, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
		Size = originalSize
	})

	local colorTween = TweenService:Create(button, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
		BackgroundColor3 = Color3.fromRGB(
			math.min(originalColor.R * 255 * 1.2, 255),
			math.min(originalColor.G * 255 * 1.2, 255),
			math.min(originalColor.B * 255 * 1.2, 255)
		)
	})

	local colorBack = TweenService:Create(button, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
		BackgroundColor3 = originalColor
	})

	growTween:Play()
	colorTween:Play()

	growTween.Completed:Connect(function()
		shrinkTween:Play()
		colorBack:Play()
	end)
end

---

function UIFactory.new(className, props, children)
	local instance = Instance.new(className)
	CollectionService:AddTag(instance, Config.PluginName.."_Widget")
	
	local styleKey = props.Style or props.Classes
	if styleKey then
		for name in string.gmatch(styleKey, "%S+") do
			local styleData = Styles[name]
			if styleData then
				for prop, val in pairs(styleData) do
					instance[prop] = val
				end
			end
			CollectionService:AddTag(instance, name)
		end
	end
	
	props.Style = nil
	props.Classes = nil
	
	if props.Attributes then
		for attrName, attrVal in pairs(props.Attributes) do
			instance:SetAttribute(attrName, attrVal)
		end
		props.Attributes = nil
	end

	if props.Tags then
		for _, tag in ipairs(props.Tags) do
			CollectionService:AddTag(instance, tag)
		end
		props.Tags = nil
	end
	
	local pulseOnClick = props.PulseOnClick
	props.PulseOnClick = nil
	
	if props.ActiveStyle then
		local defaultProps = {}
		for key, _ in pairs(props.ActiveStyle) do
			if pcall(function() return instance[key] end) then
				defaultProps[key] = serializeValue(instance[key])
			end
		end

		local serializedActive = {}
		for k, v in pairs(props.ActiveStyle) do
			serializedActive[k] = serializeValue(v)
		end

		instance:SetAttribute("ActiveProps", HttpService:JSONEncode(serializedActive))
		instance:SetAttribute("DefaultProps", HttpService:JSONEncode(defaultProps))
		instance:SetAttribute("IsActive", false)

		props.ActiveStyle = nil
	end
	
	for prop, val in pairs(props) do
		local success, err = pcall(function()
			instance[prop] = val
		end)
	end
	
	if CollectionService:HasTag(instance, "btn") then
		local originalTrans = instance.BackgroundTransparency

		instance.MouseEnter:Connect(function()
			TweenService:Create(instance, TweenInfo.new(0.375), {
				BackgroundTransparency = originalTrans + 0.4
			}):Play()
		end)

		instance.MouseLeave:Connect(function()
			TweenService:Create(instance, TweenInfo.new(0.375), {
				BackgroundTransparency = originalTrans
			}):Play()
		end)
		
		
		if pulseOnClick then
			instance.MouseButton1Click:Connect(function()
				createPulseEffect(instance)
			end)
		end
	end
	
	if children then
		for _, child in ipairs(children) do child.Parent = instance end
	end

	return instance
end

function UIFactory.ToggleState(buttonInstance)
	local activeJson = buttonInstance:GetAttribute("ActiveProps")
	local defaultJson = buttonInstance:GetAttribute("DefaultProps")

	if not activeJson or not defaultJson then return false end

	local isCurrentlyActive = buttonInstance:GetAttribute("IsActive") or false
	local newState = not isCurrentlyActive

	buttonInstance:SetAttribute("IsActive", newState)

	local HttpService = game:GetService("HttpService")
	local props = HttpService:JSONDecode(newState and activeJson or defaultJson)

	for key, value in pairs(props) do
		pcall(function()
			buttonInstance[key] = deserializeValue(value)
		end)
	end

	return newState
end

function UIFactory.SyncWithState(buttonInstance, stateValue)
	if not buttonInstance then return end

	local activeColor = Config.Global.Colors.SelectedColor
	local inactiveColor = buttonInstance:GetAttribute("DefaultColor") or Config.Global.Colors.AccentColor3

	local targetColor = stateValue and activeColor or inactiveColor

	TweenService:Create(buttonInstance, TweenInfo.new(0.25, Enum.EasingStyle.Quad), {
		BackgroundColor3 = targetColor
	}):Play()

	activeButtons[buttonInstance] = stateValue
end

function UIFactory.SetButtonActive(buttonInstance, isActive)
	if not buttonInstance then return end

	local defaultColor = buttonInstance:GetAttribute("DefaultColor") or Config.Global.Colors.AccentColor3
	local activeColor = buttonInstance:GetAttribute("ActiveColor") or Config.Global.Colors.SelectedColor

	local targetColor = isActive and activeColor or defaultColor

	TweenService:Create(buttonInstance, TweenInfo.new(0.25), {
		BackgroundColor3 = targetColor
	}):Play()

	activeButtons[buttonInstance] = isActive
end

function UIFactory.IsButtonActive(buttonInstance)
	return activeButtons[buttonInstance] or false
end

function UIFactory.Pulse(buttonInstance)
	if buttonInstance then
		createPulseEffect(buttonInstance)
	end
end

return UIFactory]]></ProtectedString>
							<string name="ScriptGuid">{59D631BB-553F-4661-9B3C-F770EF1A851C}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">UIFramework</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXDC0FF9A1DA7A4B8781F3BF61D358DC69">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local Datastore = {}

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local Config = RequireCore.Config.Data

local plugin = script:FindFirstAncestorWhichIsA("Plugin")
if not plugin then
	warn("[Lume Datastore] Plugin not found!")
	return Datastore
end

local DATASTORE_KEY = "LumeUI_Settings"

local cache = {
	Theme = "Default",
	LastOpened = os.time(),
}

local function load()
	local success, data = pcall(function()
		return plugin:GetSetting(DATASTORE_KEY)
	end)

	if success and data then
		for key, value in pairs(data) do
			cache[key] = value
		end
	end
end

local function save()
	local success, err = pcall(function()
		plugin:SetSetting(DATASTORE_KEY, cache)
	end)

	if not success then
		warn("[Lume Datastore] Failed to save:", err)
	end
end

function Datastore.Get(key, defaultValue)
	local value = cache[key]
	return value ~= nil and value or defaultValue
end

function Datastore.Set(key, value)
	cache[key] = value
	save()
end

function Datastore.GetAll()
	return cache
end

function Datastore.SetMultiple(dataTable)
	for key, value in pairs(dataTable) do
		cache[key] = value
	end
	save()
end

function Datastore.Reset()
	cache = {
		Theme = "Default",
		LastOpened = os.time(),
		Version = Config.Version 
	}
	save()
end

function Datastore.Remove(key)
	cache[key] = nil
	save()
end

function Datastore.UpdateVersion()
	cache.Version = Config.Version
	save()
end

function Datastore.NeedsMigration()
	local savedVersion = cache.Version
	local currentVersion = Config.Version

	if not savedVersion then
		return false
	end

	return savedVersion ~= currentVersion
end

load()

return Datastore]]></ProtectedString>
							<string name="ScriptGuid">{2A5FD67A-F4BA-467D-AB97-51C6989D8751}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">Datastore</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
				<Item class="Folder" referent="RBX310FAAFB8AC74747A4E11A53BED52E15">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Data</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBX8EEB6C41C24E4428B382F501AFCF23D3">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local Config = {}

Config.Data = {
	PluginName = "Lume",
	Version = "0.0.475",
	ToolbarName = "Lume Design",
	---
	ButtonName = "Lume",
	ButtonIcon = "",
	ButtonToolTip = "Make your profissional UI - Your creativity is the limit",
	
	NumberSubSection = 999,
	
	Images = {
		ImgIconBtn_Add = "rbxassetid://75852055107074",
		ImgIconBtn_Replace = "rbxassetid://94325412877997",
		---
		ImgIconBtn_Center = "rbxassetid://83525967650171",
		ImgIconBtn_Up = "rbxassetid://122236553078306",
		ImgIconBtn_Left = "rbxassetid://105850159852863",
		ImgIconBtn_Right = "rbxassetid://120742526168549",
		ImgIconBtn_Bottom = "rbxassetid://89875917378171",
		---
		ImgIconBtn_UpLeft = "rbxassetid://113689953333220",
		ImgIconBtn_UpRight = "rbxassetid://123711362984417",
		ImgIconBtn_BottomLeft = "rbxassetid://80118730526243",
		ImgIconBtn_BottomRight = "rbxassetid://129549667343643",
	},
	
	Global = {
		Colors = {
			AccentColor = Color3.fromRGB(211, 74, 59),
			AccentColor2 = Color3.fromRGB(255, 112, 102),
			AccentColor3 = Color3.fromRGB(75, 75, 75),

			SelectedColor = Color3.fromRGB(76, 153, 76),
			UnselectedColor = Color3.fromRGB(153, 86, 86),
			DeactiveColor = Color3.fromRGB(75, 75, 75),

			BackgroundColor = Color3.fromRGB(35, 35, 35),
			SecondaryColor = Color3.fromRGB(45,45,45),
			TextColor = Color3.fromRGB(255, 255, 255),
			BackgroundColor2 = Color3.fromRGB(125, 125, 125),

			StatusText = Color3.fromRGB(120, 120, 120),
			BackButtonText = Color3.fromRGB(211, 98, 94),
			BackButtonBackground = Color3.fromRGB(226, 72, 61),
			FooterText = Color3.fromRGB(84, 84, 84),

			GridBackground = Color3.fromRGB(38, 38, 38),
			GridAlignment = Color3.fromRGB(70, 211, 94),
			GridAnchor = Color3.fromRGB(211, 74, 59),
			GridMove = Color3.fromRGB(158, 65, 211),
			
			SliderControl = Color3.fromRGB(255, 89, 89),
			ContentBackground = Color3.fromRGB(226, 72, 61),

			SubSectionContainerBackground = Color3.fromRGB(45, 45, 45),
			SubSectionHeaderRowBackground = Color3.fromRGB(55, 55, 55),
			SubSectionTitleTextColor = Color3.fromRGB(200, 200, 200),
			IndiciatorSectionTitleTextColor = Color3.fromRGB(200, 200, 200),

			ControlBackground = Color3.fromRGB(255, 131, 131),

			PickerBlack = Color3.new(0, 0, 0),
			PickerWhite = Color3.new(1, 1, 1),
			
			LoadingBackground = Color3.fromRGB(0, 0, 0),
			ColorPickerBackground = Color3.fromRGB(0, 0, 0),
		},
		
		Fonts = {
			Title = Enum.Font.GothamBold,
			Regular = Enum.Font.GothamMedium,
		}
	},
	
	Themes = {
		Default = {
			Colors = {
				AccentColor = Color3.fromRGB(211, 74, 59),
				AccentColor2 = Color3.fromRGB(255, 112, 102),
				AccentColor3 = Color3.fromRGB(75, 75, 75),

				SelectedColor = Color3.fromRGB(76, 153, 76),
				UnselectedColor = Color3.fromRGB(153, 86, 86),
				DeactiveColor = Color3.fromRGB(75, 75, 75),

				BackgroundColor = Color3.fromRGB(35, 35, 35),
				SecondaryColor = Color3.fromRGB(45,45,45),
				TextColor = Color3.fromRGB(255, 255, 255),
				BackgroundColor2 = Color3.fromRGB(125, 125, 125),

				StatusText = Color3.fromRGB(120, 120, 120),
				BackButtonText = Color3.fromRGB(211, 98, 94),
				BackButtonBackground = Color3.fromRGB(226, 72, 61),
				FooterText = Color3.fromRGB(84, 84, 84),

				GridBackground = Color3.fromRGB(38, 38, 38),
				GridAlignment = Color3.fromRGB(70, 211, 94),
				GridAnchor = Color3.fromRGB(211, 74, 59),
				GridMove = Color3.fromRGB(158, 65, 211),

				SliderControl = Color3.fromRGB(255, 89, 89),
				ContentBackground = Color3.fromRGB(226, 72, 61),

				SubSectionContainerBackground = Color3.fromRGB(45, 45, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(55, 55, 55),
				SubSectionTitleTextColor = Color3.fromRGB(200, 200, 200),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(200, 200, 200),

				ControlBackground = Color3.fromRGB(255, 131, 131),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(0, 0, 0),
				ColorPickerBackground = Color3.fromRGB(0, 0, 0),
			},

			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.GothamMedium,
			}
		},

		Dark = {
			Colors = {
				AccentColor = Color3.fromRGB(211, 74, 59),
				AccentColor2 = Color3.fromRGB(255, 112, 102),
				AccentColor3 = Color3.fromRGB(75, 75, 75),

				SelectedColor = Color3.fromRGB(76, 153, 76),
				UnselectedColor = Color3.fromRGB(153, 86, 86),
				DeactiveColor = Color3.fromRGB(75, 75, 75),

				BackgroundColor = Color3.fromRGB(26, 26, 26),
				SecondaryColor = Color3.fromRGB(45,45,45),
				TextColor = Color3.fromRGB(255, 255, 255),
				BackgroundColor2 = Color3.fromRGB(125, 125, 125),

				StatusText = Color3.fromRGB(120, 120, 120),
				BackButtonText = Color3.fromRGB(211, 98, 94),
				BackButtonBackground = Color3.fromRGB(226, 72, 61),
				FooterText = Color3.fromRGB(84, 84, 84),

				GridBackground = Color3.fromRGB(29, 29, 29),
				GridAlignment = Color3.fromRGB(211, 69, 137),
				GridAnchor = Color3.fromRGB(211, 173, 57),
				GridMove = Color3.fromRGB(63, 107, 211),

				SliderControl = Color3.fromRGB(207, 31, 31),
				ContentBackground = Color3.fromRGB(226, 72, 61),

				SubSectionContainerBackground = Color3.fromRGB(45, 45, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(55, 55, 55),
				SubSectionTitleTextColor = Color3.fromRGB(200, 200, 200),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(200, 200, 200),

				ControlBackground = Color3.fromRGB(255, 131, 131),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(0, 0, 0),
				ColorPickerBackground = Color3.fromRGB(0, 0, 0),
			},

			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.GothamMedium,
			}
		},

		Light = {
			Colors = {
				AccentColor = Color3.fromRGB(211, 74, 59),
				AccentColor2 = Color3.fromRGB(255, 112, 102),
				AccentColor3 = Color3.fromRGB(75, 75, 75),

				SelectedColor = Color3.fromRGB(76, 153, 76),
				UnselectedColor = Color3.fromRGB(153, 86, 86),
				DeactiveColor = Color3.fromRGB(75, 75, 75),

				BackgroundColor = Color3.fromRGB(161, 161, 161),
				SecondaryColor = Color3.fromRGB(45,45,45),
				TextColor = Color3.fromRGB(255, 255, 255),
				BackgroundColor2 = Color3.fromRGB(125, 125, 125),

				StatusText = Color3.fromRGB(120, 120, 120),
				BackButtonText = Color3.fromRGB(211, 98, 94),
				BackButtonBackground = Color3.fromRGB(226, 72, 61),
				FooterText = Color3.fromRGB(84, 84, 84),

				GridBackground = Color3.fromRGB(38, 38, 38),
				GridAlignment = Color3.fromRGB(70, 211, 94),
				GridAnchor = Color3.fromRGB(211, 74, 59),
				GridMove = Color3.fromRGB(158, 65, 211),

				SliderControl = Color3.fromRGB(255, 89, 89),
				ContentBackground = Color3.fromRGB(226, 72, 61),

				SubSectionContainerBackground = Color3.fromRGB(45, 45, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(55, 55, 55),
				SubSectionTitleTextColor = Color3.fromRGB(200, 200, 200),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(200, 200, 200),

				ControlBackground = Color3.fromRGB(255, 131, 131),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(0, 0, 0),
				ColorPickerBackground = Color3.fromRGB(0, 0, 0),
			},

			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.GothamMedium,
			}
		},
		
		-- NOVOS TEMAS ABAIXO:

		Green = { -- Tema "Mint" com destaques verdes, fresco e moderno
			Colors = {
				AccentColor = Color3.fromRGB(46, 204, 113),    -- Verde Esmeralda (Principal)
				AccentColor2 = Color3.fromRGB(88, 214, 141),   -- Verde Claro (Secundrio)
				AccentColor3 = Color3.fromRGB(40, 55, 71),     -- Cinza Azulado Escuro

				SelectedColor = Color3.fromRGB(39, 174, 96),   -- Verde Forte (Selecionado)
				UnselectedColor = Color3.fromRGB(192, 57, 43), -- Vermelho (No Selecionado)
				DeactiveColor = Color3.fromRGB(60, 60, 60),    -- Cinza (Desativado)

				BackgroundColor = Color3.fromRGB(30, 35, 35),  -- Fundo Escuro Esverdeado
				SecondaryColor = Color3.fromRGB(45, 50, 50),   -- Fundo Secundrio
				TextColor = Color3.fromRGB(240, 240, 240),     -- Texto Claro
				BackgroundColor2 = Color3.fromRGB(80, 90, 90), -- Fundo Tercirio

				StatusText = Color3.fromRGB(149, 165, 166),    -- Cinza Claro
				BackButtonText = Color3.fromRGB(46, 204, 113), -- Verde Texto Boto Voltar
				BackButtonBackground = Color3.fromRGB(35, 45, 40), -- Fundo Boto Voltar
				FooterText = Color3.fromRGB(120, 130, 130),    -- Texto Rodap

				GridBackground = Color3.fromRGB(35, 40, 40),   -- Fundo Grid
				GridAlignment = Color3.fromRGB(46, 204, 113),  -- Grid Alinhamento (Verde)
				GridAnchor = Color3.fromRGB(241, 196, 15),     -- Grid Anchor (Amarelo)
				GridMove = Color3.fromRGB(52, 152, 219),       -- Grid Move (Azul)

				SliderControl = Color3.fromRGB(46, 204, 113),  -- Slider (Verde)
				ContentBackground = Color3.fromRGB(35, 45, 40),-- Fundo Contedo

				SubSectionContainerBackground = Color3.fromRGB(40, 45, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(50, 55, 55),
				SubSectionTitleTextColor = Color3.fromRGB(220, 220, 220),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(220, 220, 220),

				ControlBackground = Color3.fromRGB(88, 214, 141),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(25, 30, 30),
				ColorPickerBackground = Color3.fromRGB(25, 30, 30),
			},
			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.GothamMedium,
			}
		},

		Figma = { -- Tema inspirado no Figma (Dark Mode), clean e profissional
			Colors = {
				AccentColor = Color3.fromRGB(162, 89, 255),    -- Roxo Figma
				AccentColor2 = Color3.fromRGB(242, 78, 30),    -- Laranja Figma
				AccentColor3 = Color3.fromRGB(50, 50, 50),     -- Cinza Neutro

				SelectedColor = Color3.fromRGB(27, 196, 125),  -- Verde Figma (Selecionado)
				UnselectedColor = Color3.fromRGB(242, 78, 30), -- Laranja Figma (No Selecionado)
				DeactiveColor = Color3.fromRGB(80, 80, 80),    -- Cinza Mdio

				BackgroundColor = Color3.fromRGB(44, 44, 44),  -- Cinza Escuro (Fundo Figma)
				SecondaryColor = Color3.fromRGB(30, 30, 30),   -- Cinza Quase Preto (Painis)
				TextColor = Color3.fromRGB(255, 255, 255),     -- Texto Branco
				BackgroundColor2 = Color3.fromRGB(60, 60, 60), -- Cinza Claro

				StatusText = Color3.fromRGB(170, 170, 170),    -- Cinza Texto Status
				BackButtonText = Color3.fromRGB(255, 255, 255),-- Texto Branco
				BackButtonBackground = Color3.fromRGB(162, 89, 255), -- Roxo Fundo
				FooterText = Color3.fromRGB(150, 150, 150),    -- Texto Rodap

				GridBackground = Color3.fromRGB(30, 30, 30),   -- Fundo Grid
				GridAlignment = Color3.fromRGB(242, 78, 30),   -- Laranja
				GridAnchor = Color3.fromRGB(162, 89, 255),     -- Roxo
				GridMove = Color3.fromRGB(12, 140, 233),       -- Azul Figma

				SliderControl = Color3.fromRGB(12, 140, 233),  -- Azul Figma
				ContentBackground = Color3.fromRGB(44, 44, 44),

				SubSectionContainerBackground = Color3.fromRGB(35, 35, 35),
				SubSectionHeaderRowBackground = Color3.fromRGB(50, 50, 50),
				SubSectionTitleTextColor = Color3.fromRGB(230, 230, 230),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(230, 230, 230),

				ControlBackground = Color3.fromRGB(180, 120, 255),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(18, 18, 18),
				ColorPickerBackground = Color3.fromRGB(30, 30, 30),
			},
			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.Gotham,
			}
		},

		Blender = { -- Tema inspirado no Blender, cinzas escuros e laranja destaque
			Colors = {
				AccentColor = Color3.fromRGB(230, 126, 34),    -- Laranja Blender
				AccentColor2 = Color3.fromRGB(243, 156, 18),   -- Laranja Claro
				AccentColor3 = Color3.fromRGB(60, 60, 60),     -- Cinza Blender

				SelectedColor = Color3.fromRGB(230, 126, 34),  -- Laranja (Selecionado)
				UnselectedColor = Color3.fromRGB(100, 100, 100), -- Cinza (No Selecionado)
				DeactiveColor = Color3.fromRGB(50, 50, 50),    -- Cinza Escuro

				BackgroundColor = Color3.fromRGB(55, 55, 55),  -- Cinza Mdio (Interface Padro)
				SecondaryColor = Color3.fromRGB(35, 35, 35),   -- Cinza Escuro (Painis)
				TextColor = Color3.fromRGB(220, 220, 220),     -- Texto Cinza Claro
				BackgroundColor2 = Color3.fromRGB(80, 80, 80), -- Cinza Claro

				StatusText = Color3.fromRGB(180, 180, 180),    
				BackButtonText = Color3.fromRGB(255, 255, 255),
				BackButtonBackground = Color3.fromRGB(230, 126, 34),
				FooterText = Color3.fromRGB(160, 160, 160),

				GridBackground = Color3.fromRGB(30, 30, 30),
				GridAlignment = Color3.fromRGB(230, 126, 34),  -- Laranja
				GridAnchor = Color3.fromRGB(255, 255, 255),    -- Branco
				GridMove = Color3.fromRGB(60, 160, 240),       -- Azul Transform

				SliderControl = Color3.fromRGB(230, 126, 34),
				ContentBackground = Color3.fromRGB(55, 55, 55),

				SubSectionContainerBackground = Color3.fromRGB(45, 45, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(65, 65, 65),
				SubSectionTitleTextColor = Color3.fromRGB(230, 230, 230),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(230, 230, 230),

				ControlBackground = Color3.fromRGB(243, 156, 18),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(20, 20, 20),
				ColorPickerBackground = Color3.fromRGB(40, 40, 40),
			},
			Fonts = {
				Title = Enum.Font.SourceSansBold,
				Regular = Enum.Font.SourceSans,
			}
		},

		Midnight = { -- Tema Azul Escuro Profundo, elegante e confortvel para a noite
			Colors = {
				AccentColor = Color3.fromRGB(65, 105, 225),    -- Azul Royal
				AccentColor2 = Color3.fromRGB(100, 149, 237),  -- Azul Cornflower
				AccentColor3 = Color3.fromRGB(25, 25, 112),    -- Azul Meia-Noite

				SelectedColor = Color3.fromRGB(0, 191, 255),   -- Azul Deep Sky
				UnselectedColor = Color3.fromRGB(178, 34, 34), -- Vermelho Fogo
				DeactiveColor = Color3.fromRGB(40, 40, 60),    -- Cinza Azulado

				BackgroundColor = Color3.fromRGB(15, 15, 25),  -- Azul Quase Preto
				SecondaryColor = Color3.fromRGB(25, 25, 40),   -- Azul Escuro
				TextColor = Color3.fromRGB(200, 210, 255),     -- Branco Azulado
				BackgroundColor2 = Color3.fromRGB(40, 40, 60), 

				StatusText = Color3.fromRGB(100, 110, 150),
				BackButtonText = Color3.fromRGB(173, 216, 230),
				BackButtonBackground = Color3.fromRGB(25, 25, 112),
				FooterText = Color3.fromRGB(80, 90, 120),

				GridBackground = Color3.fromRGB(20, 20, 35),
				GridAlignment = Color3.fromRGB(0, 255, 127),   -- Verde Mola
				GridAnchor = Color3.fromRGB(255, 69, 0),       -- Vermelho Laranja
				GridMove = Color3.fromRGB(30, 144, 255),       -- Azul Dodger

				SliderControl = Color3.fromRGB(65, 105, 225),
				ContentBackground = Color3.fromRGB(20, 20, 35),

				SubSectionContainerBackground = Color3.fromRGB(25, 25, 45),
				SubSectionHeaderRowBackground = Color3.fromRGB(35, 35, 60),
				SubSectionTitleTextColor = Color3.fromRGB(180, 190, 220),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(180, 190, 220),

				ControlBackground = Color3.fromRGB(100, 149, 237),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(5, 5, 15),
				ColorPickerBackground = Color3.fromRGB(15, 15, 25),
			},
			Fonts = {
				Title = Enum.Font.GothamBold,
				Regular = Enum.Font.GothamMedium,
			}
		},

		Paper = { -- Tema Claro/Leve (Clean), minimalista
			Colors = {
				AccentColor = Color3.fromRGB(52, 152, 219),    -- Azul Clean
				AccentColor2 = Color3.fromRGB(93, 173, 226),   -- Azul Claro
				AccentColor3 = Color3.fromRGB(200, 200, 200),  -- Cinza Claro

				SelectedColor = Color3.fromRGB(46, 204, 113),  -- Verde Suave
				UnselectedColor = Color3.fromRGB(231, 76, 60), -- Vermelho Suave
				DeactiveColor = Color3.fromRGB(220, 220, 220), -- Cinza Muito Claro

				BackgroundColor = Color3.fromRGB(250, 250, 250), -- Quase Branco
				SecondaryColor = Color3.fromRGB(240, 240, 240),  -- Cinza Plido
				TextColor = Color3.fromRGB(50, 50, 50),          -- Cinza Escuro (Texto)
				BackgroundColor2 = Color3.fromRGB(230, 230, 230),

				StatusText = Color3.fromRGB(150, 150, 150),
				BackButtonText = Color3.fromRGB(255, 255, 255),
				BackButtonBackground = Color3.fromRGB(52, 152, 219),
				FooterText = Color3.fromRGB(180, 180, 180),

				GridBackground = Color3.fromRGB(245, 245, 245),
				GridAlignment = Color3.fromRGB(46, 204, 113),
				GridAnchor = Color3.fromRGB(231, 76, 60),
				GridMove = Color3.fromRGB(52, 152, 219),

				SliderControl = Color3.fromRGB(52, 152, 219),
				ContentBackground = Color3.fromRGB(255, 255, 255),

				SubSectionContainerBackground = Color3.fromRGB(245, 245, 245),
				SubSectionHeaderRowBackground = Color3.fromRGB(235, 235, 235),
				SubSectionTitleTextColor = Color3.fromRGB(80, 80, 80),
				IndiciatorSectionTitleTextColor = Color3.fromRGB(100, 100, 100),

				ControlBackground = Color3.fromRGB(133, 193, 233),

				PickerBlack = Color3.new(0, 0, 0),
				PickerWhite = Color3.new(1, 1, 1),

				LoadingBackground = Color3.fromRGB(255, 255, 255),
				ColorPickerBackground = Color3.fromRGB(240, 240, 240),
			},
			Fonts = {
				Title = Enum.Font.GothamMedium,
				Regular = Enum.Font.Gotham,
			}
		},
	}
	
}

return Config]]></ProtectedString>
							<string name="ScriptGuid">{45273BC3-49F4-421A-8763-10E1726345CD}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">Config</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXB47661405F9B41B5BFB8E49DA8EBDD83">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local State = {}

local store = {
	Selection = {},
	
	-- ========== Transform
	-- ===== Anchor Points
	Anchor_PreservePosition = true,
	Anchor_SmartDetect = false,

	-- ===== Alignment
	Align_FrozenX = false,
	Align_FrozenY = false,
	Align_BypassAnchor = true,
	Align_Scale = true,
	Align_Offset = false,
	Align_DefaultSize = false,
	Align_AbsoluteSize = true,
	Align_NoEscape = true,
	
	-- ===== Convert
	Convert_BypassX = false,
	Convert_BypassY = false,
	Convert_UIAspect = false,
	Convert_UIScale = false,
	
	-- ===== Grid
	Grid_Enabled = false,
	Grid_PaddingX = 50,
	Grid_PaddingY = 50,
	Grid_GridSize = 1,
	Grid_Color = Color3.fromRGB(255, 255, 255), 
	Grid_Transparency = 0,
	
	-- ===== Move
	Move_Scale = true,
	Move_Offset = false,
	Move_FrozenX = false,
	Move_FrozenY = false,
	Move_NoEscape = true,
	Move_BypassAnchor = true,
	Move_PreservePosition = true,
	Move_Pixel = 10,
	
	-- ===== UIConvert
	UIConvert_FrozenX = false,
	UIConvert_FrozenY = false,
	
	--- ========= Utility
	-- ===== ImageContent
	ImageContent_Scale = false,
	ImageContent_Offset = false,
	ImageContent_AspectRatio = false,
	
	-- ===== Move
	Bound_PreservePosition = true,
	
	-- ===== Zoom
	Zoom_Enabled = false,
}

local bindable = Instance.new("BindableEvent")
State.Changed = bindable.Event

function State.Get(key)
	return store[key]
end

function State.Set(key, value)
	if store[key] == value then return end
	store[key] = value

	bindable:Fire(key, value)
end

function State.Toggle(key)
	if type(store[key]) == "boolean" then
		State.Set(key, not store[key])
	end
end

function State.Subscribe(targetKey, callback)
	return State.Changed:Connect(function(key, value)
		if key == targetKey then
			callback(value)
		end
	end)
end

function State.SetSelection(objects)
	store.Selection = objects or {}
	bindable:Fire("Selection", store.Selection)
end

function State.GetSelection()
	return store.Selection
end

function State.GetAllBooleans()
	local booleans = {}

	for key, value in pairs(store) do
		if type(value) == "boolean" then
			booleans[key] = value
		end
	end

	return booleans
end

function State.GetActiveBooleans()
	local activeBooleans = {}

	for key, value in pairs(store) do
		if type(value) == "boolean" and value == true then
			activeBooleans[key] = value
		end
	end
	
	return activeBooleans
end

return State]]></ProtectedString>
							<string name="ScriptGuid">{5D0A7C9C-0985-4FD0-92A0-23AB7C656F31}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">State</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
			</Item>
			<Item class="Folder" referent="RBX4BC427F247814F80BC7F471734726D55">
				<Properties>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">Tools</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
				<Item class="Folder" referent="RBXB505331CF8EC428AA1810D6600E88F92">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Transform</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBXD319DBD7F43546C694A86A9427A4637E">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local AlignmentTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State

local function getParentContentRect(gui)
	local parent = gui.Parent
	if not parent then return nil, nil end

	local size = Vector2.zero
	local topLeft = Vector2.zero

	if parent:IsA("GuiObject") then
		size = parent.AbsoluteSize
		topLeft = parent.AbsolutePosition
	elseif parent:IsA("ScreenGui") or parent:IsA("PluginGui") then
		size = parent.AbsoluteSize
		local ignoreInset = true 
		if parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then ignoreInset = false end

		if not ignoreInset then
			local guiService = game:GetService("GuiService")
			local inset = guiService:GetGuiInset()
			topLeft = inset
			size = size - inset
		else
			topLeft = Vector2.zero
		end
	elseif workspace.CurrentCamera then
		size = workspace.CurrentCamera.ViewportSize
		topLeft = Vector2.zero
	end

	return topLeft, size
end

function AlignmentTool.Execute(cmdX, cmdY)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Align Start")

	local frozenX        = State.Get("Align_FrozenX")
	local frozenY        = State.Get("Align_FrozenY")

	local bypassAnchor   = State.Get("Align_BypassAnchor")
	local absoluteSize   = State.Get("Align_AbsoluteSize")
	local isVisualAlign  = bypassAnchor or absoluteSize

	local useScale       = State.Get("Align_Scale")
	local useOffset      = State.Get("Align_Offset")
	local applyInOffset  = useOffset or (not useScale)

	local noEscape       = State.Get("Align_NoEscape")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local parentTopLeft, parentSize = getParentContentRect(gui)

			if parentSize and parentSize.X > 0 and parentSize.Y > 0 then

				local currentAbsPos = gui.AbsolutePosition
				local objSize = gui.AbsoluteSize
				local anchor = gui.AnchorPoint

				local targetPixelX = currentAbsPos.X - parentTopLeft.X
				local targetPixelY = currentAbsPos.Y - parentTopLeft.Y

				if cmdX and not frozenX then
					local factor = 0
					if cmdX == "Center" then factor = 0.5 
					elseif cmdX == "Max" then factor = 1 end

					if isVisualAlign then
						if cmdX == "Min" then
							targetPixelX = 0
						elseif cmdX == "Center" then
							targetPixelX = (parentSize.X / 2) - (objSize.X / 2)
						elseif cmdX == "Max" then
							targetPixelX = parentSize.X - objSize.X
						end
					else
						local anchorTargetPos = parentSize.X * factor
						targetPixelX = anchorTargetPos - (objSize.X * anchor.X)
					end
				end

				if cmdY and not frozenY then
					local factor = 0
					if cmdY == "Center" then factor = 0.5 
					elseif cmdY == "Max" then factor = 1 end

					if isVisualAlign then
						if cmdY == "Min" then
							targetPixelY = 0
						elseif cmdY == "Center" then
							targetPixelY = (parentSize.Y / 2) - (objSize.Y / 2)
						elseif cmdY == "Max" then
							targetPixelY = parentSize.Y - objSize.Y
						end
					else
						local anchorTargetPos = parentSize.Y * factor
						targetPixelY = anchorTargetPos - (objSize.Y * anchor.Y)
					end
				end

				if noEscape then
					if targetPixelX < 0 then 
						targetPixelX = 0 
					elseif (targetPixelX + objSize.X) > parentSize.X then 
						targetPixelX = parentSize.X - objSize.X 
					end

					if targetPixelY < 0 then 
						targetPixelY = 0 
					elseif (targetPixelY + objSize.Y) > parentSize.Y then 
						targetPixelY = parentSize.Y - objSize.Y 
					end
				end

				local finalAnchorPosX = targetPixelX + (objSize.X * anchor.X)
				local finalAnchorPosY = targetPixelY + (objSize.Y * anchor.Y)

				if applyInOffset then
					gui.Position = UDim2.new(
						0, math.round(finalAnchorPosX),
						0, math.round(finalAnchorPosY)
					)
				else
					local scX = finalAnchorPosX / parentSize.X
					local scY = finalAnchorPosY / parentSize.Y

					gui.Position = UDim2.new(scX, 0, scY, 0)
				end
			end
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Align End")
end

return AlignmentTool]]></ProtectedString>
							<string name="ScriptGuid">{7BD702D4-E075-4610-B88F-0066FE667D38}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">AlignmentTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX030E095338FA49FB9E2D85C97C1347C1">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local RotateTool = {}

local ChangeHistoryService = game:GetService("ChangeHistoryService")
local UserInputService = game:GetService("UserInputService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State

local Session = {
	IsActive = false,
	Center = Vector2.zero,
	Targets = {},
	InitialAngles = {},
	StartMouseAngle = 0
}

local function getAbsoluteCenter(gui)
	if gui:IsA("GuiObject") then
		return gui.AbsolutePosition + (gui.AbsoluteSize / 2)
	end
	return Vector2.zero
end

local function getAngle(center, target)
	return math.deg(math.atan2(target.Y - center.Y, target.X - center.X))
end

local function snapAngle(angle, snapStep)
	if not snapStep or snapStep <= 0 then return angle end
	return math.round(angle / snapStep) * snapStep
end

function RotateTool.BeginRotation(targetObjects, startMousePosition)
	if #targetObjects == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Rotation Begin")

	Session.IsActive = true
	Session.Targets = targetObjects
	Session.InitialAngles = {}

	local primary = targetObjects[1]
	Session.Center = getAbsoluteCenter(primary) 

	local relative = getAngle(Session.Center, startMousePosition)
	Session.StartMouseAngle = relative

	for _, gui in ipairs(targetObjects) do
		Session.InitialAngles[gui] = gui.Rotation
	end
end

function RotateTool.UpdateRotation(currentMousePosition)
	if not Session.IsActive then return end

	local currentMouseAngle = getAngle(Session.Center, currentMousePosition)

	local deltaAngle = currentMouseAngle - Session.StartMouseAngle
	
	local snapVal = State.Get("RotationSnapAngle") or 15
	local useSnap = false

	if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
		useSnap = true
	end

	for _, gui in ipairs(Session.Targets) do
		local originalAngle = Session.InitialAngles[gui]
		local finalAngle = originalAngle + deltaAngle

		if useSnap then
			finalAngle = snapAngle(finalAngle, snapVal)
		end

		gui.Rotation = finalAngle
	end
end

function RotateTool.EndRotation()
	if not Session.IsActive then return end

	Session.IsActive = false
	Session.Targets = {}
	Session.InitialAngles = {}

	ChangeHistoryService:SetWaypoint("Lume Rotation End")
end

function RotateTool.IsRotating()
	return Session.IsActive
end

return RotateTool]]></ProtectedString>
							<string name="ScriptGuid">{7DC15080-1D8B-4F94-A2FF-E6CC420F4E09}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">RotateTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX93D33B1BB0E9476DA97D03EE970A3FBA">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local AnchorPointTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State

local function getParentContentRect(gui)
	local parent = gui.Parent
	if not parent then return nil, nil end

	local size = Vector2.zero
	local topLeft = Vector2.zero

	if parent:IsA("GuiObject") then
		size = parent.AbsoluteSize
		topLeft = parent.AbsolutePosition
	elseif parent:IsA("ScreenGui") or parent:IsA("PluginGui") then
		size = parent.AbsoluteSize
		local ignoreInset = true 
		if parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then ignoreInset = false end
		if not ignoreInset then
			local guiService = game:GetService("GuiService")
			local inset = guiService:GetGuiInset()
			topLeft = inset
			size = size - inset
		else
			topLeft = Vector2.zero
		end
	elseif workspace.CurrentCamera then
		size = workspace.CurrentCamera.ViewportSize
		topLeft = Vector2.zero
	end

	return topLeft, size
end

local function getSmartAxis(ratio)
	if ratio < 0.35 then
		return 1
	elseif ratio > 0.65 then
		return 0
	else 
		return 0.5 
	end
end

function AnchorPointTool.SmartDetect()
	local targets = Selection:Get()
	if #targets == 0 then return end
	
	ChangeHistoryService:SetWaypoint("Lume Smart Anchor")
	
	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local parentTopLeft, parentSize = getParentContentRect(gui)
			
			if parentSize.X > 1 and parentSize.Y > 1 then
				local objectCenterAbs = gui.AbsolutePosition + (gui.AbsoluteSize / 2)
				
				local ratioX = (objectCenterAbs.X - parentTopLeft.X) / parentSize.X
				local ratioY = (objectCenterAbs.Y - parentTopLeft.Y) / parentSize.Y
				
				local smartX = getSmartAxis(ratioX)
				local smartY = getSmartAxis(ratioY)
				local smartAnchor = Vector2.new(smartX, smartY)
				
				AnchorPointTool.ApplyToInstance(gui, smartAnchor, parentTopLeft, parentSize)
			end
		end
	end
	
	ChangeHistoryService:SetWaypoint("Lume Smart Anchor End")
end

function AnchorPointTool.Set(newAnchorVector)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Anchor Set")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local parentTopLeft, parentSize = getParentContentRect(gui)
			if parentSize.X > 0 and parentSize.Y > 0 then
				AnchorPointTool.ApplyToInstance(gui, newAnchorVector, parentTopLeft, parentSize)
			end
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Anchor Set End")
end

function AnchorPointTool.ApplyToInstance(gui, newAnchor, parentTopLeft, parentSize)
	local preserveVisual = State.Get("Anchor_PreservePosition")
	
	if not preserveVisual then
		gui.AnchorPoint = newAnchor
		return
	end

	local currentAbsPos = gui.AbsolutePosition
	local absSize = gui.AbsoluteSize
	
	gui.AnchorPoint = newAnchor
	
	local desiredAnchorPixelX = currentAbsPos.X + (absSize.X * newAnchor.X)
	local desiredAnchorPixelY = currentAbsPos.Y + (absSize.Y * newAnchor.Y)
	
	local localAnchorX = desiredAnchorPixelX - parentTopLeft.X
	local localAnchorY = desiredAnchorPixelY - parentTopLeft.Y
	
	local finalScaleX = localAnchorX / parentSize.X
	local finalScaleY = localAnchorY / parentSize.Y
	
	gui.Position = UDim2.new(finalScaleX, 0, finalScaleY, 0)
end

return AnchorPointTool]]></ProtectedString>
							<string name="ScriptGuid">{0FF42A38-F4AC-4CD1-AEB1-9F53743F1FF0}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">AnchorPointTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX3733C934D1E146C8BC98FE70BC861A68">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ConvertTool = {}
local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State

local function getBypassSettings()
	local bx, by = false, false
	bx = State.Get("Convert_BypassX")
	by = State.Get("Convert_BypassY")
	return bx, by
end

local function getParentSize(gui)
	local parent = gui.Parent
	if not parent then return nil end

	local size = Vector2.zero
	if parent:IsA("GuiObject") then
		size = parent.AbsoluteSize
	elseif parent:IsA("ScreenGui") or parent:IsA("PluginGui") then
		size = parent.AbsoluteSize
		local ignoreInset = true
		if parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then ignoreInset = false end

		if not ignoreInset then
			pcall(function() 
				size = size - game:GetService("GuiService"):GetGuiInset() 
			end)
		end
	elseif workspace.CurrentCamera then
		size = workspace.CurrentCamera.ViewportSize
	end
	return size
end

local function runConversion(propName, mode)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Convert " .. propName)

	local bypassX, bypassY = getBypassSettings()

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local pSize = getParentSize(gui)

			if pSize and pSize.X > 0 and pSize.Y > 0 then

				local oldUDim2 = gui[propName]
				local finalUDimX = oldUDim2.X
				local finalUDimY = oldUDim2.Y

				local currentPixelsX, currentPixelsY

				if propName == "Size" then
					currentPixelsX = gui.AbsoluteSize.X
					currentPixelsY = gui.AbsoluteSize.Y
				else
					currentPixelsX = (oldUDim2.X.Scale * pSize.X) + oldUDim2.X.Offset
					currentPixelsY = (oldUDim2.Y.Scale * pSize.Y) + oldUDim2.Y.Offset
				end

				if not bypassX then
					if mode == "Scale" then
						local s = currentPixelsX / pSize.X
						if math.abs(s) < 0.0005 then s = 0 elseif math.abs(s - 1) < 0.0005 then s = 1 end
						finalUDimX = UDim.new(s, 0)
					else
						finalUDimX = UDim.new(0, math.round(currentPixelsX))
					end
				end

				if not bypassY then
					if mode == "Scale" then
						local s = currentPixelsY / pSize.Y
						if math.abs(s) < 0.0005 then s = 0 elseif math.abs(s - 1) < 0.0005 then s = 1 end
						finalUDimY = UDim.new(s, 0)
					else 
						finalUDimY = UDim.new(0, math.round(currentPixelsY))
					end
				end

				gui[propName] = UDim2.new(finalUDimX, finalUDimY)
			end
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Convert Done")
end

function ConvertTool.AddAspectRatio()
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Add AspectRatio")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local size = gui.AbsoluteSize
			if size.X > 0 and size.Y > 0 then
				local ratio = size.X / size.Y
				
				local constraint = gui:FindFirstChildOfClass("UIAspectRatioConstraint")
				if not constraint then
					constraint = Instance.new("UIAspectRatioConstraint")
					constraint.Parent = gui
				end

				constraint.AspectRatio = ratio
				constraint.DominantAxis = Enum.DominantAxis.Width
				constraint.AspectType = Enum.AspectType.FitWithinMaxSize
			end
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Add AspectRatio End")
end

function ConvertTool.ScaleText()
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Scale Text")

	for _, gui in ipairs(targets) do
		if gui:IsA("TextLabel") or gui:IsA("TextButton") or gui:IsA("TextBox") then
			gui.TextScaled = true

			local constraint = gui:FindFirstChildOfClass("UITextSizeConstraint")
			if not constraint then
				constraint = Instance.new("UITextSizeConstraint")
				constraint.Parent = gui
			end

			constraint.MinTextSize = 1
			constraint.MaxTextSize = 100
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Scale Text End")
end

function ConvertTool.SizeToScale()       runConversion("Size", "Scale")      end
function ConvertTool.SizeToOffset()      runConversion("Size", "Offset")     end
function ConvertTool.PositionToScale()   runConversion("Position", "Scale")  end
function ConvertTool.PositionToOffset()  runConversion("Position", "Offset") end

return ConvertTool]]></ProtectedString>
							<string name="ScriptGuid">{D91F7961-CFF3-4DD2-9706-761B78379967}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ConvertTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXFC6F73DBCE7E4DEC99A695DF5E64F1E4">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local MoveTool = {}

local ChangeHistoryService = game:GetService("ChangeHistoryService")
local Selection = game:GetService("Selection")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State
local CoordinateHelper = RequireCore.CoordinateHelper

function MoveTool.Nudge(direction: Vector2)

	local targets = Selection:Get()
	if #targets == 0 then
		return 
	end

	ChangeHistoryService:SetWaypoint("Lume Move")

	local rawPixel = State.Get("Move_Pixel")
	local pixelStep = tonumber(rawPixel)

	if not pixelStep then
		pixelStep = 1
		State.Set("Move_Pixel", 1)
	end

	pixelStep = math.clamp(pixelStep, 0.001, 100)

	local useScale = State.Get("Move_Scale")
	local useOffset = State.Get("Move_Offset")
	local frozenX = State.Get("Move_FrozenX")
	local frozenY = State.Get("Move_FrozenY")
	local noEscape = State.Get("Move_NoEscape")
	local bypassAnchor = State.Get("Move_BypassAnchor")
	local preservePosition = State.Get("Move_PreservePosition")

	if not useScale and not useOffset then
		useOffset = true
	end

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			local parentPos, parentSize = CoordinateHelper.getParentAbsoluteContentRect(gui.Parent)

			if not parentPos then
				if gui.Parent and gui.Parent:IsA("GuiBase2d") then
					parentPos = gui.Parent.AbsolutePosition
					parentSize = gui.Parent.AbsoluteSize
				else
					parentPos = Vector2.zero
					parentSize = Vector2.new(1920, 1080)
				end
			end

			local deltaX = direction.X * pixelStep
			local deltaY = direction.Y * pixelStep

			if frozenX then deltaX = 0 end
			if frozenY then deltaY = 0 end

			local currentPos = gui.Position
			local newPos = currentPos

			if useScale then
				local scaleX = deltaX / parentSize.X
				local scaleY = deltaY / parentSize.Y

				newPos = UDim2.new(
					currentPos.X.Scale + scaleX,
					currentPos.X.Offset,
					currentPos.Y.Scale + scaleY,
					currentPos.Y.Offset
				)
			else
				newPos = UDim2.new(
					currentPos.X.Scale,
					currentPos.X.Offset + deltaX,
					currentPos.Y.Scale,
					currentPos.Y.Offset + deltaY
				)
			end

			if noEscape then
				local wouldBeAbsX = (newPos.X.Scale * parentSize.X) + newPos.X.Offset
				local wouldBeAbsY = (newPos.Y.Scale * parentSize.Y) + newPos.Y.Offset

				if not bypassAnchor then
					wouldBeAbsX = wouldBeAbsX - (gui.AbsoluteSize.X * gui.AnchorPoint.X)
					wouldBeAbsY = wouldBeAbsY - (gui.AbsoluteSize.Y * gui.AnchorPoint.Y)
				end

				local maxX = parentSize.X - gui.AbsoluteSize.X
				local maxY = parentSize.Y - gui.AbsoluteSize.Y

				wouldBeAbsX = math.clamp(wouldBeAbsX, 0, maxX)
				wouldBeAbsY = math.clamp(wouldBeAbsY, 0, maxY)

				if useScale then
					newPos = UDim2.new(
						wouldBeAbsX / parentSize.X,
						0,
						wouldBeAbsY / parentSize.Y,
						0
					)
				else
					newPos = UDim2.new(
						0,
						wouldBeAbsX,
						0,
						wouldBeAbsY
					)
				end
			end

			gui.Position = newPos
		end
	end
end

function MoveTool.MoveUp()    MoveTool.Nudge(Vector2.new(0, -1)) end
function MoveTool.MoveBottom()  MoveTool.Nudge(Vector2.new(0, 1))  end
function MoveTool.MoveLeft()  MoveTool.Nudge(Vector2.new(-1, 0)) end
function MoveTool.MoveRight() MoveTool.Nudge(Vector2.new(1, 0))  end

function MoveTool.MoveUpLeft()     MoveTool.Nudge(Vector2.new(-1, -1)) end
function MoveTool.MoveUpRight()    MoveTool.Nudge(Vector2.new(1, -1))  end
function MoveTool.MoveBottomLeft() MoveTool.Nudge(Vector2.new(-1, 1))  end
function MoveTool.MoveBottomRight() MoveTool.Nudge(Vector2.new(1, 1))  end

return MoveTool]]></ProtectedString>
							<string name="ScriptGuid">{54D960FD-D1EA-49B9-9271-1567786AEE11}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">MoveTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX13656850C55D452AB6A88AADD839B368">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local GridTool = {}

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State
local CoreController = RequireCore.CoreController
local GridComponent = RequireCore.Grid

local activeGrid = nil

local function createGrid()
	if activeGrid then
		activeGrid:Destroy()
		activeGrid = nil
	end

	local coreGui = CoreController.getScreenGui()
	if not coreGui then
		warn("Grid: CoreGui no encontrado")
		return
	end

	activeGrid = GridComponent.new(coreGui)

	if activeGrid.UpdateLines then
		activeGrid:UpdateLines()
	end

	activeGrid:Show()
end

local function destroyGrid()
	if activeGrid then
		activeGrid:Destroy()
		activeGrid = nil
	end
end

function GridTool.Toggle()
	local isEnabled = not State.Get("Grid_Enabled")
	State.Set("Grid_Enabled", isEnabled)

	if isEnabled then
		createGrid()
	else
		destroyGrid()
	end
end

function GridTool.UpdateColor(newColor)
	State.Set("Grid_Color", newColor)

	if activeGrid then
		activeGrid:UpdateColor(newColor)
	end
end

function GridTool.UpdatePadding()
	if activeGrid and State.Get("Grid_Enabled") then
		activeGrid:UpdateLines()
	end
end

function GridTool.UpdateThickness()
	if activeGrid and State.Get("Grid_Enabled") then
		activeGrid:UpdateLines()
	end
end

function GridTool.Refresh()
	if State.Get("Grid_Enabled") and activeGrid then
		activeGrid:UpdateLines()
	end
end

State.Subscribe("Grid_PaddingX", function() 
	GridTool.UpdatePadding()
end)

State.Subscribe("Grid_PaddingY", function() 
	GridTool.UpdatePadding()
end)

State.Subscribe("Grid_GridSize", function() 
	GridTool.UpdateThickness()
end)

State.Subscribe("Grid_Transparency", function()
	local trans = State.Get("Grid_Transparency")
	if activeGrid then
		activeGrid:UpdateTransparency(trans)
	end
end)

State.Subscribe("Grid_Color", function()
	local color = State.Get("Grid_Color")
	if activeGrid then
		activeGrid:UpdateColor(color)
	end
end)

return GridTool]]></ProtectedString>
							<string name="ScriptGuid">{92AEEF6B-D28F-4C2E-851D-D3D44280063E}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">GridTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXA89CCF25D918473FBD26E18668AE9B33">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local DefaultPropertiesTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

function DefaultPropertiesTool.ApplyDefaults()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			gui.Size = UDim2.fromScale(1, 1)
			gui.Position = UDim2.fromScale(0.5, 0.5)
			gui.AnchorPoint = Vector2.new(0.5, 0.5)
			gui.BackgroundTransparency = 1
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties End")
end

---

function DefaultPropertiesTool.BackgroundTransparency()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Background")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			if gui.BackgroundTransparency >= 0.99 then
				gui.BackgroundTransparency = 0
			else
				gui.BackgroundTransparency = 1
			end
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Background End")
end

function DefaultPropertiesTool.AnchorPoint()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Anchor Point")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			gui.AnchorPoint = Vector2.new(0.5, 0.5)
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Anchor Point End")
end

function DefaultPropertiesTool.Position()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Position")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			gui.Position = UDim2.fromScale(0.5, 0.5)
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Position End")
end

function DefaultPropertiesTool.Size()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Size")

	for _, gui in ipairs(targets) do
		if gui:IsA("GuiObject") then
			gui.Size = UDim2.fromScale(1, 1)
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Size End")
end

function DefaultPropertiesTool.Visibility()
	local targets = Selection:Get()
	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Visibility")

	for _, gui in ipairs(targets) do
		if gui:IsA("ScreenGui") then
			gui.Enabled = not gui.Enabled
		elseif gui:IsA("GuiObject") then
			gui.Visible = not gui.Visible
		end
	end

	ChangeHistoryService:SetWaypoint("Lume Properties Visibility End")
end

return DefaultPropertiesTool]]></ProtectedString>
							<string name="ScriptGuid">{82B856B4-B909-47BD-931A-BF603075C33D}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">DefaultPropertiesTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX7106C7762D124CF396AA08DBF8797CE4">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local InstanceTool = {}

local HttpService = game:GetService("HttpService")
local CollectionService = game:GetService("CollectionService")
local ChangeHistoryService = game:GetService("ChangeHistoryService")
local Selection = game:GetService("Selection")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local API_DUMP_URL = "https://raw.githubusercontent.com/MaximumADHD/Roblox-Client-Tracker/roblox/API-Dump.json"
local ROOT_CLASS_NAME = "<<<ROOT>>>"

local IGNORE_TAGS = {
	ReadOnly = true,
	Deprecated = true,
	Hidden = true,
	NotScriptable = true
}

local apiDumpCache = nil
local classEntryCache = {}
local membersCache = {}
local convertablePropsCache = {}

local isFetching = false
local fetchCompletedEvent = Instance.new("BindableEvent")

local function executeFetch()
	if apiDumpCache then return end
	isFetching = true

	local success, result = pcall(function()
		local jsonString = HttpService:GetAsync(API_DUMP_URL)
		return HttpService:JSONDecode(jsonString)
	end)

	if success then
		apiDumpCache = result
	end

	isFetching = false
	fetchCompletedEvent:Fire()
end

task.spawn(executeFetch)

local function ensureApiDumpReady()
	if apiDumpCache then return true end

	if not isFetching and not apiDumpCache then
		task.spawn(executeFetch)
	end

	if isFetching then
		fetchCompletedEvent.Event:Wait()
	end

	return apiDumpCache ~= nil
end

local function getClassEntry(className)
	if classEntryCache[className] then return classEntryCache[className] end
	if not apiDumpCache then return nil end

	for _, entry in ipairs(apiDumpCache.Classes) do
		if entry.Name == className then
			classEntryCache[className] = entry
			return entry
		end
	end
	return nil
end

local function getMembers(className)
	if membersCache[className] then return membersCache[className] end

	local members, entries = {}, {}
	local currentEntry = getClassEntry(className)

	while currentEntry and currentEntry.Superclass ~= ROOT_CLASS_NAME do
		table.insert(entries, 1, currentEntry)
		currentEntry = getClassEntry(currentEntry.Superclass)
	end
	if currentEntry then table.insert(entries, 1, currentEntry) end

	for _, entry in ipairs(entries) do
		for _, member in ipairs(entry.Members or {}) do
			table.insert(members, member)
		end
	end
	membersCache[className] = members
	return members
end

local function getConvertableProperties(className)
	if convertablePropsCache[className] then return convertablePropsCache[className] end

	local members = getMembers(className)
	local properties = {}

	for _, member in ipairs(members) do
		if member.MemberType == "Property" then
			local isConvertable = true
			if member.Tags then
				for _, tag in ipairs(member.Tags) do
					if IGNORE_TAGS[tag] then isConvertable = false; break end
				end
			end
			if isConvertable then table.insert(properties, member.Name) end
		end
	end
	convertablePropsCache[className] = properties
	return properties
end

local function applyUniqueName(obj, baseName)
	local parent = obj.Parent
	if not parent then 
		obj.Name = baseName 
		return 
	end

	local name = baseName
	local count = 1
	
	while parent:FindFirstChild(name) and parent:FindFirstChild(name) ~= obj do
		count = count + 1
		name = baseName
	end
	obj.Name = name
end

local function applySmartDefaults(instance)
	if not instance:IsA("GuiObject") then return end
	pcall(function()
		if instance.Size == UDim2.new(0, 0, 0, 0) then 
			instance.Size = UDim2.fromOffset(100, 100) 
		end

		pcall(function() instance.BorderSizePixel = 0 end)

		pcall(function() 
			instance.BackgroundColor3 = Color3.fromRGB(255, 255, 255) 
		end)

		pcall(function()
			instance.BorderColor3 = Color3.fromRGB(0, 0, 0)
		end)

		if instance:IsA("TextLabel") or instance:IsA("TextButton") or instance:IsA("TextBox") then
			if instance.Text == "" then instance.Text = instance.ClassName end
			
			instance.TextColor3 = Color3.new(0,0,0)
		end

		if instance:IsA("ImageLabel") or instance:IsA("ImageButton") then
			instance.ImageColor3 = Color3.fromRGB(255, 255, 255)
		end
	end)
end

local function convertInstance(instance, targetClassName)
	if not getClassEntry(targetClassName) then
		error("Classe no encontrada: " .. tostring(targetClassName))
	end

	local sourceProps = getConvertableProperties(instance.ClassName)
	local targetProps = getConvertableProperties(targetClassName)

	local success, newInstance = pcall(function() return Instance.new(targetClassName) end)
	if not success then error("Falha ao criar: " .. targetClassName) end

	for _, propName in ipairs(sourceProps) do
		if propName ~= "Parent" and propName ~= "Name" and table.find(targetProps, propName) then
			local valSuccess, val = pcall(function() return instance[propName] end)
			if valSuccess then
				pcall(function() newInstance[propName] = val end)
			end
		end
	end

	for _, tag in ipairs(CollectionService:GetTags(instance)) do
		CollectionService:AddTag(newInstance, tag)
	end
	pcall(function()
		for k, v in pairs(instance:GetAttributes()) do newInstance:SetAttribute(k, v) end
	end)

	for _, child in ipairs(instance:GetChildren()) do
		child.Parent = newInstance
		pcall(function()
			local cProps = getConvertableProperties(child.ClassName)
			for _, pName in ipairs(cProps) do
				pcall(function() if child[pName] == instance then child[pName] = newInstance end end)
			end
		end)
	end

	newInstance.Parent = instance.Parent

	applyUniqueName(newInstance, targetClassName)

	instance:Destroy()
	return newInstance
end

function InstanceTool.Replace(targetClassName)
	if not ensureApiDumpReady() then
		warn("[InstanceTool] API Dump offline. No  possvel fazer Replace inteligente.")
		return 
	end

	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume Replace Start")

	local newSelection = {}
	local processed = 0

	for _, obj in ipairs(targets) do
		local s, res = pcall(function() return convertInstance(obj, targetClassName) end)
		if s and res then
			table.insert(newSelection, res)
			processed = processed + 1
		else
			warn("Erro ao converter", obj.Name, ":", res)
		end
	end

	if processed > 0 then
		if #newSelection > 0 then Selection:Set(newSelection) end
		ChangeHistoryService:SetWaypoint("Lume Replace End")
	end
end

function InstanceTool.Add(className)
	if not apiDumpCache then task.spawn(ensureApiDumpReady) end

	ChangeHistoryService:SetWaypoint("Lume Add Start")

	local s, newObj = pcall(function() return Instance.new(className) end)
	if not s then warn("Classe invlida:", className); return end

	local targets = Selection:Get()
	local parent = targets[1]

	if not parent or not (parent:IsA("GuiObject") or parent:IsA("ScreenGui") or parent:IsA("Folder") or parent:IsA("Frame")) then
		parent = (targets[1] and targets[1].Parent) or game:GetService("StarterGui")
	end

	if #targets > 1 then
		local common = targets[1].Parent
		for i=2, #targets do
			if targets[i].Parent ~= common then common = nil; break end
		end
		parent = common or game:GetService("StarterGui")
	end
	newObj.Parent = parent

	applySmartDefaults(newObj)

	applyUniqueName(newObj, className)

	Selection:Set({newObj})
	ChangeHistoryService:SetWaypoint("Lume Add End")
end

function InstanceTool.IsApiDumpLoaded()
	return apiDumpCache ~= nil
end

return InstanceTool]]></ProtectedString>
							<string name="ScriptGuid">{90577F7B-3871-4ACC-A6BF-14CC091DD808}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">InstanceTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
				<Item class="Folder" referent="RBX15EE2A576F504A7CA1923D92EB599D1D">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Utility</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBX8E384E57BC164C9D990FE5509A1E65CB">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ImageContentTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")
local AssetService = game:GetService("AssetService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local State = RequireCore.State

local imageCache = {}

local function getImageDimensions(imageId)
	if imageCache[imageId] then
		return imageCache[imageId].width, imageCache[imageId].height
	end

	local numericId = imageId:match("rbxassetid://(%d+)") or imageId:match("(%d+)")
	if not numericId then return nil, nil end

	local contentId = "rbxassetid://" .. numericId

	local success, result = pcall(function()
		local editableImage = AssetService:CreateEditableImageAsync(contentId)

		local size = editableImage.Size
		editableImage:Destroy()
		return size
	end)

	if success and result then
		imageCache[imageId] = {
			width = result.X,
			height = result.Y
		}
		return result.X, result.Y
	else
		warn("Falha ao obter tamanho real da imagem (Pode ser restrio de permisso): " .. contentId)
		return nil, nil
	end
end

local function hasImageProperty(obj)
	return obj:IsA("ImageLabel") or obj:IsA("ImageButton")
end

function ImageContentTool.ConvertToOffset()
	local targets = Selection:Get()
	local validTargets = {}
	for _, obj in ipairs(targets) do
		if hasImageProperty(obj) and obj.Image ~= "" then
			table.insert(validTargets, obj)
		end
	end

	if #validTargets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume ImageContent Offset Start")

	for _, gui in ipairs(validTargets) do
		local width, height = getImageDimensions(gui.Image)

		if width and height then
			gui.Size = UDim2.fromOffset(width, height)
		end
	end

	if State.Get("ImageContent_AspectRatio") then
		ImageContentTool.ApplyAspectRatio()
	end

	ChangeHistoryService:SetWaypoint("Lume ImageContent Offset End")
end

function ImageContentTool.ConvertToScale()
	local targets = Selection:Get()
	local validTargets = {}
	for _, obj in ipairs(targets) do
		if hasImageProperty(obj) and obj.Image ~= "" then table.insert(validTargets, obj) end
	end

	if #validTargets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume ImageContent Scale Start")

	for _, gui in ipairs(validTargets) do
		local width, height = getImageDimensions(gui.Image)

		if width and height then
			local parent = gui.Parent
			local parentSize = Vector2.new(workspace.CurrentCamera.ViewportSize.X, workspace.CurrentCamera.ViewportSize.Y)

			if parent and parent:IsA("GuiObject") then
				parentSize = parent.AbsoluteSize
			elseif parent and (parent:IsA("ScreenGui") or parent:IsA("PluginGui")) then
				parentSize = parent.AbsoluteSize
			end

			if parentSize.X > 0 and parentSize.Y > 0 then
				local scaleX = width / parentSize.X
				local scaleY = height / parentSize.Y
				gui.Size = UDim2.fromScale(scaleX, scaleY)
			end
		end
	end

	if State.Get("ImageContent_AspectRatio") then
		ImageContentTool.ApplyAspectRatio()
	end

	ChangeHistoryService:SetWaypoint("Lume ImageContent Scale End")
end

function ImageContentTool.ApplyAspectRatio()
	local targets = Selection:Get()
	for _, gui in ipairs(targets) do
		if hasImageProperty(gui) and gui.Image ~= "" then
			local width, height = getImageDimensions(gui.Image)
			if width and height then
				local constraint = gui:FindFirstChildOfClass("UIAspectRatioConstraint") 
					or Instance.new("UIAspectRatioConstraint", gui)

				constraint.AspectRatio = width / height
				constraint.DominantAxis = Enum.DominantAxis.Width
				constraint.AspectType = Enum.AspectType.FitWithinMaxSize
			end
		end
	end
end

function ImageContentTool.ClearCache()
	imageCache = {}
end

return ImageContentTool]]></ProtectedString>
							<string name="ScriptGuid">{DD755FC9-EA07-4292-AC2B-3983E7ECC213}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ImageContentTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXF31823AAD18048B1BCB674F303F353B9">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local UIConvertTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local State = RequireCore.State

local UI_CONVERSIONS = {
	UICorner = {
		properties = {"CornerRadius"},
		useSmallerDimension = true
	},
	UIGridLayout = {
		properties = {"CellPadding", "CellSize"},
		hasXY = true
	},
	UIListLayout = {
		properties = {"Padding"},
		useSmallerDimension = true
	},
	UIPadding = {
		properties = {"PaddingTop", "PaddingBottom", "PaddingLeft", "PaddingRight"},
		separateAxis = true
	},
	UIPageLayout = {
		properties = {"Padding"},
		useSmallerDimension = true
	},
	UIStroke = {
		properties = {"Thickness"},
		special = "Thickness"
	},
	UITableLayout = {
		properties = {"Padding"},
		hasXY = true
	}
}

local function convertUDim2ToScale(udim2Value, parentWidth, parentHeight)
	if not parentWidth or parentWidth == 0 or not parentHeight or parentHeight == 0 then 
		return udim2Value 
	end

	local scaleX = (udim2Value.X.Scale * parentWidth + udim2Value.X.Offset) / parentWidth
	local scaleY = (udim2Value.Y.Scale * parentHeight + udim2Value.Y.Offset) / parentHeight

	return UDim2.new(scaleX, 0, scaleY, 0)
end

local function convertUDim2ToOffset(udim2Value, parentWidth, parentHeight)
	if not parentWidth or parentWidth == 0 or not parentHeight or parentHeight == 0 then 
		return udim2Value 
	end

	local offsetX = udim2Value.X.Scale * parentWidth + udim2Value.X.Offset
	local offsetY = udim2Value.Y.Scale * parentHeight + udim2Value.Y.Offset

	return UDim2.new(0, math.round(offsetX), 0, math.round(offsetY))
end

local function convertUDimToScale(udimValue, parentDimension)
	if not parentDimension or parentDimension == 0 then return udimValue end

	local scale = (udimValue.Scale * parentDimension + udimValue.Offset) / parentDimension
	return UDim.new(scale, 0)
end

local function convertUDimToOffset(udimValue, parentDimension)
	if not parentDimension or parentDimension == 0 then return udimValue end

	local offset = udimValue.Scale * parentDimension + udimValue.Offset
	return UDim.new(0, math.round(offset))
end

local function getParentSize(instance)
	local parent = instance.Parent
	if not parent then return nil end

	if parent:IsA("GuiObject") then
		return parent.AbsoluteSize
	elseif parent:IsA("ScreenGui") or parent:IsA("BillboardGui") then
		return parent.AbsoluteSize
	end

	return nil
end

function UIConvertTool.ConvertAll(mode)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume UIConvert Start")

	local frozenX = State.Get("UIConvert_FrozenX")
	local frozenY = State.Get("UIConvert_FrozenY")

	for _, instance in ipairs(targets) do
		local conversionData = UI_CONVERSIONS[instance.ClassName]
		if not conversionData then continue end

		local parentSize = getParentSize(instance)
		if not parentSize then continue end

		if instance.ClassName == "UIPadding" then
			for _, propertyName in ipairs(conversionData.properties) do
				local currentValue = instance[propertyName]
				if typeof(currentValue) ~= "UDim" then continue end

				local dimension
				if propertyName == "PaddingLeft" or propertyName == "PaddingRight" then
					dimension = parentSize.X
					dimension = parentSize.Y
				end

				local newValue
				if mode == "Scale" then
					newValue = convertUDimToScale(currentValue, dimension)
				else
					newValue = convertUDimToOffset(currentValue, dimension)
				end

				instance[propertyName] = newValue
			end
			continue
		end
		
		if conversionData.useSmallerDimension then
			for _, propertyName in ipairs(conversionData.properties) do
				local currentValue = instance[propertyName]
				if typeof(currentValue) ~= "UDim" then continue end

				local smallerDimension = math.min(parentSize.X, parentSize.Y)

				local newValue
				if mode == "Scale" then
					newValue = convertUDimToScale(currentValue, smallerDimension)
				else
					newValue = convertUDimToOffset(currentValue, smallerDimension)
				end

				instance[propertyName] = newValue
			end
			continue
		end

		if conversionData.hasXY then
			for _, propertyName in ipairs(conversionData.properties) do
				local currentValue = instance[propertyName]
				if typeof(currentValue) ~= "UDim2" then continue end

				local newValue
				if mode == "Scale" then
					newValue = convertUDim2ToScale(currentValue, parentSize.X, parentSize.Y)
				else
					newValue = convertUDim2ToOffset(currentValue, parentSize.X, parentSize.Y)
				end

				if frozenX then
					newValue = UDim2.new(currentValue.X, newValue.Y)
				end
				if frozenY then
					newValue = UDim2.new(newValue.X, currentValue.Y)
				end

				instance[propertyName] = newValue
			end
			continue
		end
	end

	ChangeHistoryService:SetWaypoint("Lume UIConvert End")
end

function UIConvertTool.ConvertProperty(mode, propertyName)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume UIConvert Start")

	local frozenX = State.Get("UIConvert_FrozenX")
	local frozenY = State.Get("UIConvert_FrozenY")

	for _, instance in ipairs(targets) do
		local conversionData = UI_CONVERSIONS[instance.ClassName]
		if not conversionData then continue end

		if not table.find(conversionData.properties, propertyName) then continue end

		local parentSize = getParentSize(instance)
		if not parentSize then continue end

		local currentValue = instance[propertyName]

		if typeof(currentValue) == "UDim2" then
			local newValue
			if mode == "Scale" then
				newValue = convertUDim2ToScale(currentValue, parentSize.X, parentSize.Y)
			else
				newValue = convertUDim2ToOffset(currentValue, parentSize.X, parentSize.Y)
			end

			if frozenX then
				newValue = UDim2.new(currentValue.X, newValue.Y)
			end
			if frozenY then
				newValue = UDim2.new(newValue.X, currentValue.Y)
			end

			instance[propertyName] = newValue

		elseif typeof(currentValue) == "UDim" then
			local dimension
			
			if instance.ClassName == "UIPadding" then
				if propertyName == "PaddingLeft" or propertyName == "PaddingRight" then
					dimension = parentSize.X
				else
					dimension = parentSize.Y
				end
			elseif conversionData.useSmallerDimension then
				dimension = math.min(parentSize.X, parentSize.Y)
			else
				dimension = parentSize.X
			end

			local newValue
			if mode == "Scale" then
				newValue = convertUDimToScale(currentValue, dimension)
			else
				newValue = convertUDimToOffset(currentValue, dimension)
			end

			instance[propertyName] = newValue
		end
	end

	ChangeHistoryService:SetWaypoint("Lume UIConvert End")
end

function UIConvertTool.ConvertThickness(mode)
	local targets = Selection:Get()
	if #targets == 0 then return end

	ChangeHistoryService:SetWaypoint("Lume UIConvert Thickness Start")

	for _, instance in ipairs(targets) do
		if not instance:IsA("UIStroke") then continue end

		local parent = instance.Parent
		if not parent or not parent:IsA("GuiObject") then 
			continue 
		end

		local referenceSize = math.min(parent.AbsoluteSize.X, parent.AbsoluteSize.Y)

		if referenceSize <= 0 then referenceSize = 1 end

		if mode == "Scaled" then
			if instance.StrokeSizingMode ~= Enum.StrokeSizingMode.FixedSize then 
				continue 
			end

			local currentThickness = instance.Thickness
			local scaledThickness = currentThickness / referenceSize

			instance.Thickness = scaledThickness
			instance.StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
		else
			if instance.StrokeSizingMode ~= Enum.StrokeSizingMode.ScaledSize then 
				continue 
			end

			local currentThickness = instance.Thickness
			local fixedThickness = currentThickness * referenceSize

			instance.Thickness = math.max(1, math.round(fixedThickness))
			instance.StrokeSizingMode = Enum.StrokeSizingMode.FixedSize
		end
	end

	ChangeHistoryService:SetWaypoint("Lume UIConvert Thickness End")
end

function UIConvertTool.ConvertCellPaddingScale()
	UIConvertTool.ConvertProperty("Scale", "CellPadding")
end

function UIConvertTool.ConvertCellPaddingOffset()
	UIConvertTool.ConvertProperty("Offset", "CellPadding")
end

function UIConvertTool.ConvertCellSizeScale()
	UIConvertTool.ConvertProperty("Scale", "CellSize")
end

function UIConvertTool.ConvertCellSizeOffset()
	UIConvertTool.ConvertProperty("Offset", "CellSize")
end

function UIConvertTool.ConvertPaddingScale()
	UIConvertTool.ConvertProperty("Scale", "Padding")
end

function UIConvertTool.ConvertPaddingOffset()
	UIConvertTool.ConvertProperty("Offset", "Padding")
end

function UIConvertTool.ConvertCornerScale()
	UIConvertTool.ConvertProperty("Scale", "CornerRadius")
end

function UIConvertTool.ConvertCornerOffset()
	UIConvertTool.ConvertProperty("Offset", "CornerRadius")
end

return UIConvertTool]]></ProtectedString>
							<string name="ScriptGuid">{6F0E3EF7-2487-468E-964A-0985D9A34125}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">UIConvertTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX151217AF0C504F8383E9661D36CEB2AE">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local BoundTool = {}

local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local State = RequireCore.State

local function calculateBoundingBox(instances)
	if #instances == 0 then return nil end

	local minX, minY = math.huge, math.huge
	local maxX, maxY = -math.huge, -math.huge

	for _, gui in ipairs(instances) do
		if gui:IsA("GuiObject") then
			local pos = gui.AbsolutePosition
			local size = gui.AbsoluteSize

			minX = math.min(minX, pos.X)
			minY = math.min(minY, pos.Y)
			maxX = math.max(maxX, pos.X + size.X)
			maxY = math.max(maxY, pos.Y + size.Y)
		end
	end

	return {
		minX = minX,
		minY = minY,
		maxX = maxX,
		maxY = maxY,
		width = maxX - minX,
		height = maxY - minY
	}
end

local function getCommonParent(instances)
	if #instances == 0 then return nil end
	local firstParent = instances[1].Parent
	for _, gui in ipairs(instances) do
		if gui.Parent ~= firstParent then
			return nil
		end
	end
	return firstParent
end

function BoundTool.Bound()
	local targets = Selection:Get()

	local validTargets = {}
	for _, obj in ipairs(targets) do
		if obj:IsA("GuiObject") then
			table.insert(validTargets, obj)
		end
	end

	if #validTargets < 2 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Bound Start")

	local parent = getCommonParent(validTargets)
	if not parent then
		ChangeHistoryService:SetWaypoint("Lume Bound Cancel")
		return
	end

	local bbox = calculateBoundingBox(validTargets)
	if not bbox then
		ChangeHistoryService:SetWaypoint("Lume Bound Cancel")
		return
	end

	local preservePosition = State.Get("Bound_PreservePosition")

	local boundFrame = Instance.new("Frame")
	boundFrame.Name = "BoundGroup"
	boundFrame.BackgroundTransparency = 1
	boundFrame.BorderSizePixel = 0
	boundFrame.AnchorPoint = Vector2.new(0.5, 0.5)

	local oldParentAbsPos = Vector2.zero
	local oldParentAbsSize = parent.AbsoluteSize

	if parent:IsA("GuiObject") then
		oldParentAbsPos = parent.AbsolutePosition
	elseif parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then
		local GuiService = game:GetService("GuiService")
		oldParentAbsPos = GuiService:GetGuiInset()
		oldParentAbsSize = oldParentAbsSize - oldParentAbsPos
	end

	local centerX = bbox.minX + (bbox.width / 2)
	local centerY = bbox.minY + (bbox.height / 2)

	local relX = centerX - oldParentAbsPos.X
	local relY = centerY - oldParentAbsPos.Y

	boundFrame.Size = UDim2.fromOffset(bbox.width, bbox.height)
	boundFrame.Position = UDim2.fromOffset(relX, relY)
	boundFrame.Parent = parent

	task.wait() 

	for _, gui in ipairs(validTargets) do
		if preservePosition then
			local currentAbsPos = gui.AbsolutePosition
			local currentAbsSize = gui.AbsoluteSize
			local boundAbsPos = boundFrame.AbsolutePosition
			local boundAbsSize = boundFrame.AbsoluteSize
			
			local targetPixelX = currentAbsPos.X - boundAbsPos.X + (currentAbsSize.X * gui.AnchorPoint.X)
			local targetPixelY = currentAbsPos.Y - boundAbsPos.Y + (currentAbsSize.Y * gui.AnchorPoint.Y)

			local newScaleX, newOffsetX = 0, 0
			local newScaleY, newOffsetY = 0, 0

			if gui.Position.X.Scale ~= 0 then
				newScaleX = (gui.Position.X.Scale * oldParentAbsSize.X) / boundAbsSize.X
				newOffsetX = targetPixelX - (newScaleX * boundAbsSize.X)
			else
				newOffsetX = targetPixelX
			end

			if gui.Position.Y.Scale ~= 0 then
				newScaleY = (gui.Position.Y.Scale * oldParentAbsSize.Y) / boundAbsSize.Y
				newOffsetY = targetPixelY - (newScaleY * boundAbsSize.Y)
			else
				newOffsetY = targetPixelY
			end

			local newSizeScaleX = 0
			local newSizeScaleY = 0

			if gui.Size.X.Scale ~= 0 then
				newSizeScaleX = (gui.Size.X.Scale * oldParentAbsSize.X) / boundAbsSize.X
			end

			if gui.Size.Y.Scale ~= 0 then
				newSizeScaleY = (gui.Size.Y.Scale * oldParentAbsSize.Y) / boundAbsSize.Y
			end

			gui.Parent = boundFrame
			gui.Position = UDim2.new(newScaleX, newOffsetX, newScaleY, newOffsetY)
			gui.Size = UDim2.new(newSizeScaleX, gui.Size.X.Offset, newSizeScaleY, gui.Size.Y.Offset)
		else
			gui.Parent = boundFrame
		end
	end

	Selection:Set({boundFrame})
	ChangeHistoryService:SetWaypoint("Lume Bound End")
end

function BoundTool.Unbound()
	local targets = Selection:Get()

	if #targets == 0 then
		return
	end

	ChangeHistoryService:SetWaypoint("Lume Unbound Start")

	local preservePosition = State.Get("Bound_PreservePosition")
	local unboundObjects = {}

	for _, frame in ipairs(targets) do
		if frame:IsA("Frame") or frame:IsA("GuiObject") then
			local parent = frame.Parent
			if not parent then continue end

			local children = {}
			for _, child in ipairs(frame:GetChildren()) do
				if child:IsA("GuiObject") then
					table.insert(children, child)
				end
			end

			if #children > 0 then
				local newParentAbsPos = Vector2.zero
				local newParentAbsSize = parent.AbsoluteSize

				if parent:IsA("GuiObject") then
					newParentAbsPos = parent.AbsolutePosition
				elseif parent:IsA("ScreenGui") and not parent.IgnoreGuiInset then
					local GuiService = game:GetService("GuiService")
					newParentAbsPos = GuiService:GetGuiInset()
					newParentAbsSize = newParentAbsSize - newParentAbsPos
				end

				local oldParentAbsSize = frame.AbsoluteSize

				for _, child in ipairs(children) do
					if preservePosition then
						local currentAbsPos = child.AbsolutePosition
						local currentAbsSize = child.AbsoluteSize

						local targetPixelX = currentAbsPos.X - newParentAbsPos.X + (currentAbsSize.X * child.AnchorPoint.X)
						local targetPixelY = currentAbsPos.Y - newParentAbsPos.Y + (currentAbsSize.Y * child.AnchorPoint.Y)

						local newScaleX, newOffsetX = 0, 0
						local newScaleY, newOffsetY = 0, 0

						if child.Position.X.Scale ~= 0 then
							newScaleX = (child.Position.X.Scale * oldParentAbsSize.X) / newParentAbsSize.X
							newOffsetX = targetPixelX - (newScaleX * newParentAbsSize.X)
						else
							newOffsetX = targetPixelX
						end

						if child.Position.Y.Scale ~= 0 then
							newScaleY = (child.Position.Y.Scale * oldParentAbsSize.Y) / newParentAbsSize.Y
							newOffsetY = targetPixelY - (newScaleY * newParentAbsSize.Y)
						else
							newOffsetY = targetPixelY
						end

						local newSizeScaleX = 0
						local newSizeScaleY = 0

						if child.Size.X.Scale ~= 0 then
							newSizeScaleX = (child.Size.X.Scale * oldParentAbsSize.X) / newParentAbsSize.X
						end

						if child.Size.Y.Scale ~= 0 then
							newSizeScaleY = (child.Size.Y.Scale * oldParentAbsSize.Y) / newParentAbsSize.Y
						end

						child.Parent = parent
						child.Position = UDim2.new(newScaleX, newOffsetX, newScaleY, newOffsetY)
						child.Size = UDim2.new(newSizeScaleX, child.Size.X.Offset, newSizeScaleY, child.Size.Y.Offset)
					else
						child.Parent = parent
					end

					table.insert(unboundObjects, child)
				end

				frame:Destroy()
			end
		end
	end

	if #unboundObjects > 0 then
		Selection:Set(unboundObjects)
	end

	ChangeHistoryService:SetWaypoint("Lume Unbound End")
end

return BoundTool]]></ProtectedString>
							<string name="ScriptGuid">{3804BEA7-3087-4E8D-88C0-23093ADE081D}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">BoundTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX8F22FCBF3EB5442D85804BEDFB85A9FD">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ZoomTool = {}
ZoomTool.__index = ZoomTool

local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local GuiService = game:GetService("GuiService")
local Selection = game:GetService("Selection")
local ContextActionService = game:GetService("ContextActionService")
local RunService = game:GetService("RunService")
local ChangeHistoryService = game:GetService("ChangeHistoryService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local State = RequireCore.State
local Config = RequireCore.Config.Data
local CoreController = RequireCore.CoreController
local UI = RequireCore.UIFramework
local InputHandler = RequireCore.InputHandler
local Divider = RequireCore.Divider

local wrapperFrames: {[ScreenGui]: Frame} = {}
local wrapperCreatedByUs: {[Frame]: boolean} = {}
local rulerLines: {Frame} = {}
local lastMousePos: Vector2? = nil
local pluginRef: Plugin? = nil
local stateModule: any? = nil
local isMovingWrapper: boolean = false
local isZoomActive: boolean = false
local sidebarCollapsed: boolean = false
local isRulerMode: boolean = false
local draggedRuler: Frame? = nil
local boundActions: {string} = {}
local rulerDragStartPos: Vector2? = nil
local rulerSnapActive: boolean = false
local currentZoomValue: number = 1

local zoomContainer: CanvasGroup? = nil
local zoomPercentageLabel: TextLabel? = nil
local zoomSidebar: Frame? = nil

local inputConnections: {RBXScriptConnection} = {}
local heartbeatConnection: RBXScriptConnection? = nil
local zoomScaleConnections: {RBXScriptConnection} = {}

local MIN_ZOOM = 0.1
local MAX_ZOOM = 100.0
local ZOOM_STEP = 0.1
local RULER_SNAP_DISTANCE = 10
local RULER_THICKNESS = 2

local function getMousePosition(): Vector2
	local mouseLocation = UserInputService:GetMouseLocation()
	local inset = GuiService:GetGuiInset()
	return Vector2.new(mouseLocation.X - inset.X, mouseLocation.Y - inset.Y)
end

local function getAllScreenGuis(): {ScreenGui}
	local screenGuis: {ScreenGui} = {}
	for _, child in ipairs(StarterGui:GetChildren()) do
		if child:IsA("ScreenGui") and child.Parent == StarterGui then
			table.insert(screenGuis, child)
		end
	end
	return screenGuis
end

local function createSidebar(parent: Instance): Frame
	local sidebar = UI.new("Frame", {
		Name = "ZoomSidebar",
		Size = UDim2.new(0, 50, 0, 100),
		Position = UDim2.new(0, 3, 1, -110),
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		BackgroundTransparency = 0.2,
		AutomaticSize = Enum.AutomaticSize.Y,
		Parent = parent
	}, {
		UI.new("UIScale", {Scale = 0.7}),
		UI.new("UICorner", {CornerRadius = UDim.new(0, 8)}),
		UI.new("UIStroke", {
			Color = Config.Global.Colors.AccentColor,
			Thickness = 0.05,
			Transparency = 0.6,
			StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
		}),
		UI.new("UIListLayout", {
			Padding = UDim.new(0, 5),
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Top
		}),
		UI.new("UIPadding", {
			PaddingTop = UDim.new(0, 8),
			PaddingBottom = UDim.new(0, 8),
			PaddingLeft = UDim.new(0, 8),
			PaddingRight = UDim.new(0, 8)
		})
	})

	local layout = sidebar:FindFirstChildOfClass("UIListLayout")
	if layout then
		layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			local totalHeight = layout.AbsoluteContentSize.Y + 16
			sidebar.Position = UDim2.new(0, 3, 1, -(totalHeight + 10))
		end)
	end

	return sidebar
end

local function updateZoomIndicator()
	if not zoomPercentageLabel or zoomPercentageLabel.Text == "%" then
		return
	end

	local allScreenGuis = getAllScreenGuis()
	if #allScreenGuis == 0 then
		zoomPercentageLabel.Text = "100%"
		return
	end

	local currentZoom = ZoomTool.getCurrentZoom(allScreenGuis[1])
	zoomPercentageLabel.Text = string.format("%.0f%%", currentZoom * 100)
end

local function setupZoomScaleWatchers()
	for _, conn in ipairs(zoomScaleConnections) do
		conn:Disconnect()
	end
	table.clear(zoomScaleConnections)

	local allScreenGuis = getAllScreenGuis()
	for _, screenGui in ipairs(allScreenGuis) do
		local wrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
		if wrapper and wrapper:IsA("Frame") then
			local uiScale = wrapper:FindFirstChildOfClass("UIScale")
			if uiScale then
				local conn = uiScale:GetPropertyChangedSignal("Scale"):Connect(function()
					updateZoomIndicator()
				end)
				table.insert(zoomScaleConnections, conn)
			end
		end
	end
end

local function createZoomUI()
	if zoomContainer then return end

	local coreGui = CoreController.getScreenGui()
	if not coreGui then return end

	zoomContainer = UI.new("CanvasGroup", {
		Name = "Zoom",
		Size = UDim2.fromScale(1, 1),
		BackgroundTransparency = 1,
		ZIndex = 10000,
		Parent = coreGui
	})

	zoomPercentageLabel = UI.new("TextLabel", {
		Name = "ZoomPercentage",
		Size = UDim2.new(0, 65, 0, 20),
		Position = UDim2.new(0, 3, 0, 5),
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		BackgroundTransparency = 0.35,
		Text = "100%",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 16,
		Font = Enum.Font.GothamBold,
		TextXAlignment = Enum.TextXAlignment.Center,
		Parent = zoomContainer
	}, {
		UI.new("UIScale", {Scale = 0.8}),
		UI.new("UICorner", {CornerRadius = UDim.new(0.2, 0)}),
		UI.new("UIStroke", {
			Color = Color3.fromRGB(203, 203, 203),
			Thickness = 0.1,
			Transparency = 0.8,
			StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize
		})
	})

	zoomSidebar = createSidebar(zoomContainer)

	local btnCollapse = UI.new("TextButton", {
		Name = "100CollapseBtn",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor2,
		Text = "",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 14,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local Divider1 = Divider.new("ZoomDivider", 10, zoomSidebar)
	
	local btnMoveTool = UI.new("TextButton", {
		Name = "11MoveTool",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		Text = "",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 16,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})
	
	local btnRuler = UI.new("TextButton", {
		Name = "12RulerTool",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		Text = "",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 16,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local Divider2 = Divider.new("ZoomDivider", 13, zoomSidebar)

	local btnZoomIn = UI.new("TextButton", {
		Name = "14ZoomIn",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		Text = "+",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 18,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local btnZoomOut = UI.new("TextButton", {
		Name = "15ZoomOut",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		Text = "-",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 18,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local Divider3 = Divider.new("ZoomDivider", 16, zoomSidebar)

	local btnPreset500 = UI.new("TextButton", {
		Name = "17ZoomPreset500",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		Text = "500%",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 11,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local btnPreset3500 = UI.new("TextButton", {
		Name = "18ZoomPreset3500",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor3,
		Text = "3500%",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 11,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	local btnReset = UI.new("TextButton", {
		Name = "19ZoomReset",
		Size = UDim2.new(0, 38, 0, 35),
		BackgroundColor3 = Config.Global.Colors.AccentColor2,
		Text = "100%",
		TextColor3 = Config.Global.Colors.TextColor,
		TextSize = 11,
		Font = Enum.Font.GothamBold,
		Parent = zoomSidebar,
		Tags = {"btn"}
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 6)})
	})

	InputHandler.BindPressAndHoldWithModifier(btnZoomIn, function()
		ZoomTool.zoomIn()
	end, {
		initialDelay = 0.3,
		normalInterval = 0.05,
		fastInterval = 0.02
	})

	InputHandler.BindPressAndHoldWithModifier(btnZoomOut, function()
		ZoomTool.zoomOut()
	end, {
		initialDelay = 0.3,
		normalInterval = 0.05,
		fastInterval = 0.02
	})

	btnReset.MouseButton1Click:Connect(function()
		ZoomTool.resetZoomLevel()
	end)

	btnPreset500.MouseButton1Click:Connect(function()
		ZoomTool.setZoom(5.0)
	end)

	btnPreset3500.MouseButton1Click:Connect(function()
		ZoomTool.setZoom(35.0)
	end)
	
	btnMoveTool.MouseButton1Click:Connect(function()
		isMovingWrapper = not isMovingWrapper
		btnMoveTool.BackgroundColor3 = isMovingWrapper 
			and Config.Global.Colors.SelectedColor 
			or Config.Global.Colors.AccentColor3
	end)
	
	btnRuler.MouseButton1Click:Connect(function()
		isRulerMode = not isRulerMode
		btnRuler.BackgroundColor3 = isRulerMode
			and Config.Global.Colors.SelectedColor
			or Config.Global.Colors.AccentColor3
	end)

	btnCollapse.MouseButton1Click:Connect(function()
		ZoomTool.toggleSidebar()
	end)

	zoomPercentageLabel.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			if zoomPercentageLabel.Text == "%" then
				zoomPercentageLabel.Text = string.format("%.0f%%", ZoomTool.getCurrentZoom(getAllScreenGuis()[1]) * 100)
			else
				zoomPercentageLabel.Text = "%"
			end
		end
	end)

	setupZoomScaleWatchers()
end

function ZoomTool.toggleSidebar()
	if not zoomSidebar then return end

	sidebarCollapsed = not sidebarCollapsed

	for _, child in ipairs(zoomSidebar:GetChildren()) do
		if (child:IsA("TextButton") or child:IsA("Frame")) and child.Name ~= "100CollapseBtn" then
			child.Visible = not sidebarCollapsed
		end
	end

	local collapseBtn = zoomSidebar:FindFirstChild("100CollapseBtn")
	if collapseBtn then
		collapseBtn.Text = sidebarCollapsed and "" or ""
	end
end

local function destroyZoomUI()
	for _, conn in ipairs(zoomScaleConnections) do
		conn:Disconnect()
	end
	table.clear(zoomScaleConnections)

	if zoomContainer then
		zoomContainer:Destroy()
		zoomContainer = nil
		zoomPercentageLabel = nil
		zoomSidebar = nil
	end
end

local function ensureWrapperFrame(screenGui: ScreenGui): Frame?	
	if not screenGui or not screenGui.Parent or screenGui.Parent ~= StarterGui then
		return nil
	end

	if wrapperFrames[screenGui] and wrapperFrames[screenGui].Parent then
		return wrapperFrames[screenGui]
	end

	local existingWrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
	if existingWrapper and existingWrapper:IsA("Frame") then
		wrapperFrames[screenGui] = existingWrapper
		wrapperCreatedByUs[existingWrapper] = true

		local uiScale = existingWrapper:FindFirstChildOfClass("UIScale")
		if not uiScale then
			uiScale = Instance.new("UIScale")
			uiScale.Scale = currentZoomValue
			uiScale.Parent = existingWrapper
		end
		return existingWrapper
	end

	ChangeHistoryService:SetWaypoint("Lume Zoom Create Canvas")

	local wrapper = Instance.new("Frame")
	wrapper.Name = Config.PluginName .. "_ZoomCanvas"
	wrapper.Size = UDim2.fromScale(1, 1)
	wrapper.AnchorPoint = Vector2.new(0.5, 0.5)
	wrapper.Position = UDim2.fromScale(0.5, 0.5)
	wrapper.BackgroundTransparency = 1
	wrapper.BorderSizePixel = 0

	local uiScale = Instance.new("UIScale")
	uiScale.Scale = currentZoomValue
	uiScale.Parent = wrapper

	local childrenToMove: {Instance} = {}
	for _, child in ipairs(screenGui:GetChildren()) do
		if child.Name ~= "Lume_ZoomCanvas" then
			table.insert(childrenToMove, child)
		end
	end

	wrapper.Parent = screenGui

	for _, child in ipairs(childrenToMove) do
		child.Parent = wrapper
	end

	wrapperFrames[screenGui] = wrapper
	wrapperCreatedByUs[wrapper] = true
	
	return wrapper
end

function ZoomTool.getCurrentZoom(screenGui: ScreenGui?): number
	if not screenGui or screenGui.Parent ~= StarterGui then
		return 1
	end

	local wrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
	if wrapper and wrapper:IsA("Frame") then
		local uiScale = wrapper:FindFirstChildOfClass("UIScale")
		return uiScale and uiScale.Scale or 1
	end

	return 1
end

function ZoomTool.setZoom(newZoom: number)
	newZoom = math.clamp(newZoom, MIN_ZOOM, MAX_ZOOM)
	currentZoomValue = newZoom

	local allScreenGuis = getAllScreenGuis()

	for _, screenGui in ipairs(allScreenGuis) do
		local wrapper = ensureWrapperFrame(screenGui)
		if wrapper then
			local uiScale = wrapper:FindFirstChildOfClass("UIScale")
			if uiScale then
				uiScale.Scale = newZoom
			end
		end
	end

	updateZoomIndicator()
	setupZoomScaleWatchers()
end

function ZoomTool.onPan(delta: Vector2)
	if not isMovingWrapper then return end

	local allScreenGuis = getAllScreenGuis()

	for _, screenGui in ipairs(allScreenGuis) do
		local wrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
		if wrapper and wrapper:IsA("Frame") then
			local currentPos = wrapper.Position
			wrapper.Position = UDim2.new(
				currentPos.X.Scale,
				currentPos.X.Offset + delta.X,
				currentPos.Y.Scale,
				currentPos.Y.Offset + delta.Y
			)
		end
	end
end

function ZoomTool.createRuler(isVertical: boolean, position: number)
	if not zoomContainer then return end

	local ruler = UI.new("Frame", {
		Name = isVertical and "RulerVertical" or "RulerHorizontal",
		BackgroundColor3 = Config.Global.Colors.AccentColor,
		BorderSizePixel = 0,
		ZIndex = 9999,
		Parent = zoomContainer
	})

	if isVertical then
		ruler.Size = UDim2.new(0, RULER_THICKNESS, 1, 0)
		ruler.Position = UDim2.new(0, position, 0, 0)
	else
		ruler.Size = UDim2.new(1, 0, 0, RULER_THICKNESS)
		ruler.Position = UDim2.new(0, 0, 0, position)
	end

	table.insert(rulerLines, ruler)
	return ruler
end

local function clearRulers()
	for _, ruler in ipairs(rulerLines) do
		if ruler and ruler.Parent then
			ruler:Destroy()
		end
	end
	table.clear(rulerLines)
end

local function checkRulerSnap()
	if not rulerSnapActive or draggedRuler or not isRulerMode then return end

	local selected = Selection:Get()
	if #selected == 0 then return end

	for _, ruler in ipairs(rulerLines) do
		if not ruler or not ruler.Parent then continue end

		local isVertical = ruler.Name:match("Vertical")
		local rulerPos = isVertical and ruler.Position.X.Offset or ruler.Position.Y.Offset

		for _, obj in ipairs(selected) do
			if not obj:IsA("GuiObject") then continue end

			local absPos = obj.AbsolutePosition
			local absSize = obj.AbsoluteSize

			if isVertical then
				local leftEdge = absPos.X
				local rightEdge = absPos.X + absSize.X
				local centerX = absPos.X + (absSize.X / 2)

				if math.abs(leftEdge - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - leftEdge
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset + delta, obj.Position.Y.Scale, obj.Position.Y.Offset)
				elseif math.abs(rightEdge - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - rightEdge
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset + delta, obj.Position.Y.Scale, obj.Position.Y.Offset)
				elseif math.abs(centerX - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - centerX
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset + delta, obj.Position.Y.Scale, obj.Position.Y.Offset)
				end
			else
				local topEdge = absPos.Y
				local bottomEdge = absPos.Y + absSize.Y
				local centerY = absPos.Y + (absSize.Y / 2)

				if math.abs(topEdge - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - topEdge
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset, obj.Position.Y.Scale, obj.Position.Y.Offset + delta)
				elseif math.abs(bottomEdge - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - bottomEdge
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset, obj.Position.Y.Scale, obj.Position.Y.Offset + delta)
				elseif math.abs(centerY - rulerPos) < RULER_SNAP_DISTANCE then
					local delta = rulerPos - centerY
					obj.Position = UDim2.new(obj.Position.X.Scale, obj.Position.X.Offset, obj.Position.Y.Scale, obj.Position.Y.Offset + delta)
				end
			end
		end
	end
end

local function removeAllWrappers()
	ChangeHistoryService:SetWaypoint("Lume Zoom Before Remove Canvas")

	local allScreenGuis = getAllScreenGuis()

	for _, screenGui in ipairs(allScreenGuis) do
		local wrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
		if wrapper and wrapper:IsA("Frame") and wrapperCreatedByUs[wrapper] then
			local childrenToRestore: {Instance} = {}
			for _, child in ipairs(wrapper:GetChildren()) do
				if not child:IsA("UIScale") then
					table.insert(childrenToRestore, child)
				end
			end

			for _, child in ipairs(childrenToRestore) do
				child.Parent = screenGui
			end

			wrapper:Destroy()
			wrapperCreatedByUs[wrapper] = nil
		end
	end

	wrapperFrames = {}
	clearRulers()

	ChangeHistoryService:SetWaypoint("Lume Zoom After Remove Canvas")
end

function ZoomTool.resetZoomLevel()
	ZoomTool.setZoom(1)

	local allScreenGuis = getAllScreenGuis()
	for _, screenGui in ipairs(allScreenGuis) do
		local wrapper = screenGui:FindFirstChild("Lume_ZoomCanvas")
		if wrapper and wrapper:IsA("Frame") then
			wrapper.Position = UDim2.fromScale(0.5, 0.5)
		end
	end
end

local function connectInputs()
	if #inputConnections > 0 then return end

	table.insert(inputConnections, UserInputService.InputChanged:Connect(function(input)
		if not isZoomActive then return end
		if input.UserInputType ~= Enum.UserInputType.MouseWheel then return end

		local currentZoom = ZoomTool.getCurrentZoom(getAllScreenGuis()[1])
		local direction = input.Position.Z > 0 and 1 or -1
		ZoomTool.setZoom(currentZoom + (direction * ZOOM_STEP))
	end))

	table.insert(inputConnections, UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed or not isZoomActive then return end

		if input.KeyCode == Enum.KeyCode.V then
			isMovingWrapper = not isMovingWrapper
			if zoomSidebar then
				local btnMoveTool = zoomSidebar:FindFirstChild("11MoveTool")
				if btnMoveTool then
					btnMoveTool.BackgroundColor3 = isMovingWrapper 
						and Config.Global.Colors.SelectedColor 
						or Config.Global.Colors.AccentColor3
				end
			end
		end
	end))

	table.insert(inputConnections, UserInputService.InputBegan:Connect(function(input)
		if not isZoomActive then return end

		if input.UserInputType == Enum.UserInputType.MouseButton2 or 
			(input.UserInputType == Enum.UserInputType.MouseButton1 and (isMovingWrapper or UserInputService:IsKeyDown(Enum.KeyCode.Space))) then
			lastMousePos = getMousePosition()
		end

		if input.KeyCode == Enum.KeyCode.LeftShift or input.KeyCode == Enum.KeyCode.RightShift then
			rulerSnapActive = true
		end
	end))

	table.insert(inputConnections, UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton2 or 
			input.UserInputType == Enum.UserInputType.MouseButton1 then
			lastMousePos = nil
		end

		if input.KeyCode == Enum.KeyCode.LeftShift or input.KeyCode == Enum.KeyCode.RightShift then
			rulerSnapActive = false
		end
	end))

	table.insert(inputConnections, UserInputService.InputChanged:Connect(function(input)
		if not isZoomActive or input.UserInputType ~= Enum.UserInputType.MouseMovement then return end

		if lastMousePos then
			local currentMousePos = getMousePosition()
			local delta = currentMousePos - lastMousePos
			ZoomTool.onPan(delta)
			lastMousePos = currentMousePos
		end
	end))

	table.insert(inputConnections, UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed or not isZoomActive then return end

		if input.KeyCode == Enum.KeyCode.R then
			isRulerMode = not isRulerMode
			if zoomSidebar then
				local btnRuler = zoomSidebar:FindFirstChild("12RulerTool")
				if btnRuler then
					btnRuler.BackgroundColor3 = isRulerMode
						and Config.Global.Colors.SelectedColor
						or Config.Global.Colors.AccentColor3
				end
			end
		end
	end))

	table.insert(inputConnections, UserInputService.InputBegan:Connect(function(input)
		if not isZoomActive or not isRulerMode or input.UserInputType ~= Enum.UserInputType.MouseButton1 then return end

		local mousePos = getMousePosition()

		for _, ruler in ipairs(rulerLines) do
			if not ruler or not ruler.Parent then continue end

			local isVertical = ruler.Name:match("Vertical")
			local rulerPos = isVertical and ruler.Position.X.Offset or ruler.Position.Y.Offset
			local distance = isVertical and math.abs(mousePos.X - rulerPos) or math.abs(mousePos.Y - rulerPos)

			if distance < 10 then
				draggedRuler = ruler
				rulerDragStartPos = mousePos
				return
			end
		end

		if mousePos.X < 10 then
			ZoomTool.createRuler(true, mousePos.X)
		elseif mousePos.Y < 10 then
			ZoomTool.createRuler(false, mousePos.Y)
		end
	end))

	table.insert(inputConnections, UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 and draggedRuler then
			if rulerDragStartPos then
				local mousePos = getMousePosition()
				local isVertical = draggedRuler.Name:match("Vertical")

				if (isVertical and mousePos.X < 30) or (not isVertical and mousePos.Y < 30) then
					for i, ruler in ipairs(rulerLines) do
						if ruler == draggedRuler then
							ruler:Destroy()
							table.remove(rulerLines, i)
							break
						end
					end
				end
			end

			draggedRuler = nil
			rulerDragStartPos = nil
		end
	end))

	table.insert(inputConnections, UserInputService.InputChanged:Connect(function(input)
		if not isZoomActive or not draggedRuler or input.UserInputType ~= Enum.UserInputType.MouseMovement then return end

		local mousePos = getMousePosition()
		local isVertical = draggedRuler.Name:match("Vertical")

		if isVertical then
			draggedRuler.Position = UDim2.new(0, mousePos.X, 0, 0)
		else
			draggedRuler.Position = UDim2.new(0, 0, 0, mousePos.Y)
		end
	end))

	heartbeatConnection = RunService.Heartbeat:Connect(checkRulerSnap)
end

local function disableStudioKeybinds()
	ContextActionService:BindAction("LumeZoom_BlockScroll", function(_, state)
		if state == Enum.UserInputState.Change and isZoomActive then
			return Enum.ContextActionResult.Sink
		end
		return Enum.ContextActionResult.Pass
	end, false, Enum.UserInputType.MouseWheel)
	table.insert(boundActions, "LumeZoom_BlockScroll")
end

local function enableStudioKeybinds()
	for _, actionName in ipairs(boundActions) do
		ContextActionService:UnbindAction(actionName)
	end
	table.clear(boundActions)
end

local function disconnectInputs()
	for _, conn in ipairs(inputConnections) do
		conn:Disconnect()
	end
	table.clear(inputConnections)

	if heartbeatConnection then
		heartbeatConnection:Disconnect()
		heartbeatConnection = nil
	end
end

function ZoomTool.init(plugin: Plugin)
	pluginRef = plugin
end

function ZoomTool.start()
	if isZoomActive then return end
	isZoomActive = true
	connectInputs()
	createZoomUI()
	disableStudioKeybinds()
	updateZoomIndicator()

	for _, screenGui in ipairs(getAllScreenGuis()) do
		ensureWrapperFrame(screenGui)
	end

	if stateModule then
		stateModule.Set("Zoom_Enabled", true)
	end
end

function ZoomTool.stop()
	if not isZoomActive then return end
	isZoomActive = false
	isRulerMode = false
	draggedRuler = nil
	rulerDragStartPos = nil
	rulerSnapActive = false
	disconnectInputs()
	enableStudioKeybinds()
	destroyZoomUI()
	removeAllWrappers()
	lastMousePos = nil

	if stateModule then
		stateModule.Set("Tool_ZoomEnabled", false)
	end
end

function ZoomTool.toggle()
	if isZoomActive then
		ZoomTool.stop()
	else
		ZoomTool.start()
	end
	return isZoomActive
end

function ZoomTool.isActive(): boolean
	return isZoomActive
end

function ZoomTool.cleanup()
	ZoomTool.stop()
end

function ZoomTool.setState(state: any)
	stateModule = state
end

function ZoomTool.zoomIn()
	local allScreenGuis = getAllScreenGuis()
	if #allScreenGuis == 0 then return end
	local currentZoom = ZoomTool.getCurrentZoom(allScreenGuis[1])
	ZoomTool.setZoom(currentZoom + ZOOM_STEP)
end

function ZoomTool.zoomOut()
	local allScreenGuis = getAllScreenGuis()
	if #allScreenGuis == 0 then return end
	local currentZoom = ZoomTool.getCurrentZoom(allScreenGuis[1])
	ZoomTool.setZoom(currentZoom - ZOOM_STEP)
end

return ZoomTool]]></ProtectedString>
							<string name="ScriptGuid">{BC8E4040-4193-4583-ACC0-82F7C6329B89}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ZoomTool</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
			</Item>
			<Item class="Folder" referent="RBX4C2297233D5D42BB88BD9B40653B94CA">
				<Properties>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">Controller</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
				<Item class="ModuleScript" referent="RBX219BAA2857284DE09CF7A9F40A2D833E">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local UIController = {}
UIController.__index = UIController

local interfaceCache = {
	Transform 				= false,
	Utility 				= false,
	Configurations			= false,
}

local activeConnections = {}

local Selection = game:GetService("Selection")
local TweenService = game:GetService("TweenService")
local StudioService = game:GetService("StudioService")

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local ThemeManager			= RequireCore.ThemeManager

---

local UI 					= RequireCore.UIFramework
local Config 				= RequireCore.Config.Data
local CategoryCard 			= RequireCore.CategoryCard
local SectionClass 			= RequireCore.Section
local SubSectionClass 		= RequireCore.SubSection
local Slider 				= RequireCore.Slider
local Divider				= RequireCore.Divider
local InstanceList			= RequireCore.InstanceList

local GradientComponent 	= RequireCore.GradientColor

---

local InstanceTool			= RequireCore.InstanceTool
---

function UIController.init(pluginInstance)
	local self = setmetatable({}, UIController)

	local info = DockWidgetPluginGuiInfo.new(Enum.InitialDockState.Left, false, false)
	self.Widget = pluginInstance:CreateDockWidgetPluginGui(Config.PluginName .. " UI", info)
	self.Widget.Title = Config.PluginName .. " UI"
	self.Widget.ResetOnSpawn = false
	self.Widget.Name = Config.PluginName .. " " .. Config.Version

	self.MainFrame = UI.new("Frame", {
		Name = Config.PluginName .. "Main",
		Size = UDim2.fromScale(1,1),
		BackgroundColor3 = Config.Global.Colors.BackgroundColor,
		BorderSizePixel = 0
	}, {
		UI.new("Frame", {
			Name = "StatusBar",
			AnchorPoint = Vector2.new(0.5, 0),
			Position = UDim2.new(0.5, 0, 0, 0),
			Size = UDim2.new(1, 0, 0, 35),
			Style = "Section",
			Interectable = false,
		}, {
			UI.new("TextLabel", {
				Name = "StatusText",
				Text = "Lume " .. Config.Version,
				Size = UDim2.fromScale(1, 1),
				Style = "Title",
				TextXAlignment = Enum.TextXAlignment.Left,
				TextSize = 10,
				TextColor3 = Config.Global.Colors.StatusText,
				Interectable = false,
			}, {
				UI.new("UIPadding", {PaddingLeft = UDim.new(0.05, 0)})
			})
		}),



		UI.new("ScrollingFrame", {
			Name = "ContentArea",
			Position = UDim2.fromScale(0.5, 0.5),
			AnchorPoint = Vector2.new(0.5, 0.5),
			Size = UDim2.fromScale(1, 0.875),
			BackgroundTransparency = 1,
			ScrollBarThickness = 2,
			AutomaticCanvasSize = Enum.AutomaticSize.Y,
			CanvasSize = UDim2.new(0,0,0,0),
			ZIndex = 0
		}, {
			UI.new("UIListLayout", {
				Padding = UDim.new(0, 5),
				HorizontalAlignment = "Center",
				SortOrder = Enum.SortOrder.Name
			}),
			UI.new("UIPadding", {PaddingTop = UDim.new(0, 5), PaddingBottom = UDim.new(0, 20)}),

			UI.new("TextButton", {
				Name = "1BackButton",
				Text = "	BACK TO MENU",
				Size = UDim2.new(0.975, 0, 0, 30),
				Style = "Title",
				TextColor3 = Config.Global.Colors.BackButtonText,
				BackgroundColor3 = Config.Global.Colors.BackButtonBackground,
				BackgroundTransparency = 0.5,
				TextSize = 12,
				Visible = false,
				Tags = {"btn"},
				LayoutOrder = -1
			}),

			UI.new("CanvasGroup", {
				Name = "MainView",
				Size = UDim2.new(1, 0, 0, 0),
				AutomaticSize = "Y",
				BackgroundTransparency = 1,
			}, {
				UI.new("UIListLayout", {Padding = UDim.new(0, 5), HorizontalAlignment = "Center"})
			}),

			UI.new("CanvasGroup", {
				Name = "OptionsView",
				Size = UDim2.new(1, 0, 0, 0),
				AutomaticSize = "Y",
				BackgroundTransparency = 1,
				Visible = false
			}, {
				UI.new("UIListLayout", {Padding = UDim.new(0, 5), HorizontalAlignment = "Center"})
			})
		}),



		UI.new("Frame", {
			Name = "Footer",
			AnchorPoint = Vector2.new(0.5, 1),
			Position = UDim2.new(0.5, 0, 1, 0),
			Size = UDim2.new(1, 0, 0, 35),
			Style = "Section",
			Interectable = false,
		}, {
			UI.new("TextLabel", {
				Text = Config.PluginName .. " " .. Config.Version,
				Size = UDim2.fromScale(1, 1),
				Style = "Title",
				TextColor3 = Config.Global.Colors.FooterText,
				TextSize = 10,
				Interectable = false,
			})
		})
	})

	self.ContentArea = self.MainFrame.ContentArea
	self.MainView = self.ContentArea.MainView
	self.OptionsView = self.ContentArea.OptionsView
	self.BackButton = self.ContentArea["1BackButton"]

	self.BackButton.MouseButton1Click:Connect(function()
		self:NavigateTo("Main")
	end)

	self.MainFrame.Parent = self.Widget





	CategoryCard.new("Transform", 1, self.MainView, function()
		self:OpenTransformOptions()
	end)

	CategoryCard.new("Utility", 2, self.MainView, function()
		self:OpenUtilityOptions()
	end)

	--CategoryCard.new("Color", 3, self.MainView, function()
	--	print("(SOON!)")
	--end)

	--CategoryCard.new("Icons", 4, self.MainView, function()
	--	print("(SOON!)")
	--end)

	CategoryCard.new("Configurations", 99, self.MainView, function()
		self:OpenConfigurationsOptions()
	end)
	
	---
	return self
end

function UIController:Toggle()
	self.Widget.Enabled = not self.Widget.Enabled
	return self.Widget.Enabled
end

function UIController:NavigateTo(viewName)
	if viewName == "Main" then
		self.MainView.Visible = true
		self.OptionsView.Visible = false
		self.BackButton.Visible = false
	else
		self.MainView.Visible = false
		self.OptionsView.Visible = true
		self.BackButton.Visible = true
	end
end

---

function UIController:ShowLoading(text)
	if not self._loadingOverlay then		
		self._loadingOverlay = UI.new("Frame", {
			Name = "LoadingOverlay",
			Size = UDim2.fromScale(1, 1),
			BackgroundColor3 = Config.Global.Colors.LoadingBackground,
			BackgroundTransparency = 1,
			ZIndex = 999,
			Parent = self.MainFrame,
		}, {
			UI.new("TextLabel", {
				Text = text or "Loading...",
				Size = UDim2.fromScale(0.5, 0.1),
				Position = UDim2.fromScale(0.5, 0.5),
				AnchorPoint = Vector2.new(0.5, 0.5),
				Style = "Title TxtSize-16",
				BackgroundTransparency = 1,
				TextTransparency = 1,
				ZIndex = 1000,
			})
		})
	end

	self._loadingOverlay.Visible = true

	self._textScreenLoading = self._loadingOverlay.TextLabel

	if self._textScreenLoading.Text ~= text then
		self._textScreenLoading.Text = text or "Loading..."
	end

	task.wait(0.1)

	TweenService:Create(self._loadingOverlay, TweenInfo.new(0.35), {
		BackgroundTransparency = 0.3
	}):Play()

	task.wait(0.05)

	TweenService:Create(self._loadingOverlay.TextLabel, TweenInfo.new(0.35), {
		TextTransparency = 0
	}):Play()
end

function UIController:HideLoading()
	if not self._loadingOverlay then return end

	task.wait(0.2)

	TweenService:Create(self._loadingOverlay, TweenInfo.new(0.5), {
		BackgroundTransparency = 1
	}):Play()

	task.wait(0.05)

	TweenService:Create(self._loadingOverlay.TextLabel, TweenInfo.new(0.5), {
		TextTransparency = 1
	}):Play()

	if self._loadingOverlay then
		self._loadingOverlay.Visible = false
	end
end

---

function UIController:OpenTransformOptions()
	local categoryName = "Transform"

	if not interfaceCache[categoryName] then
		self:ShowLoading("Building Interface...")
		task.wait(0.5)
		interfaceCache[categoryName] = true
	end

	self:NavigateTo("Options")

	for _, child in ipairs(self.OptionsView:GetChildren()) do
		if not child:IsA("UIListLayout") then child:Destroy() end
	end

	for _, conn in ipairs(activeConnections) do
		conn:Disconnect()
	end
	activeConnections = {}
	
	
	
	
	
	local UtilitySection = SectionClass.new("Utility", "", 1, self.OptionsView)
	local UtilitySubSection = SubSectionClass.new("Advanced Config", Config.NumberSubSection, UtilitySection.Content)
	UI.new("TextButton", {
		Name = "1",
		Text = "Apply Fast Properties",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-utility"},

		ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor},
		--PulseOnClick = true,
		Parent = UtilitySection.Content
	})
	
	UI.new("TextButton", {
		Name = "2",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Set Visiblity",
		Classes = "btn-accent TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-utility-visibility"},
		Parent = UtilitySection.Content
	})

	---

	UI.new("TextButton", {
		Name = "1",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Set Position",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor},
		Tags = {"btn", "action", "btn-action-utility-position"},
		Parent = UtilitySubSection.SubContent
	})

	UI.new("TextButton", {
		Name = "2",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Set Size",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-utility-size"},
		Parent = UtilitySubSection.SubContent
	})

	UI.new("TextButton", {
		Name = "3",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Set Background Transparency",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-utility-background"},
		Parent = UtilitySubSection.SubContent
	})
	
	UI.new("TextButton", {
		Name = "4",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Set Anchor Point",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-utility-anchorpoint"},
		Parent = UtilitySubSection.SubContent
	})





	local AlignmentSection = SectionClass.new("Alignment", "", 2, self.OptionsView)
	local SubConfigAlignment = SubSectionClass.new("Advanced Config", Config.NumberSubSection, AlignmentSection.Content)	
	UI.new("Frame", {
		Name = "1Grid",
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundColor3 = Config.Global.Colors.GridBackground,
		BackgroundTransparency = 0.3,
		Size = UDim2.new(0.7, 0, 0, 190),
		Parent = AlignmentSection.Content,
		Tags = {"grid-alignment"},
	}, {
		UI.new("UIScale", {
			Scale = 0.775
		}),

		UI.new("UICorner", {
			CornerRadius = UDim.new(0.04, 0)
		}),

		UI.new("UIPadding", {
			PaddingBottom = UDim.new(0, 14),
			PaddingLeft = UDim.new(0, 17),
			PaddingRight = UDim.new(0, 17),
			PaddingTop = UDim.new(0, 14),
		}),

		UI.new("TextButton", {
			Name = "Center",
			AnchorPoint = Vector2.new(0.5, 0.5),
			Position = UDim2.fromScale(0.5, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-center"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Center"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Up",
			AnchorPoint = Vector2.new(0.5, 0),
			Position = UDim2.fromScale(0.5, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-up"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Up"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Bottom",
			AnchorPoint = Vector2.new(0.5, 1),
			Position = UDim2.fromScale(0.5, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-bottom"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Bottom"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Left",
			AnchorPoint = Vector2.new(0, 0.5),
			Position = UDim2.fromScale(0, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-left"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),
			
			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Left"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Right",
			AnchorPoint = Vector2.new(1, 0.5),
			Position = UDim2.fromScale(1, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-right"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Right"],
				ImageTransparency = 0.775
			})		
		}),

		UI.new("TextButton", {
			Name = "UpRight",
			AnchorPoint = Vector2.new(1, 0),
			Position = UDim2.fromScale(1, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-upright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "UpLeft",
			AnchorPoint = Vector2.new(0, 0),
			Position = UDim2.fromScale(0, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-upleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpLeft"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomRight",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.fromScale(1, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-bottomright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomLeft",
			AnchorPoint = Vector2.new(0, 1),
			Position = UDim2.fromScale(0, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAlignment,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-align-bottomleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomLeft"],
				ImageTransparency = 0.775
			})
		}),
	})

	---

	UI.new("Frame", {
		Name = "1Option",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigAlignment.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1FrozenX",
			Text = "Frozen X",
			Classes = "btn-accent2 TxtSize-12",

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-alignfrozenx"},
		}),

		UI.new("TextButton", {
			Name = "2FrozenY",
			Text = "Frozen Y",
			Classes = "btn-accent2 TxtSize-12",

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-alignfrozeny"},
		}),
	})

	UI.new("TextButton", {
		Name = "2",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Bypass AnchorPoint",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-alignmentbypassanchorpoint"},
		Parent = SubConfigAlignment.SubContent
	})

	UI.new("Frame", {
		Name = "3",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigAlignment.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Scale",
			Text = "Scale",
			Classes = "btn-accent2 TxtSize-12",

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-alignscale"},
		}),

		UI.new("TextButton", {
			Name = "2Offset",
			Text = "Offset",
			Classes = "btn-accent2 TxtSize-12",		

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-alignoffset"},
		}),
	})

	UI.new("Frame", {
		Name = "4",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigAlignment.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "Default Size",
			Classes = "btn-accent2 TxtSize-12",

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-aligndefaultsize"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "Absolute Size",
			Classes = "btn-accent2 TxtSize-12",		

			--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
			Tags = {"btn", "action", "btn-action-alignabsolutesize"},
		}),
	})

	UI.new("TextButton", {
		Name = "5",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "No Escape",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-alignmentnoescape"},
		Parent = SubConfigAlignment.SubContent
	})





	local AnchorSection = SectionClass.new("Anchor Points", "", 3, self.OptionsView)
	local SubConfigAnchor = SubSectionClass.new("Advanced Config", Config.NumberSubSection, AnchorSection.Content)
	UI.new("Frame", {
		Name = "1Grid",
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundColor3 = Config.Global.Colors.GridBackground,
		BackgroundTransparency = 0.3,
		Size = UDim2.new(0.7, 0, 0, 190),
		Parent = AnchorSection.Content,

		Tags = {"grid-anchor"},
	}, {
		UI.new("UIScale", {
			Scale = 0.775
		}),

		UI.new("UICorner", {
			CornerRadius = UDim.new(0.04, 0)
		}),

		UI.new("UIPadding", {
			PaddingBottom = UDim.new(0, 14),
			PaddingLeft = UDim.new(0, 17),
			PaddingRight = UDim.new(0, 17),
			PaddingTop = UDim.new(0, 14),
		}),

		UI.new("TextButton", {
			Name = "Center",
			AnchorPoint = Vector2.new(0.5, 0.5),
			Position = UDim2.fromScale(0.5, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-center"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Center"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Up",
			AnchorPoint = Vector2.new(0.5, 0),
			Position = UDim2.fromScale(0.5, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-up"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),
			
			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Up"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Bottom",
			AnchorPoint = Vector2.new(0.5, 1),
			Position = UDim2.fromScale(0.5, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-bottom"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Bottom"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Left",
			AnchorPoint = Vector2.new(0, 0.5),
			Position = UDim2.fromScale(0, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-left"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Left"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Right",
			AnchorPoint = Vector2.new(1, 0.5),
			Position = UDim2.fromScale(1, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-right"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Right"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "UpRight",
			AnchorPoint = Vector2.new(1, 0),
			Position = UDim2.fromScale(1, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-upright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "UpLeft",
			AnchorPoint = Vector2.new(0, 0),
			Position = UDim2.fromScale(0, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-upleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpLeft"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomRight",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.fromScale(1, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-bottomright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomLeft",
			AnchorPoint = Vector2.new(0, 1),
			Position = UDim2.fromScale(0, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridAnchor,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-anchor-bottomleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomLeft"],
				ImageTransparency = 0.775
			})
		}),
	})

	---

	UI.new("TextButton", {
		Name = "1",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Smart Anchor",
		Classes = "btn-accent2 TxtSize-12",
		ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-anchorsmart"},
		Parent = SubConfigAnchor.SubContent
	})

	UI.new("TextButton", {
		Name = "2",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Preserve Position",
		Classes = "btn-accent2 TxtSize-12",
		ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-anchorpreserveposition"},
		Parent = SubConfigAnchor.SubContent
	})





	local MoveSection = SectionClass.new("Move", "", 4, self.OptionsView)
	local SubConfigMove = SubSectionClass.new("Advanced Config", Config.NumberSubSection, MoveSection.Content)
	UI.new("Frame", {
		Name = "1Grid",
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundColor3 =  Config.Global.Colors.GridBackground,
		BackgroundTransparency = 0.3,
		Size = UDim2.new(0.7, 0, 0, 190),
		Parent = MoveSection.Content,
		Tags = {"grid-move"},
	}, {
		UI.new("UIScale", {
			Scale = 0.775
		}),

		UI.new("UICorner", {
			CornerRadius = UDim.new(0.04, 0)
		}),

		UI.new("UIPadding", {
			PaddingBottom = UDim.new(0, 14),
			PaddingLeft = UDim.new(0, 17),
			PaddingRight = UDim.new(0, 17),
			PaddingTop = UDim.new(0, 14),
		}),

		UI.new("TextButton", {
			Name = "Center",
			AnchorPoint = Vector2.new(0.5, 0.5),
			Position = UDim2.fromScale(0.5, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.DeactiveColor,
			BackgroundTransparency = 0.85,
			Interactable = false,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),
			
			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Center"],
				ImageTransparency = 0.95
			})
		}),

		UI.new("TextButton", {
			Name = "Up",
			AnchorPoint = Vector2.new(0.5, 0),
			Position = UDim2.fromScale(0.5, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",
			Tags = {"btn", "action", "btn-action-move-up"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Up"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Bottom",
			AnchorPoint = Vector2.new(0.5, 1),
			Position = UDim2.fromScale(0.5, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-bottom"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Bottom"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Left",
			AnchorPoint = Vector2.new(0, 0.5),
			Position = UDim2.fromScale(0, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-left"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Left"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "Right",
			AnchorPoint = Vector2.new(1, 0.5),
			Position = UDim2.fromScale(1, 0.5),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-right"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_Right"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "UpRight",
			AnchorPoint = Vector2.new(1, 0),
			Position = UDim2.fromScale(1, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-upright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "UpLeft",
			AnchorPoint = Vector2.new(0, 0),
			Position = UDim2.fromScale(0, 0),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-upleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_UpLeft"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomRight",
			AnchorPoint = Vector2.new(1, 1),
			Position = UDim2.fromScale(1, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-bottomright"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomRight"],
				ImageTransparency = 0.775
			})
		}),

		UI.new("TextButton", {
			Name = "BottomLeft",
			AnchorPoint = Vector2.new(0, 1),
			Position = UDim2.fromScale(0, 1),
			AutoButtonColor = true,
			BackgroundColor3 = Config.Global.Colors.GridMove,
			BackgroundTransparency = 0.375,
			Size = UDim2.new(0, 40, 0, 40),
			Text = "",

			Tags = {"btn", "action", "btn-action-move-bottomleft"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.12, 0)
			}),

			UI.new("ImageLabel", {
				Name = "Indicator",
				BackgroundTransparency = 1,
				AnchorPoint = Vector2.new(0.5, 0.5),
				Position = UDim2.new(0.5, 0, 0.5, 0),
				Size = UDim2.fromScale(0.475, 0.475),
				BorderSizePixel = 0,
				Image = Config.Images["ImgIconBtn_BottomLeft"],
				ImageTransparency = 0.775
			})
		}),
	})

	---

	UI.new("Frame", {
		Name = "1ModeContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigMove.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.02, 0, 0, 0),
			CellSize = UDim2.new(0.465, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Scale",
			Text = "Move Scale",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-movescale"},
		}),

		UI.new("TextButton", {
			Name = "2Offset",
			Text = "Move Offset",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-moveoffset"},
		})
	})

	UI.new("Frame", {
		Name = "2Axis",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigMove.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.02, 0, 0, 0),
			CellSize = UDim2.new(0.465, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1FrozenX",
			Text = "Frozen X",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-movefrozenx"},
		}),

		UI.new("TextButton", {
			Name = "2FrozenY",
			Text = "Frozen Y",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-movefrozeny"},
		})
	})

	UI.new("TextBox", {
		Name = "3",
		PlaceholderText = "Pixel (0.001 - 100)",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(0.95, 0, 0, 30),
		Text = "",
		Classes = "txt-box2 TxtSize-12 Title2",
		ClearTextOnFocus = false,
		TextEditable = true,
		TextTransparency = 0.2,
		Tags = {"btn", "action", "box-action-movepixel"},
		Parent = SubConfigMove.SubContent
	}, {
		UI.new("UICorner", {
			CornerRadius = UDim.new(0.2, 0)
		})
	})

	UI.new("TextButton", {
		Name = "4",
		Size = UDim2.new(0.95, 0, 0, 30),
		Text = "No Escape",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-movenoescape"},
		Parent = SubConfigMove.SubContent
	})

	UI.new("TextButton", {
		Name = "5",
		Size = UDim2.new(0.95, 0, 0, 30),
		Text = "Bypass Anchor",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-movebypassnachor"},
		Parent = SubConfigMove.SubContent
	})

	UI.new("TextButton", {
		Name = "6",
		Size = UDim2.new(0.95, 0, 0, 30),
		Text = "Preserve Position",
		Classes = "btn-accent2 TxtSize-12",
		--ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-movepreserveposition"},
		Parent = SubConfigMove.SubContent
	})





	local ConvertSection = SectionClass.new("Convert Axis", "", 5, self.OptionsView)
	local SubConfigConvert = SubSectionClass.new("Advanced Config", Config.NumberSubSection, ConvertSection.Content)	
	UI.new("Frame", {
		Name = "1SizeContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = ConvertSection.Content
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Scale",
			Text = "Scale Size",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertscalesize"},
		}),

		UI.new("TextButton", {
			Name = "2Offset",
			Text = "Offset Size",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertoffsetsize"},
		}),
	})

	UI.new("Frame", {
		Name = "2PositionContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = ConvertSection.Content
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Scale",
			Text = "Scale Position",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertscaleposition"},
		}),

		UI.new("TextButton", {
			Name = "2Offset",
			Text = "Offset Position",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertoffsetposition"},
		}),
	})

	---

	UI.new("Frame", {
		Name = "1ConstraintContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigConvert.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.47, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Aspect",
			Text = "Add UIAspectConstraint",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertconstraint"},
		}),

		UI.new("TextButton", {
			Name = "2Text",
			Text = "Add UITextConstraint",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertscaletext"},
		}),
	})

	UI.new("Frame", {
		Name = "2BypassContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigConvert.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.47, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1BypassX",
			Text = "Bypass X",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertbypassx"},
		}),

		UI.new("TextButton", {
			Name = "2BypassY",
			Text = "Bypass Y",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-convertbypassy"},
		}),
	})
	
	
	
	
	
	local InstanceSection = SectionClass.new("Instances", "", 6, self.OptionsView)
	local instances = {
		{name = "ScreenGui", image = "", i = "0-0"},
		{name = "Frame", image = "", i = "0-1"},
		{name = "CanvasGroup", image = "", i = "0-2"},
		{name = "ScrollingFrame", image = "", i = "0-3"},
		---
		{name = "TextLabel", image = "", i = "0-4"},
		{name = "ImageLabel", image = "", i = "0-5"},
		{name = "TextButton", image = "", i = "0-6"},
		{name = "ImageButton", image = "", i = "0-7"},
		{name = "TextBox", image = "", i = "0-8"},
		---
		{name = "UICorner", image = "", i = "0-9"},
		{name = "UIStroke", image = "", i = "1-0"},
		{name = "UIGradient", image = "", i = "1-1"},
		{name = "UIPadding", image = "", i = "1-2"},
		---
		{name = "UIListLayout", image = "", i = "1-3"},
		{name = "UIGridLayout", image = "", i = "1-4"},
		{name = "UIScale", image = "", i = "1-5"},
	}
	for i, data in ipairs(instances) do
		local iconData = StudioService:GetClassIcon(data.name)
		
		local item = InstanceList.new(data.name, iconData, data.i, InstanceSection.Content)

		item.MainInstance.Control["1Add"].MouseButton1Click:Connect(function()
			InstanceTool.Add(data.name)
		end)


		item.MainInstance.Control["2Replace"].MouseButton1Click:Connect(function()
			InstanceTool.Replace(data.name)
		end)
	end


	
	
	
	local GridSection = SectionClass.new("Grid Tool", "", 7, self.OptionsView)
	local SubConfigGrid = SubSectionClass.new("Advanced Config", Config.NumberSubSection, GridSection.Content)
	local SliderGrid = Slider.new("Opacity", 5, SubConfigGrid.SubContent, "Grid_Transparency", 0, 1)
	UI.new("TextButton", {
		Text = "Grid",
		Name = "1",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent2 TxtSize-12",
		Tags = {"btn", "action", "btn-action-grid"},
		Parent = GridSection.Content,

		ActiveStyle = {
			BackgroundColor3 = Config.Global.Colors.SelectedColor,
			Text = "Grid",
			Classes = "TxtSize-12",
			Size = UDim2.new(0.95, 0, 0, 35),
			AnchorPoint = Vector2.new(0.5, 0.5)
		},
	})

	---

	UI.new("TextLabel", {
		Name = "1",
		Text = "Padding",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Style = "Title TxtSize-14",
		Parent = SubConfigGrid.SubContent
	})

	UI.new("Frame", {
		Name = "2PaddingContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = SubConfigGrid.SubContent
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.02, 0, 0, 0),
			CellSize = UDim2.new(0.465, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextBox", {
			Name = "1X",
			PlaceholderText = "X",
			Text = "",
			Classes = "txt-box2 TxtSize-12 Title2",
			ClearTextOnFocus = false,
			TextEditable = true,
			TextTransparency = 0.2,
			Tags = {"btn", "action", "box-action-gridpaddingx"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.2, 0)
			})
		}),

		UI.new("TextBox", {
			Name = "2Y",
			PlaceholderText = "Y",
			Text = "",
			Classes = "txt-box2 TxtSize-12 Title2",
			ClearTextOnFocus = false,
			TextEditable = true,
			TextTransparency = 0.2,
			Tags = {"btn", "action", "box-action-gridpaddingy"},
		}, {
			UI.new("UICorner", {
				CornerRadius = UDim.new(0.2, 0)
			})
		}),
	})

	UI.new("TextBox", {
		Name = "3Thickness",
		PlaceholderText = "Thickness",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(0.95, 0, 0, 30),
		Text = "",
		Classes = "txt-box2 TxtSize-12 Title2",
		ClearTextOnFocus = false,
		TextEditable = true,
		TextTransparency = 0.2,
		Tags = {"btn", "action", "box-action-gridthickness"},
		Parent = SubConfigGrid.SubContent
	}, {
		UI.new("UICorner", {
			CornerRadius = UDim.new(0.2, 0)
		})
	})

	UI.new("TextLabel", {
		Name = "4",
		Text = "Opacity",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Style = "Title TxtSize-14",
		Parent = SubConfigGrid.SubContent
	})

	UI.new("TextButton", {
		Text = "Select Color Grid",
		Name = "6",
		Size = UDim2.new(0.95, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-gridselectcolor"},
		Parent = SubConfigGrid.SubContent,
	})





	--local RotationSection = SectionClass.new("Rotation", "", 8, self.OptionsView)
	--local SubConfigRotation = SubSectionClass.new("Advanced Config", Config.NumberSubSection, RotationSection.Content)	
	--UI.new("TextButton", {
	--	Name = "1Active",
	--	Text = "Deactivated",
	--	Classes = "btn-accent2 TxtSize-12",
	--	Size = UDim2.new(0.9, 0, 0, 30),
	--	Tags = {"btn", "action", "btn-action-rotationactive"},

	--	Parent = RotationSection.Content,

	--	ActiveStyle = {
	--		BackgroundColor3 = Config.Global.Colors.SelectedColor,
	--		Text = "Activated",
	--	},
	--})

	-----

	--UI.new("TextBox", {
	--	Name = "1Angle",
	--	PlaceholderText = "Angle (0.001 - 180)",
	--	AnchorPoint = Vector2.new(0.5, 0.5),
	--	Size = UDim2.new(0.95, 0, 0, 30),
	--	Text = "",
	--	Classes = "txt-box2 TxtSize-12 Title2",
	--	ClearTextOnFocus = false,
	--	TextEditable = true,
	--	TextTransparency = 0.2,
	--	Tags = {"btn", "action", "box-action-rotationangle"},
	--	Parent = SubConfigRotation.SubContent
	--}, {
	--	UI.new("UICorner", {
	--		CornerRadius = UDim.new(0.2, 0)
	--	})
	--})

	--UI.new("TextButton", {
	--	Name = "2Focus",
	--	Text = "Focus: Anchor Point",
	--	Classes = "btn-accent2 TxtSize-12",
	--	Size = UDim2.new(0.95, 0, 0, 30),
	--	Tags = {"btn", "action", "btn-action-rotationfocus"},

	--	Parent = SubConfigRotation.SubContent,
	--})



	--local MirrorResizeSection = SectionClass.new("Mirror Resize", "", 7, self.OptionsView)
	--UI.new("TextButton", {
	--	Name = "Resize",
	--	Text = "Mirror Resize",
	--	Classes = "btn-accent2 TxtSize-12",
	--	Size = UDim2.new(0.9, 0, 0, 30),
	--	Tags = {"btn", "action", "btn-action-mirrorresize"},

	--	Parent = MirrorResizeSection.Content,

	--	ActiveStyle = {
	--		BackgroundColor3 = Config.Global.Colors.SelectedColor,
	--	},
	--})

	-- Desativado por enquanto
	--GradientComponent.new(MirrorResizeSection.Content, function(novaColorSequence)
	--	local selected = Selection:Get()
	--	for _, obj in ipairs(selected) do
	--		if obj:IsA("GuiObject") then
	--			local gradient = obj:FindFirstChildOfClass("UIGradient")
	--			if not gradient then
	--				gradient = Instance.new("UIGradient")
	--				gradient.Parent = obj
	--			end
	--			gradient.Color = novaColorSequence
	--		end
	--	end
	--end)

	self:HideLoading()
end

function UIController:OpenUtilityOptions()
	local categoryName = "Utility"

	if not interfaceCache[categoryName] then
		self:ShowLoading("Building Interface...")
		task.wait(0.5)
		interfaceCache[categoryName] = true
	end

	self:NavigateTo("Options")

	for _, child in ipairs(self.OptionsView:GetChildren()) do
		if not child:IsA("UIListLayout") then child:Destroy() end
	end
	
	for _, conn in ipairs(activeConnections) do
		conn:Disconnect()
	end
	activeConnections = {}
	
	
	
	
	
	local UIConvertSection = SectionClass.new("UI Convert", "", 1, self.OptionsView)
	local UIConvertSubSection = SubSectionClass.new("Advanced Config", Config.NumberSubSection, UIConvertSection.Content)	
	UI.new("Frame", {
		Name = "1ScaleOffset",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = UIConvertSection.Content,
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "Scale",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-scale"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "Offset",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-offset"},
		}),
	})

	UI.new("Frame", {
		Name = "2Cell",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 60),
		BackgroundTransparency = 1,
		Parent = UIConvertSection.Content,
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0.1, 0),
			CellSize = UDim2.new(0.44, 0, 0.5, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "CellSize Scale",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-cellsizescale"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "CellSize Offset",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-cellsizeoffset"},
		}),

		UI.new("TextButton", {
			Name = "3",
			Text = "CellPadding Scale",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-cellpaddingscale"},
		}),

		UI.new("TextButton", {
			Name = "4",
			Text = "CellPadding Offset",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-cellpaddingoffset"},
		}),
	})
	
	UI.new("Frame", {
		Name = "4Thickness",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = UIConvertSection.Content,
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "Scale Thickness",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-scaledthickness"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "Fixe Thickness",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-fixedthickness"},
		}),
	})
	
	---
	
	UI.new("Frame", {
		Name = "1XY",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = UIConvertSubSection.SubContent,
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "Frozen X",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-frozenx"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "Frozen Y",
			Classes = "btn-accent2 TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-uiconvert-frozeny"},
		}),
	})
	
	local function updateUIConvertVisibility()
		local selected = Selection:Get()
		
		task.wait(0.5)
		UIConvertSection.Content["1ScaleOffset"].Visible = false
		UIConvertSection.Content["2Cell"].Visible = false
		UIConvertSection.Content["4Thickness"].Visible = false
		UIConvertSubSection.SubContent["1XY"].Visible = false

		UIConvertSection.MainInstance.Visible = false
		UIConvertSubSection.MainInstance.Visible = false

		if #selected == 0 then return end

		local hasValidInstance = false
		local hasXY = false

		for _, obj in ipairs(selected) do
			local className = obj.ClassName

			if className == "UICorner" or className == "UIListLayout" or className == "UIPadding" or className == "UIPageLayout" then
				UIConvertSection.Content["1ScaleOffset"].Visible = true
				hasValidInstance = true
			elseif className == "UIGridLayout" then
				UIConvertSection.Content["2Cell"].Visible = true
				UIConvertSubSection.SubContent["1XY"].Visible = true
				hasXY = true
				hasValidInstance = true
			elseif className == "UIStroke" then
				UIConvertSection.Content["4Thickness"].Visible = true
				hasValidInstance = true
			elseif className == "UITableLayout" then
				UIConvertSection.Content["1ScaleOffset"].Visible = true
				UIConvertSubSection.SubContent["1XY"].Visible = true
				hasValidInstance = true
				hasXY = true
			end
		end

		UIConvertSection.MainInstance.Visible = hasValidInstance
		UIConvertSubSection.MainInstance.Visible = hasXY
	end

	local conn = Selection.SelectionChanged:Connect(updateUIConvertVisibility)
	table.insert(activeConnections, conn)
	updateUIConvertVisibility()
	
	
	
	
	
	local ImageContentSection = SectionClass.new("AutoSize Image Content", "", 2, self.OptionsView)
	local ImageContentSubSection = SubSectionClass.new("Advanced Config", Config.NumberSubSection, ImageContentSection.Content)
	UI.new("Frame", {
		Name = "1ActionsContainer",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = ImageContentSection.Content
	}, {
		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1Scale",
			Text = "Convert to Scale",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-imagecontent-scale"},
		}),

		UI.new("TextButton", {
			Name = "2Offset",
			Text = "Convert to Offset",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-imagecontent-offset"},
		}),
	})

	---

	UI.new("TextButton", {
		Name = "1",
		Size = UDim2.new(0.9, 0, 0, 30),
		Text = "Apply AspectRatio",
		Classes = "btn-accent2 TxtSize-12",
		ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor },
		Tags = {"btn", "action", "btn-action-utility-imagecontent-aspectratio"},
		Parent = ImageContentSubSection.SubContent
	})


	
	
	
	local BoundSection = SectionClass.new("Bound", "", 3, self.OptionsView)
	local BoundSubSection = SubSectionClass.new("Advanced Config", Config.NumberSubSection, BoundSection.Content)
	UI.new("Frame", {
		Name = "1Option",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 30),
		BackgroundTransparency = 1,
		Parent = BoundSection.Content
	}, {

		UI.new("UIGridLayout", {
			CellPadding = UDim2.new(0.027, 0, 0, 0),
			CellSize = UDim2.new(0.44, 0, 1, 0),
			SortOrder = Enum.SortOrder.Name,
			HorizontalAlignment = Enum.HorizontalAlignment.Center,
			VerticalAlignment = Enum.VerticalAlignment.Center
		}),

		UI.new("TextButton", {
			Name = "1",
			Text = "Unbound",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-unbound"},
		}),

		UI.new("TextButton", {
			Name = "2",
			Text = "Bound",
			Classes = "btn-accent TxtSize-12",
			Tags = {"btn", "action", "btn-action-utility-bound"},
		}),
	})

	---

	UI.new("TextButton", {
		Name = "1",
		Text = "Preserve Position",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent2 TxtSize-12",
		Tags = {"btn", "action", "btn-action-utility-preserveposition"},
		ActiveStyle = { BackgroundColor3 = Config.Global.Colors.SelectedColor},
		Parent = BoundSubSection.SubContent
	})





	local ZoomSection = SectionClass.new("Zoom", "", 4, self.OptionsView)
	UI.new("TextButton",{
		Name = "1",
		Text = "Zoom",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent2 TxtSize-12",
		Tags = {"btn", "action", "btn-action-utility-zoom"},
		Parent = ZoomSection.Content
	})



	--local AutoExpandSubSectionSection = SectionClass.new("Auto Expand Sub Section", "", 2, self.OptionsView)
	--UI.new("TextButton", {
	--	Text = "Active",
	--	Size = UDim2.new(0.9, 0, 0, 30),
	--	Classes = "btn-accent2 TxtSize-12",
	--	Tags = {"btn", "action", "btn-action-config-autoexpandsubsectionactive"},
	--	Parent = AutoExpandSubSectionSection.Content
	--})






	self:HideLoading()
end

function UIController:OpenConfigurationsOptions()
	local categoryName = "Configurations"

	if not interfaceCache[categoryName] then
		self:ShowLoading("Building Configuration...")
		task.wait(0.5)
		interfaceCache[categoryName] = true
	end

	self:NavigateTo("Options")

	for _, child in ipairs(self.OptionsView:GetChildren()) do
		if not child:IsA("UIListLayout") then child:Destroy() end
	end
	
	for _, conn in ipairs(activeConnections) do
		conn:Disconnect()
	end
	activeConnections = {}




	local ThemesSection = SectionClass.new("Themes", "", 10, self.OptionsView)
	UI.new("TextLabel", {
		Name = "1",
		Text = "Current: " .. ThemeManager.GetCurrentTheme(),
		Size = UDim2.new(0.9, 0, 0, 25),
		Style = "Title TxtSize-12",
		BackgroundTransparency = 1,
		TextColor3 = Config.Global.Colors.TextMuted,
		Parent = ThemesSection.Content
	})

	UI.new("TextButton", {
		Name = "2",
		Text = "Default Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-default"},
		Parent = ThemesSection.Content
	})

	UI.new("TextButton", {
		Name = "3",
		Text = "Dark Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-dark"},
		Parent = ThemesSection.Content
	})

	UI.new("TextButton", {
		Name = "4",
		Text = "Light Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-light"},
		Parent = ThemesSection.Content
	})
	
	UI.new("TextButton", {
		Name = "5",
		Text = "Green Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-green"},
		Parent = ThemesSection.Content
	})
	
	UI.new("TextButton", {
		Name = "6",
		Text = "Figma Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-figma"},
		Parent = ThemesSection.Content
	})
	
	UI.new("TextButton", {
		Name = "7",
		Text = "Blender Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-blender"},
		Parent = ThemesSection.Content
	})
	
	UI.new("TextButton", {
		Name = "8",
		Text = "Midnight Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-midnight"},
		Parent = ThemesSection.Content
	})
	
	UI.new("TextButton", {
		Name = "9",
		Text = "Paper Theme",
		Size = UDim2.new(0.9, 0, 0, 30),
		Classes = "btn-accent TxtSize-12",
		Tags = {"btn", "action", "btn-action-theme-paper"},
		Parent = ThemesSection.Content
	})






	--local AutoExpandSubSectionSection = SectionClass.new("Auto Expand Sub Section", "", 1, self.OptionsView)
	--UI.new("TextButton", {
	--	Text = "Active",
	--	Size = UDim2.new(0.9, 0, 0, 30),
	--	Classes = "btn-accent2 TxtSize-12",
	--	Tags = {"btn", "action", "btn-action-config-autoexpandsubsectionactive"},
	--	Parent = AutoExpandSubSectionSection.Content
	--})



	--local AutoCollapseSubSectionSection = SectionClass.new("Auto Collapse Sub Section", "", self.OptionsView)
	--local AutoInitializePluginSection = SectionClass.new("Auto Initialize Plugin", "", self.OptionsView)
	--local AutoExpandSection = SectionClass.new("Auto Expand Section", "", self.OptionsView)

	--local AutomatizeSizeSection = SectionClass.new("Automatize Size", "", 1, self.OptionsView)
	--local SubConfigGrid = SubSectionClass.new("Auto", Config.NumberSubSection, AutomatizeSizeSection.Content)

	self:HideLoading()
end

return UIController]]></ProtectedString>
						<string name="ScriptGuid">{07312C1B-3F50-4374-9B67-0ACB15BE6DAC}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">UIController</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXD241C21C396E4E69989630349F715D9B">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local CoreController = {}
local CoreGui = game:GetService("CoreGui")

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local Config = RequireCore.Config.Data
local UI = RequireCore.UIFramework

local coreScreenGui = nil
local activeModal = nil

function CoreController.Init()
	if coreScreenGui then return end

	local existing = CoreGui:FindFirstChild(Config.PluginName .. "_CoreGui")
	if existing then existing:Destroy() end

	coreScreenGui = UI.new("ScreenGui", {
		Name = Config.PluginName .. "_CoreGui",
		--ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
		IgnoreGuiInset = true,
		--DisplayOrder = 100,
		ResetOnSpawn = false,
		ClipToDeviceSafeArea = false,
		SafeAreaCompatibility = Enum.SafeAreaCompatibility.None,
		Enabled = true,
		Parent = CoreGui
	})

end

function CoreController.mountModal(instance)
	CoreController.Init()

	if activeModal then 
		activeModal:Destroy() 
		activeModal = nil 
	end

	activeModal = instance
	instance.Parent = coreScreenGui

	return function()
		if activeModal == instance then
			activeModal:Destroy()
			activeModal = nil
		else
			instance:Destroy()
		end
	end
end

function CoreController.getScreenGui()
	CoreController.Init()
	return coreScreenGui
end

function CoreController.cleanup()
	if coreScreenGui then
		coreScreenGui:Destroy()
		coreScreenGui = nil
	end
	activeModal = nil
end

return CoreController]]></ProtectedString>
						<string name="ScriptGuid">{18535E84-475D-4898-BD17-EBA184A27004}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">CoreController</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
			</Item>
			<Item class="Folder" referent="RBXD56D436CB0F64601AD95C7E12B8CEE0C">
				<Properties>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">Components</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
				<Item class="ModuleScript" referent="RBXC2EF35E5F60D49639803ACA62EC5AE9E">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local Section = {}
Section.__index = Section

local TweenService = game:GetService("TweenService")
local CollectionService = game:GetService("CollectionService")

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data

function Section.new(title, iconId, number, parent)
	local self = setmetatable({}, Section)
	
	self.IsExpanded = false
	self.HeaderHeight = 30

	self.MainInstance = UI.new("CanvasGroup", {
		Name = number .. title .. " Section",
		Size = UDim2.new(0.975, 0, 0, self.HeaderHeight),
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		BorderSizePixel = 0,
		Parent = parent
	}, {

		UI.new("TextButton", {
			Name = "HeaderRow",
			Size = UDim2.new(1, 0, 0, self.HeaderHeight),
			BackgroundTransparency = 0.85,
			BackgroundColor3 = Config.Global.Colors.BackgroundColor2,
			ZIndex = 5,
			Text = "",
			
			Tags = {"btn"},
		}, {
			
			UI.new("ImageLabel", {
				Name = "Icon",
				Size = UDim2.new(0, 30, 1, 0),
				Position = UDim2.new(0, 5, 0.5, 0),
				AnchorPoint = Vector2.new(0, 0.5),
				Image = iconId or "",
				BackgroundTransparency = 1,
				ImageColor3 = Config.Global.Colors.AccentColor
			}),
			
			UI.new("TextLabel", {
				Name = "Title",
				Text = title:upper(),
				Size = UDim2.new(1, -45, 1, 0),
				Position = UDim2.fromOffset(45, 0),
				Style = "Title",
				TextXAlignment = Enum.TextXAlignment.Left,
				TextSize = 12
			}),
			
			UI.new("TextLabel", {
				Name = "Indicator",
				Text = "",
				Size = UDim2.fromOffset(30, 30),
				Position = UDim2.new(1, -4, 0.5, 0),
				AnchorPoint = Vector2.new(1, 0.5),
				BackgroundTransparency = 1,
				TextColor3 = Config.Global.Colors.IndiciatorSectionTitleTextColor,
				TextSize = 10,
			})
		}),

		
		UI.new("CanvasGroup", {
			Name = "ContentContainer",
			Position = UDim2.fromOffset(0, self.HeaderHeight),
			Size = UDim2.new(1, 0, 0, 0),
			BackgroundTransparency = 1,
		}, {
			UI.new("UIListLayout", {
				Name = "Layout",
				--Padding = UDim.new(0, 10),
				Padding = UDim.new(0, 8),
				SortOrder = Enum.SortOrder.Name,
				HorizontalAlignment = Enum.HorizontalAlignment.Center
			}),
			UI.new("UIPadding", {PaddingTop = UDim.new(0, 10), PaddingBottom = UDim.new(0, 10)})
		})
	})

	self.Content = self.MainInstance:WaitForChild("ContentContainer")
	self.List = self.Content:WaitForChild("Layout")
	self.Indicator = self.MainInstance.HeaderRow:WaitForChild("Indicator")
	self.Title = self.MainInstance.HeaderRow:WaitForChild("Title")
	
	local instance = self.Indicator
	local instance2 = self.Title

	self.MainInstance.HeaderRow.MouseButton1Click:Connect(function()
		self:Toggle()
	end)
	
	self.List:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		if self.IsExpanded then
			local newHeight = self.HeaderHeight + self.List.AbsoluteContentSize.Y + 20
			
			TweenService:Create(self.MainInstance, TweenInfo.new(0.1), {
				Size = UDim2.new(0.975, 0, 0, newHeight)
			}):Play()

			self.Content.Size = UDim2.new(1, 0, 0, self.List.AbsoluteContentSize.Y + 20)
		end
	end)
	
	if instance then
		local originalTrans = instance.TextTransparency

		instance.MouseEnter:Connect(function()
			instance.MouseEnter:Connect(function()
				TweenService:Create(instance, TweenInfo.new(0.25), {TextTransparency = originalTrans + 0.6}):Play()
			end)
		end)
		instance.MouseLeave:Connect(function()
			instance.MouseLeave:Connect(function()
				TweenService:Create(instance, TweenInfo.new(0.25), {TextTransparency = 0}):Play()
			end)
		end)
	end
	
	if instance2 then
		local originalTrans = instance2.TextTransparency

		instance2.MouseEnter:Connect(function()
			instance2.MouseEnter:Connect(function()
				TweenService:Create(instance2, TweenInfo.new(0.25), {TextTransparency = originalTrans + 0.6}):Play()
			end)
		end)
		
		instance2.MouseLeave:Connect(function()
			instance2.MouseLeave:Connect(function()
				TweenService:Create(instance2, TweenInfo.new(0.25), {TextTransparency = 0}):Play()
			end)
		end)
	end
	
	return self
end

function Section:RefreshSize()
	local contentSizeY = self.List.AbsoluteContentSize.Y
	local totalContentHeight = contentSizeY + 20
	local finalHeight = self.IsExpanded and (self.HeaderHeight + totalContentHeight) or self.HeaderHeight

	TweenService:Create(self.MainInstance, TweenInfo.new(0.3, Enum.EasingStyle.Quart), {
		Size = UDim2.new(0.975, 0, 0, finalHeight)
	}):Play()

	self.Content.Size = UDim2.new(1, 0, 0, self.IsExpanded and totalContentHeight or 0)

	local ancestor = self.MainInstance.Parent
	while ancestor do
		if ancestor.Name:match("Section") and ancestor:FindFirstChild("ContentContainer") then
			break
		end
		ancestor = ancestor.Parent
	end
end

function Section:Toggle()
	self.IsExpanded = not self.IsExpanded

	local contentSizeY = self.List.AbsoluteContentSize.Y
	local totalContentHeight = contentSizeY + 20

	local finalHeight = self.IsExpanded and (self.HeaderHeight + totalContentHeight) or self.HeaderHeight

	TweenService:Create(self.MainInstance, TweenInfo.new(0.35, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
		Size = UDim2.new(0.975, 0, 0, finalHeight)
	}):Play()

	self.Indicator.Text = self.IsExpanded and "" or ""
	
	self.Content.Size = UDim2.new(1, 0, 0, self.IsExpanded and totalContentHeight or 0)
end

return Section]]></ProtectedString>
						<string name="ScriptGuid">{EC2C11D1-EFAD-4EEC-A990-92D20C1112FF}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Section</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXFA4636038C0F4AC2A53252708FF6A042">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local CategoryCard = {}
CategoryCard.__index = CategoryCard

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data

function CategoryCard.new(name, number, parent, callback)
	local self = setmetatable({}, CategoryCard)

	self.Instance = UI.new("TextButton", {
		Name = number .. name .. " Category",
		Size = UDim2.new(0.975, 0, 0, 60),
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		Parent = parent,
		Text = "",
		Tags = {"btn"},
		ClipsDescendants = true
	}, {
		UI.new("TextLabel", {
			Name = "NameCategory",
			Text = name:upper(),
			Style = "Title",
			Size = UDim2.fromScale(1, 0.72),
			Position = UDim2.fromScale(0.5, 0),
			AnchorPoint = Vector2.new(0.5, 0),
			TextXAlignment = "Center",
			TextTransparency = 0.25,
			TextSize = 10,
		}),
		UI.new("TextLabel", {
			Text = "OPEN TOOL",
			Name = "Content",
			Style = "Title",
			AnchorPoint = Vector2.new(0.5, 1),
			Size = UDim2.fromScale(1, 0.3),
			Position = UDim2.fromScale(0.5, 1),
			TextXAlignment = "Center",
			TextColor3 = Config.Global.Colors.AccentColor2,
			BackgroundTransparency = 0.8,
			BackgroundColor3 = Config.Global.Colors.ContentBackground,
			TextSize = 9,
			TextTransparency = 0.25
		})
	})

	self.Instance.MouseButton1Click:Connect(callback)

	return self
end

return CategoryCard]]></ProtectedString>
						<string name="ScriptGuid">{20C1DF3B-F2B8-4ADC-8D3A-EDCAD7C976B6}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">CategoryCard</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXE8167907F7E64CF8BC88D40469F7DD69">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local SubSection = {}
SubSection.__index = SubSection

local TweenService = game:GetService("TweenService")

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data

function SubSection.new(title, number, parent)
	local self = setmetatable({}, SubSection)

	self.IsExpanded = false
	self.HeaderHeight = 30

	self.MainInstance = UI.new("CanvasGroup", {
		Name = number .. title .. " SubSection",
		Size = UDim2.new(0.965, 0, 0, self.HeaderHeight),
		BackgroundColor3 = Config.Global.Colors.SubSectionContainerBackground,
		GroupTransparency = 0,
		BorderSizePixel = 0,
		ClipsDescendants = true,
		Parent = parent
	}, {
		UI.new("UICorner", {CornerRadius = UDim.new(0, 4)}),

		UI.new("TextButton", {
			Name = "Header",
			Size = UDim2.new(1, 0, 0, self.HeaderHeight),
			BackgroundColor3 = Config.Global.Colors.SubSectionHeaderRowBackground,
			AutoButtonColor = false,
			Text = ""
		}, {
			UI.new("UICorner", {CornerRadius = UDim.new(0, 4)}),
			UI.new("TextLabel", {
				Text = title,
				Size = UDim2.new(1, 0, 1, 0),
				Position = UDim2.fromOffset(10, 0),
				Style = "Title",
				TextXAlignment = "Left",
				TextSize = 10,
				TextColor3 = Config.Global.Colors.SubSectionTitleTextColor
			}),
			
			UI.new("TextLabel", {
				Name = "Indicator",
				Text = "+",
				Size = UDim2.fromOffset(20, 20),
				Position = UDim2.new(1, -10, 0.5, 0),
				AnchorPoint = Vector2.new(1, 0.5),
				BackgroundTransparency = 1,
				TextColor3 = Config.Global.Colors.AccentColor2,
				TextSize = 12
			})
		}),

		UI.new("CanvasGroup", {
			Name = "SubContent",
			Position = UDim2.fromOffset(0, self.HeaderHeight),
			Size = UDim2.new(1, 0, 0, 0),
			BackgroundTransparency = 1,
		}, {
			UI.new("UIListLayout", {
				Name = "Layout",
				Padding = UDim.new(0, 6),
				HorizontalAlignment = "Center"
			}),
			UI.new("UIPadding", {PaddingTop = UDim.new(0, 6), PaddingBottom = UDim.new(0, 6)})
		}),
		
		UI.new("Frame", {
			Name = "Background",
			Size = UDim2.fromScale(1, 1),
			BackgroundTransparency = 0.93,
		})
	})

	self.SubContent = self.MainInstance:WaitForChild("SubContent")
	self.Layout = self.SubContent:WaitForChild("Layout")
	self.Indicator = self.MainInstance.Header.Indicator

	self.MainInstance.Header.MouseButton1Click:Connect(function()
		self:Toggle()
	end)
	
	self.Layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		if self.IsExpanded then
			local newHeight = self.HeaderHeight + self.Layout.AbsoluteContentSize.Y + 20

			TweenService:Create(self.MainInstance, TweenInfo.new(0.1), {
				Size = UDim2.new(0.965, 0, 0, newHeight)
			}):Play()

			self.SubContent.Size = UDim2.new(1, 0, 0, self.Layout.AbsoluteContentSize.Y + 20)
		end
	end)

	return self
end

function SubSection:Toggle()
	self.IsExpanded = not self.IsExpanded
	
	local contentSizeY = self.Layout.AbsoluteContentSize.Y
	local totalContentHeight = contentSizeY + 20

	local finalHeight = self.IsExpanded and (self.HeaderHeight + totalContentHeight) or self.HeaderHeight

	TweenService:Create(self.MainInstance, TweenInfo.new(0.35, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
		Size = UDim2.new(0.965, 0, 0, finalHeight)
	}):Play()

	self.Indicator.Text = self.IsExpanded and "-" or "+"

	self.SubContent.Size = UDim2.new(1, 0, 0, self.IsExpanded and totalContentHeight or 0)
end

return SubSection]]></ProtectedString>
						<string name="ScriptGuid">{27DECD1E-FF0D-4676-8C1D-B76E0267273E}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">SubSection</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBXFCA194AEFADC4575A5F2385EF9CE533D">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local Slider = {}
Slider.__index = Slider

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data
local State = RequireCore.State

local function roundToValidValue(value)
	local rounded = math.floor((value / 0.05) + 0.5) * 0.05

	rounded = math.floor(rounded * 100 + 0.5) / 100

	return rounded
end

function Slider.new(name, number, parent, stateKey, min, max)
	local self = setmetatable({}, Slider)

	min = min or 0
	max = max or 1

	self.Instance = UI.new("CanvasGroup", {
		Name = number .. name .. " Slider" or "Slider",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(0.95, 0, 0, 20),
		BackgroundTransparency = 0.85,
		Parent = parent
	}, {
		UI.new("UICorner", {
			CornerRadius = UDim.new(0.1, 0)
		}),

		UI.new("Frame", {
			Name = "Control",
			Size = UDim2.new(0, 0, 1, 0),
			BackgroundColor3 = Config.Global.Colors.SliderControl,
			BackgroundTransparency = 0.35,
		}),

		UI.new("TextLabel", {
			Name = "DisplayOpacity",
			Size = UDim2.fromScale(1, 1),
			AnchorPoint = Vector2.new(0.5, 0.5),
			Position = UDim2.fromScale(0.5, 0.5),
			BackgroundTransparency = 1,
			Style = "Title TxtSize-16",
			ZIndex = 2,
			TextTransparency = 0.4,
			Text = "0"
		}, {
			UI.new("UIStroke", {
				StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize,
				Thickness = 0.1,
				Transparency = 0.6
			})
		})
	})

	local control = self.Instance.Control
	local display = self.Instance.DisplayOpacity

	local function updateValue(normalizedValue)
		normalizedValue = roundToValidValue(normalizedValue)

		local value = min + (normalizedValue * (max - min))
		value = math.clamp(value, min, max)

		control.Size = UDim2.fromScale(normalizedValue, 1)
		display.Text = string.format("%.2f", value)

		if stateKey then
			State.Set(stateKey, value)
		end
	end

	self.Instance.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			local absPos = self.Instance.AbsolutePosition.X
			local absSize = self.Instance.AbsoluteSize.X
			local mouseX = input.Position.X

			local normalized = math.clamp((mouseX - absPos) / absSize, 0, 1)
			updateValue(normalized)
		end
	end)

	if stateKey then
		local initialValue = State.Get(stateKey) or min
		local normalized = (initialValue - min) / (max - min)
		updateValue(normalized)
	end

	return self
end

return Slider]]></ProtectedString>
						<string name="ScriptGuid">{D586D8FB-329C-4154-9C7D-87A556A48DF4}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Slider</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBX194927C2F0D74FEA8D3D013CE283B39C">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local Divider = {}
Divider.__index = Divider

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data

function Divider.new(name, number, parent)
	local self = setmetatable({}, Divider)
	
	UI.new("Frame", {
		Name = number .. name .. " Divider",
		AnchorPoint = Vector2.new(0.5, 0.5),
		Size = UDim2.new(1, 0, 0, 4),
		BackgroundTransparency = 0.925,
		BackgroundColor3 = Config.Global.Colors.BackgroundColor2,
		Parent = parent
	})

	return self
end

return Divider]]></ProtectedString>
						<string name="ScriptGuid">{31AF780A-5A95-4AB7-B135-13F98D1005B9}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Divider</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="ModuleScript" referent="RBX4D9B7127FCB048329B9897FD0F579278">
					<Properties>
						<Content name="LinkedSource"><null></null></Content>
						<ProtectedString name="Source"><![CDATA[local InstanceList = {}
InstanceList.__index = InstanceList

local RequireCore = require(script.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data

function InstanceList.new(title, iconSource, number, parent)
	local self = setmetatable({}, InstanceList)
	
	local imageProps = {
		Name = "Icon",
		AnchorPoint = Vector2.new(0, 0.5),
		Position = UDim2.new(0, 11, 0.5, 0),
		Size = UDim2.new(0, 16, 0, 16),
		BackgroundTransparency = 1,
		ImageTransparency = 0.25,
		BorderSizePixel = 0
	}

	if type(iconSource) == "string" then
		imageProps.Image = iconSource
		imageProps.ImageRectOffset = Vector2.zero
		imageProps.ImageRectSize = Vector2.zero 

	elseif type(iconSource) == "table" then
		for k, v in pairs(iconSource) do
			imageProps[k] = v 
		end
	end
	
	self.MainInstance = UI.new("Frame", {
		Name = number .. title .. " List",
		Size = UDim2.new(0.9, 0, 0, 30),
		BackgroundTransparency = 0.85,
		BackgroundColor3 = Config.Global.Colors.BackgroundColor2,
		BorderSizePixel = 0,
		ClipsDescendants = true,
		Parent = parent
	}, {

		UI.new("Frame", {
			Name = "Control",
			Size = UDim2.new(0.24, 0, 1, 0),
			AnchorPoint = Vector2.new(1, 0.5),
			Position = UDim2.new(1, 0, 0.5, 0),
			BorderSizePixel = 0,
			BackgroundTransparency = 1,
		}, {
			UI.new("UIListLayout", {
				Padding = UDim.new(0, 5),
				SortOrder = Enum.SortOrder.Name,
				FillDirection = Enum.FillDirection.Horizontal,
				HorizontalAlignment = Enum.HorizontalAlignment.Center,
				VerticalAlignment = Enum.VerticalAlignment.Center
			}),
			
			UI.new("TextButton", {
				Name = "1Add",
				Text = "",
				Classes = "btn-accent",
				Size = UDim2.new(0, 30, 1, 0),
				BorderSizePixel = 0,
				Tags = {"btn"},
			}, {
				UI.new("ImageLabel", {
					Name = "Icon",
					BackgroundTransparency = 1,
					AnchorPoint = Vector2.new(0.5, 0.5),
					Position = UDim2.new(0.5, 0, 0.5, 0),
					Size = UDim2.fromScale(0.475, 0.475),
					BorderSizePixel = 0,
					Image = Config.Images["ImgIconBtn_Add"],
					ImageTransparency = 0.6
				})	
			}),
			
			UI.new("TextButton", {
				Name = "2Replace",
				Text = "",
				Classes = "btn-accent",
				Size = UDim2.new(0, 30, 1, 0),
				BorderSizePixel = 0,
				Tags = {"btn"},
			}, {
				UI.new("ImageLabel", {
					Name = "Icon",
					BackgroundTransparency = 1,
					AnchorPoint = Vector2.new(0.5, 0.5),
					Position = UDim2.new(0.5, 0, 0.525, 0),
					Size = UDim2.fromScale(0.475, 0.475),
					BorderSizePixel = 0,
					Image = Config.Images["ImgIconBtn_Replace"],
					ImageTransparency = 0.4
				})	
			}),
		}),
		
		--UI.new("ImageLabel", {
		--	Name = "Icon",
		--	Image = image or "",
		--	Position = UDim2.new(0, 0, 0.5, 0),
		--	Size = UDim2.new(0, 30, 1, 0),
		--	AnchorPoint = Vector2.new(0, 0.5),
		--	BackgroundTransparency = 1,
		--	BorderSizePixel = 0
		--}),
		
		UI.new("ImageLabel", imageProps),
		
		UI.new("TextLabel", {
			Text = title:upper() or "",
			AnchorPoint = Vector2.new(0, 0.5),
			BorderSizePixel = 0,
			Position = UDim2.new(0.11, 0, 0.5, 0),
			Size = UDim2.new(0.65, 0, 1, 0),
			Style = "Title TxtSize-10",
			TextXAlignment = Enum.TextXAlignment.Left
		}, {
			UI.new("UIPadding", {
				PaddingLeft = UDim.new(0.05, 0)
			})
		})
	})
	

	return self
end

return InstanceList]]></ProtectedString>
						<string name="ScriptGuid">{ECFC57CA-6A6F-45AF-9C01-C65D308F70C9}</string>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">InstanceList</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
				</Item>
				<Item class="Folder" referent="RBX913FE869D3704324BB60E08767E0AAF7">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">Color</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBXA1F3BF5663A74DC0A3F7934FD50E6D35">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local ColorPicker = {}
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")
local RunService = game:GetService("RunService")

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local Config = RequireCore.Config.Data
local CoreController = RequireCore.CoreController

local BASE_ZINDEX = 500
local CHILDREN_ZINDEX = 1000

local activeScreenGui = nil 
local activePickerConnection = nil

local function toHSV(color) return Color3.toHSV(color) end
local function fromHSV(h, s, v) return Color3.fromHSV(h, s, v) end

function ColorPicker.open(initialColor, onColorChangedCallback)
	if activeScreenGui then activeScreenGui:Destroy() activeScreenGui = nil end

	local h, s, v = toHSV(initialColor or Color3.new(1,1,1))
	local currentColor = initialColor or Color3.new(1,1,1)
	
	local blocker = UI.new("Frame", {
		Name = "ColorPickerBlocker",
		Size = UDim2.fromScale(1, 1),
		BackgroundTransparency = 0.5, 
		BackgroundColor3 = Config.Global.Colors.ColorPickerBackground,
		Active = true,
		ZIndex = BASE_ZINDEX,
	})

	local container = UI.new("CanvasGroup", {
		Name = "LumeColorPicker",
		Size = UDim2.new(0, 240, 0, 360),
		Position = UDim2.fromScale(0.5, 0.5),
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundColor3 = Config.Global.Colors.SecondaryColor,
		ZIndex = BASE_ZINDEX,
		Parent = blocker,
	}, {
		UI.new("UICorner", { CornerRadius = UDim.new(0, 8) }),
		UI.new("UIStroke", { Thickness = 1, Color = Config.Global.Colors.AccentColor, Transparency = 0.8 }),

		UI.new("Frame", {
			Name = "Container",
			Size = UDim2.new(1, -20, 0, 240),
			Position = UDim2.fromOffset(10, 10),
			BackgroundTransparency = 1,
			ZIndex = CHILDREN_ZINDEX
		}, {
			UI.new("Frame", {
				Name = "Color",
				Size = UDim2.new(1, 0, 0, 180),
				BackgroundTransparency = 1,
				ZIndex = CHILDREN_ZINDEX
			}, {
				UI.new("ImageButton", {
					Name = "Saturation", 
					Size = UDim2.fromScale(1, 1),
					BackgroundColor3 = Color3.fromHSV(h, 1, 1),
					AutoButtonColor = false,
					Image = "",
					ZIndex = CHILDREN_ZINDEX
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }),
				}),

				UI.new("Frame", {
					Name = "WhiteOverlay",
					Size = UDim2.fromScale(1,1),
					BackgroundTransparency = 0,
					BackgroundColor3 = Config.Global.Colors.PickerWhite,
					ZIndex = CHILDREN_ZINDEX + 1
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }),
					UI.new("UIGradient", {
						Color = ColorSequence.new(Color3.new(1,1,1)),
						Transparency = NumberSequence.new({
							NumberSequenceKeypoint.new(0, 0, 0),
							NumberSequenceKeypoint.new(1, 1, 0)
						})
					})
				}),

				UI.new("Frame", {
					Name = "BlackOverlay",
					Size = UDim2.fromScale(1,1),
					BackgroundTransparency = 0,
					BackgroundColor3 = Config.Global.Colors.PickerBlack,
					ZIndex = CHILDREN_ZINDEX + 2
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }),
					UI.new("UIGradient", {
						Color = ColorSequence.new(Color3.new(0,0,0)),
						Transparency = NumberSequence.new({
							NumberSequenceKeypoint.new(0, 1, 0),
							NumberSequenceKeypoint.new(1, 0, 0)
						}),
						Rotation = 90
					})
				}),

				UI.new("Frame", {
					Name = "Cursor",
					Size = UDim2.fromOffset(12, 12),
					AnchorPoint = Vector2.new(0.5, 0.5),
					Position = UDim2.fromScale(s, 1-v),
					BackgroundColor3 = Color3.new(1,1,1),
					ZIndex = CHILDREN_ZINDEX + 10 
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(1,0) }),
					UI.new("UIStroke", { Thickness = 2, Color = Color3.new(0,0,0) })
				}),
			}),

			UI.new("ImageButton", {
				Name = "Hue",
				BackgroundColor3 = Color3.fromRGB(255, 255, 255),
				Size = UDim2.new(1, 0, 0, 16),
				Position = UDim2.fromOffset(0, 190),
				AutoButtonColor = false,
				Image = "", 
				ZIndex = CHILDREN_ZINDEX
			}, {
				UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }),
				UI.new("UIGradient", { 
					Color = ColorSequence.new({
						ColorSequenceKeypoint.new(0, Color3.fromRGB(255,0,0)),
						ColorSequenceKeypoint.new(0.167, Color3.fromRGB(255,255,0)),
						ColorSequenceKeypoint.new(0.333, Color3.fromRGB(0,255,0)),
						ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0,255,255)),
						ColorSequenceKeypoint.new(0.667, Color3.fromRGB(0,0,255)),
						ColorSequenceKeypoint.new(0.833, Color3.fromRGB(255,0,255)),
						ColorSequenceKeypoint.new(1, Color3.fromRGB(255,0,0))
					})
				}),
				UI.new("Frame", {
					Name = "Slider",
					Size = UDim2.new(0, 4, 1, 2),
					Position = UDim2.fromScale(h, 0.5),
					AnchorPoint = Vector2.new(0.5, 0.5),
					BackgroundColor3 = Color3.new(1,1,1),
					BackgroundTransparency = 0,
					ZIndex = CHILDREN_ZINDEX + 1
				}, { 
					UI.new("UICorner", {}),
					UI.new("UIStroke", {Thickness = 1, Color = Color3.new(0,0,0)})
				})
			}),
		}),

		UI.new("Frame", {
			Name = "ColorField",
			Size = UDim2.new(1, -20, 0, 30),
			Position = UDim2.fromOffset(10, 260),
			BackgroundTransparency = 1,
			ZIndex = CHILDREN_ZINDEX
		}, {
			UI.new("Frame", {
				Name = "Preview",
				Size = UDim2.new(0.2, 0, 1, 0),
				BackgroundColor3 = currentColor,
				ZIndex = CHILDREN_ZINDEX
			}, { UI.new("UICorner", { CornerRadius = UDim.new(0,4)}) }),

			UI.new("TextBox", {
				Name = "InputHex",
				Text = "#" .. currentColor:ToHex(),
				Size = UDim2.new(0.75, 0, 1, 0),
				Position = UDim2.fromScale(0.25, 0),
				Classes = "txt-box2",
				TextXAlignment = "Center",
				ClearTextOnFocus = false,
				ZIndex = CHILDREN_ZINDEX
			}, { UI.new("UICorner", { CornerRadius = UDim.new(0,4) }) })
		}),

		UI.new("Frame", {
			Name = "Actions",
			Size = UDim2.new(1, -20, 0, 30),
			AnchorPoint = Vector2.new(0.5, 1),
			Position = UDim2.new(0.5, 0, 1, -10),
			BackgroundTransparency = 1,
			ZIndex = CHILDREN_ZINDEX
		}, {
			UI.new("UIListLayout", { 
				FillDirection = "Horizontal", 
				Padding = UDim.new(0, 10), 
				HorizontalAlignment = Enum.HorizontalAlignment.Center, 
				VerticalAlignment = Enum.VerticalAlignment.Center 
			}),

			UI.new("TextButton", {
				Name = "Apply",
				Text = "Apply",
				Size = UDim2.new(0.48, 0, 1, 0),
				Classes = "btn-accent",
				ZIndex = CHILDREN_ZINDEX
			}),
			UI.new("TextButton", {
				Name = "Cancel",
				Text = "Cancel",
				Size = UDim2.new(0.48, 0, 1, 0),
				Classes = "btn-accent2",
				ZIndex = CHILDREN_ZINDEX
			})
		})
	})

	local closeFunc = CoreController.mountModal(blocker)
	
	local satBox = container.Container.Color.Saturation 
	local hueBox = container.Container.Hue
	local hueSlider = hueBox.Slider
	local satCursor = container.Container.Color.Cursor
	local preview = container.ColorField.Preview
	local hexInput = container.ColorField.InputHex

	local function update(source) 
		currentColor = fromHSV(h, s, v)

		satBox.BackgroundColor3 = fromHSV(h, 1, 1)

		satCursor.Position = UDim2.fromScale(s, 1-v) 
		hueSlider.Position = UDim2.new(h, 0, 0.5, 0)
		preview.BackgroundColor3 = currentColor 

		if source ~= "input" then
			hexInput.Text = "#" .. currentColor:ToHex()
		end

	end

	local isDraggingSat = false
	local isDraggingHue = false

	satBox.InputBegan:Connect(function(input) 
		if input.UserInputType == Enum.UserInputType.MouseButton1 then 
			isDraggingSat = true 
			local mouseLoc = UserInputService:GetMouseLocation()
			local absPos = satBox.AbsolutePosition
			local absSize = satBox.AbsoluteSize
			s = math.clamp((mouseLoc.X - absPos.X) / absSize.X, 0, 1)
			v = 1 - math.clamp((mouseLoc.Y - absPos.Y) / absSize.Y, 0, 1)
			update("drag")
		end 
	end)

	hueBox.InputBegan:Connect(function(input) 
		if input.UserInputType == Enum.UserInputType.MouseButton1 then 
			isDraggingHue = true 
			local mouseLoc = UserInputService:GetMouseLocation()
			local absPos = hueBox.AbsolutePosition
			local absSize = hueBox.AbsoluteSize
			h = math.clamp((mouseLoc.X - absPos.X) / absSize.X, 0, 1)
			update("drag")
		end 
	end)

	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			isDraggingSat = false
			isDraggingHue = false
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			local mouseLoc = UserInputService:GetMouseLocation()

			if isDraggingSat then
				local absPos = satBox.AbsolutePosition
				local absSize = satBox.AbsoluteSize

				local relativeX = (mouseLoc.X - absPos.X) / absSize.X
				local relativeY = (mouseLoc.Y - absPos.Y) / absSize.Y

				s = math.clamp(relativeX, 0, 1)
				v = 1 - math.clamp(relativeY, 0, 1)

				update("drag")

			elseif isDraggingHue then
				local absPos = hueBox.AbsolutePosition
				local absSize = hueBox.AbsoluteSize

				local relativeX = (mouseLoc.X - absPos.X) / absSize.X
				h = math.clamp(relativeX, 0, 1)

				update("drag")
			end
		end
	end)

	hexInput.FocusLost:Connect(function(enter)
		local success, color = pcall(function() return Color3.fromHex(hexInput.Text) end)
		if success then
			h, s, v = toHSV(color)
			update("input")
			if onColorChangedCallback then onColorChangedCallback(currentColor) end
		else
			hexInput.Text = "#" .. currentColor:ToHex()
		end
	end)

	blocker.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			closeFunc()
		end
	end)
	
	container.Actions.Apply.MouseButton1Click:Connect(function()
		if onColorChangedCallback then onColorChangedCallback(currentColor) end
		closeFunc()
	end)

	container.Actions.Cancel.MouseButton1Click:Connect(function()
		closeFunc()
	end)
	
	update() 
end

return ColorPicker]]></ProtectedString>
							<string name="ScriptGuid">{C71A234B-0E94-4454-809A-E2F638616E20}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">ColorPicker</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBX926ECAD8E2014DB48D6457E26E677EE9">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local GradientColor = {}
local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)

local UI = RequireCore.UIFramework
local ColorPicker = RequireCore.ColorPicker

local POINT_SIZE = UDim2.fromOffset(12, 20)
local POINT_HITBOX = UDim2.fromOffset(20, 30)

function GradientColor.new(parent, onGradientChanged)
	local colors = {
		t0 = Color3.fromRGB(0, 0, 0),
		t1 = Color3.fromRGB(255, 255, 255) 
	}

	local function updateDisplay(container)
		local seq = ColorSequence.new({
			ColorSequenceKeypoint.new(0, colors.t0),
			ColorSequenceKeypoint.new(1, colors.t1)
		})

		container.Strip.DisplayGrad.Color = seq
		container.PointsArea.P0.Indicator.BackgroundColor3 = colors.t0
		container.PointsArea.P1.Indicator.BackgroundColor3 = colors.t1

		if onGradientChanged then
			onGradientChanged(seq)
		end
	end

	local container = UI.new("Frame", {
		Name = "GradientComponent",
		Size = UDim2.new(1, 0, 0, 45),
		BackgroundTransparency = 1,
		Parent = parent
	}, {
		
		UI.new("Frame", {
			Name = "Strip",
			Size = UDim2.new(1, 0, 0, 16),
			Position = UDim2.new(0, 0, 0.5, -8),
			BackgroundColor3 = Color3.new(1,1,1),
		}, {
			UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }),
			UI.new("UIGradient", { Name = "DisplayGrad" }),
			
			UI.new("ImageLabel", {
				Name = "Checker",
				Size = UDim2.fromScale(1,1),
				BackgroundTransparency = 1,
				Image = "rbxassetid://14963380295",
				ScaleType = Enum.ScaleType.Tile,
				TileSize = UDim2.fromOffset(8,8),
				ImageTransparency = 0.8,
				ZIndex = -1
			}, { UI.new("UICorner", { CornerRadius = UDim.new(0, 4) }) })
		}),

		UI.new("Frame", {
			Name = "PointsArea",
			Size = UDim2.new(1, 10, 1, 0),
			Position = UDim2.new(0, -5, 0, 0),
			BackgroundTransparency = 1,
			ZIndex = 5
		}, {

			UI.new("TextButton", {
				Name = "P0",
				Size = POINT_HITBOX,
				Position = UDim2.new(0, 15, 0.5, 0),
				AnchorPoint = Vector2.new(0.5, 0.5),
				BackgroundTransparency = 1,
				Text = ""
			}, {
				UI.new("Frame", {
					Name = "Indicator",
					Size = POINT_SIZE,
					AnchorPoint = Vector2.new(0.5, 0.5),
					Position = UDim2.fromScale(0.5, 0.5),
					BackgroundColor3 = colors.t0,
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(0, 3) }),
					UI.new("UIStroke", { Thickness = 1.5, Color = Color3.new(1,1,1) }), 
					UI.new("Frame", {
						Size = UDim2.fromScale(1,1), BackgroundTransparency = 1
					}, { UI.new("UIStroke", { Thickness = 1, Color = Color3.new(0,0,0), ApplyStrokeMode="Border" }) })
				})
			}),

			UI.new("TextButton", {
				Name = "P1",
				Size = POINT_HITBOX,
				Position = UDim2.new(1, -15, 0.5, 0),
				AnchorPoint = Vector2.new(0.5, 0.5),
				BackgroundTransparency = 1,
				Text = ""
			}, {
				UI.new("Frame", {
					Name = "Indicator",
					Size = POINT_SIZE,
					AnchorPoint = Vector2.new(0.5, 0.5),
					Position = UDim2.fromScale(0.5, 0.5),
					BackgroundColor3 = colors.t1,
				}, {
					UI.new("UICorner", { CornerRadius = UDim.new(0, 3) }),
					UI.new("UIStroke", { Thickness = 1.5, Color = Color3.new(1,1,1) }),
					UI.new("Frame", { 
						Size = UDim2.fromScale(1,1), BackgroundTransparency = 1
					}, { UI.new("UIStroke", { Thickness = 1, Color = Color3.new(0,0,0), ApplyStrokeMode="Border" }) })
				})
			})
		})
	})

	local p0 = container.PointsArea.P0
	local p1 = container.PointsArea.P1

	p0.MouseButton1Click:Connect(function()
		ColorPicker.open(colors.t0, function(newCol)
			colors.t0 = newCol
			updateDisplay(container)
		end)
	end)

	p1.MouseButton1Click:Connect(function()
		ColorPicker.open(colors.t1, function(newCol)
			colors.t1 = newCol
			updateDisplay(container)
		end)
	end)

	updateDisplay(container)

	return container
end

return GradientColor]]></ProtectedString>
							<string name="ScriptGuid">{6F4188A9-5076-4572-B8CB-21652DAE8C89}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">GradientColor</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
				<Item class="Folder" referent="RBX2016D197B8E24B139243A0E676185679">
					<Properties>
						<BinaryString name="AttributesSerialize"></BinaryString>
						<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
						<bool name="DefinesCapabilities">false</bool>
						<string name="Name">CoreGui</string>
						<int64 name="SourceAssetId">-1</int64>
						<BinaryString name="Tags"></BinaryString>
					</Properties>
					<Item class="ModuleScript" referent="RBX822397C0692341F9901BF7E9BDB194B3">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local GridComponent = {}

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local UI = RequireCore.UIFramework
local State = RequireCore.State

function GridComponent.new(parent)
	local self = {}

	self.Container = UI.new("CanvasGroup", {
		Name = "Grid Tool",
		Size = UDim2.fromScale(1, 1),
		Position = UDim2.fromScale(0.5, 0.5),
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundTransparency = 1,
		ZIndex = -1,
		Parent = parent
	}, {
		
		UI.new("UIStroke", {
			BorderStrokePosition = Enum.BorderStrokePosition.Inner,
			StrokeSizingMode = Enum.StrokeSizingMode.ScaledSize,
			Thickness = 0.005,
			Transparency = State.Get("Grid_Transparency") or 0.55,
			Color = State.Get("Grid_Color") or Color3.new(255, 255, 255),
		}),
		
		UI.new("Frame", {
			Name = "HorizontalLinesContainer",
			Size = UDim2.fromScale(1, 1),
			Position = UDim2.fromScale(0.5, 0.5),
			AnchorPoint = Vector2.new(0.5, 0.5),
			BackgroundTransparency = 1,
			ZIndex = -1,
		}, {
			UI.new("UIListLayout", {
				Name = "VerticalLayout",
				FillDirection = Enum.FillDirection.Vertical,
				HorizontalAlignment = Enum.HorizontalAlignment.Center,
				VerticalAlignment = Enum.VerticalAlignment.Center,
				Padding = UDim.new(0, State.Get("Grid_PaddingY") or 10)
			}),

			UI.new("Frame", {
				Name = "HorizontalLineTemplate",
				Size = UDim2.new(1, 0, 0, State.Get("Grid_GridSize") or 1),
				AnchorPoint = Vector2.new(0.5, 0.5),
				BackgroundColor3 = State.Get("Grid_Color") or Color3.new(1, 1, 1),
				BackgroundTransparency = State.Get("Grid_Transparency") or 0,
				BorderSizePixel = 0,
				ZIndex = -1,
			})
		}),

		UI.new("Frame", {
			Name = "VerticalLinesContainer",
			Size = UDim2.fromScale(1, 1),
			Position = UDim2.fromScale(0.5, 0.5),
			AnchorPoint = Vector2.new(0.5, 0.5),
			BackgroundTransparency = 1,
			ZIndex = -1,
		}, {
			UI.new("UIListLayout", {
				Name = "HorizontalLayout",
				FillDirection = Enum.FillDirection.Horizontal,
				HorizontalAlignment = Enum.HorizontalAlignment.Center,
				VerticalAlignment = Enum.VerticalAlignment.Center,
				Padding = UDim.new(0, State.Get("Grid_PaddingX") or 10)
			}),

			UI.new("Frame", {
				Name = "VerticalLineTemplate",
				Size = UDim2.new(0, State.Get("Grid_GridSize") or 1, 1, 0),
				AnchorPoint = Vector2.new(0.5, 0.5),
				BackgroundColor3 = State.Get("Grid_Color") or Color3.new(1, 1, 1),
				BackgroundTransparency = State.Get("Grid_Transparency") or 0,
				BorderSizePixel = 0,
				ZIndex = -1,
			})
		})
	})

	self.HorizontalContainer = self.Container.HorizontalLinesContainer
	self.VerticalContainer = self.Container.VerticalLinesContainer
	self.HorizontalTemplate = self.HorizontalContainer.HorizontalLineTemplate
	self.VerticalTemplate = self.VerticalContainer.VerticalLineTemplate
	self.Thickness = self.Container.UIStroke

	self.UpdateLines = function(obj)
		local paddingX = State.Get("Grid_PaddingX") or 10
		local paddingY = State.Get("Grid_PaddingY") or 10
		local thickness = State.Get("Grid_GridSize") or 1
		local color = State.Get("Grid_Color") or Color3.new(1, 1, 1)
		local transparency = State.Get("Grid_Transparency") or 0

		obj.HorizontalContainer.VerticalLayout.Padding = UDim.new(0, paddingY)
		obj.VerticalContainer.HorizontalLayout.Padding = UDim.new(0, paddingX)

		for _, child in ipairs(obj.HorizontalContainer:GetChildren()) do
			if child:IsA("Frame") and child.Name ~= "HorizontalLineTemplate" then
				child:Destroy()
			end
		end

		for _, child in ipairs(obj.VerticalContainer:GetChildren()) do
			if child:IsA("Frame") and child.Name ~= "VerticalLineTemplate" then
				child:Destroy()
			end
		end

		local viewportSize = workspace.CurrentCamera.ViewportSize
		local maxLinesX = math.min(math.floor(viewportSize.X / paddingX) * 2, 250)
		local maxLinesY = math.min(math.floor(viewportSize.Y / paddingY) * 2, 250)

		for i = 1, maxLinesY do
			local line = obj.HorizontalTemplate:Clone()
			line.Name = "HorizontalLine_" .. i
			line.Size = UDim2.new(1, 0, 0, thickness)
			line.BackgroundColor3 = color
			line.BackgroundTransparency = transparency
			line.Parent = obj.HorizontalContainer
		end

		for i = 1, maxLinesX do
			local line = obj.VerticalTemplate:Clone()
			line.Name = "VerticalLine_" .. i
			line.Size = UDim2.new(0, thickness, 1, 0)
			line.BackgroundColor3 = color
			line.BackgroundTransparency = transparency
			line.Parent = obj.VerticalContainer
		end

		obj.HorizontalTemplate.Size = UDim2.new(1, 0, 0, thickness)
		obj.HorizontalTemplate.BackgroundColor3 = color
		obj.HorizontalTemplate.BackgroundTransparency = transparency

		obj.VerticalTemplate.Size = UDim2.new(0, thickness, 1, 0)
		obj.VerticalTemplate.BackgroundColor3 = color
		obj.VerticalTemplate.BackgroundTransparency = transparency
	end

	self.UpdateColor = function(obj, newColor)
		obj.Thickness.Color = newColor
		obj.HorizontalTemplate.BackgroundColor3 = newColor
		obj.VerticalTemplate.BackgroundColor3 = newColor

		for _, child in ipairs(obj.HorizontalContainer:GetChildren()) do
			if child:IsA("Frame") then
				child.BackgroundColor3 = newColor
			end
		end

		for _, child in ipairs(obj.VerticalContainer:GetChildren()) do
			if child:IsA("Frame") then
				child.BackgroundColor3 = newColor
			end
		end
	end

	self.UpdateTransparency = function(obj, newTransparency)
		obj.Thickness.Transparency = newTransparency
		obj.HorizontalTemplate.BackgroundTransparency = newTransparency
		obj.VerticalTemplate.BackgroundTransparency = newTransparency

		for _, child in ipairs(obj.HorizontalContainer:GetChildren()) do
			if child:IsA("Frame") then
				child.BackgroundTransparency = newTransparency
			end
		end

		for _, child in ipairs(obj.VerticalContainer:GetChildren()) do
			if child:IsA("Frame") then
				child.BackgroundTransparency = newTransparency
			end
		end
	end

	self.Show = function(obj)
		obj.Container.Visible = true
	end

	self.Hide = function(obj)
		obj.Container.Visible = false
	end

	self.Destroy = function(obj)
		if obj.Container then
			obj.Container:Destroy()
		end
	end

	return self
end

return GridComponent]]></ProtectedString>
							<string name="ScriptGuid">{13583692-FB60-4444-8538-23F1A5C56217}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">Grid</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
					<Item class="ModuleScript" referent="RBXA7A6723480A6499686E495791B4FC9A2">
						<Properties>
							<Content name="LinkedSource"><null></null></Content>
							<ProtectedString name="Source"><![CDATA[local WallpaperComponent = {}

local RequireCore = require(script.Parent.Parent.Parent.Parent.Core.RequireCore)
local UI = RequireCore.UIFramework
local State = RequireCore.State

function WallpaperComponent.new(parent)
	local self = {}

	self.Container = UI.new("CanvasGroup", {
		Name = "Wallpaper Tool",
		Size = UDim2.fromScale(1, 1),
		Position = UDim2.fromScale(0.5, 0.5),
		AnchorPoint = Vector2.new(0.5, 0.5),
		BackgroundTransparency = 1,
		Parent = parent
	}, {

		UI.new("ImageLabel", {
			Name = "Wallpaper",
			Size = UDim2.fromScale(1, 1),
			Position = UDim2.fromScale(0.5, 0.5),
			AnchorPoint = Vector2.new(0.5, 0.5),
			BackgroundTransparency = 1,
			Image = "",
		})
	})
	
	self.Show = function(obj)
		obj.Container.Visible = true
	end

	self.Hide = function(obj)
		obj.Container.Visible = false
	end

	self.Destroy = function(obj)
		if obj.Container then
			obj.Container:Destroy()
		end
	end

	return self
end

return WallpaperComponent]]></ProtectedString>
							<string name="ScriptGuid">{38801379-C5ED-4289-9E45-88E56FDD446C}</string>
							<BinaryString name="AttributesSerialize"></BinaryString>
							<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
							<bool name="DefinesCapabilities">false</bool>
							<string name="Name">Wallpaper</string>
							<int64 name="SourceAssetId">-1</int64>
							<BinaryString name="Tags"></BinaryString>
						</Properties>
					</Item>
				</Item>
			</Item>
		</Item>
		<Item class="Folder" referent="RBXBA5CC10FDA88484FA0BCDA058F84788C">
			<Properties>
				<BinaryString name="AttributesSerialize"></BinaryString>
				<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
				<bool name="DefinesCapabilities">false</bool>
				<string name="Name">Core</string>
				<int64 name="SourceAssetId">-1</int64>
				<BinaryString name="Tags"></BinaryString>
			</Properties>
			<Item class="ModuleScript" referent="RBXFC0603E0CD1B4B139D6D6E7AE17952DD">
				<Properties>
					<Content name="LinkedSource"><null></null></Content>
					<ProtectedString name="Source"><![CDATA[local RequireCore = {}

local Paths = {}
local Main = script.Parent.Parent.Module

local function discoverModules(instance)
	for _, child in ipairs(instance:GetChildren()) do
		if child:IsA("ModuleScript") then
			Paths[child.Name] = child
		elseif child:IsA("Folder") then
			discoverModules(child)
		end
	end
end
discoverModules(Main)

local cache = {}

local function loadModule(name)
	if cache[name] then
		return cache[name]
	end

	local path = Paths[name]
	if not path then
		error("[Lume] Mdulo no encontrado: " .. name .. ". Verifique se o nome est correto e se ele existe na pasta Module.")
	end

	local success, module = pcall(require, path)
	if not success then
		error("[Lume] Erro ao carregar " .. name .. ": " .. module)
	end

	cache[name] = module
	return module
end

setmetatable(RequireCore, {
	__index = function(_, key)
		return loadModule(key)
	end
})

function RequireCore:Reload(moduleName)
	cache[moduleName] = nil
	return loadModule(moduleName)
end

function RequireCore:ReloadAll()
	cache = {}
	print("[Lume] Todos os mdulos recarregados")
end

function RequireCore:ListModules()
	local list = {}
	for name, _ in pairs(Paths) do
		table.insert(list, {
			name = name,
			cached = cache[name] ~= nil
		})
	end
	table.sort(list, function(a, b) return a.name < b.name end)
	return list
end

function RequireCore:PreloadEssentials()
	loadModule("State")
	loadModule("Config")
	loadModule("UIFactory")
	print("[Lume] Mdulos essenciais pr-carregados")
end

function RequireCore:RegisterModule(name, modulePath)
	Paths[name] = modulePath
end

function RequireCore:GetCacheStats()
	local count = 0
	for _ in pairs(cache) do
		count = count + 1
	end
	return {
		total = #Paths,
		cached = count,
		ratio = string.format("%.1f%%", (count / #Paths) * 100)
	}
end

RequireCore.Get = function(key)
	return loadModule("State").Get(key)
end

RequireCore.Set = function(key, value)
	return loadModule("State").Set(key, value)
end

RequireCore.Toggle = function(key)
	return loadModule("State").Toggle(key)
end

RequireCore.GetSelection = function()
	return loadModule("SelectionHelper").GetSelectedGUIs()
end

RequireCore.ApplyToSelection = function(callback)
	return loadModule("SelectionHelper").Apply(callback)
end

return RequireCore]]></ProtectedString>
					<string name="ScriptGuid">{D9B51E6B-BAD2-4AB0-AC95-2D861F1B9377}</string>
					<BinaryString name="AttributesSerialize"></BinaryString>
					<SecurityCapabilities name="Capabilities">0</SecurityCapabilities>
					<bool name="DefinesCapabilities">false</bool>
					<string name="Name">RequireCore</string>
					<int64 name="SourceAssetId">-1</int64>
					<BinaryString name="Tags"></BinaryString>
				</Properties>
			</Item>
		</Item>
	</Item>
</roblox>
